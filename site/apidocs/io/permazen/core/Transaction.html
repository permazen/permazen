<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Transaction (Permazen 5.2.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.permazen.core, class: Transaction">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.permazen.core</a></div>
<h1 title="Class Transaction" class="title">Class Transaction</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.permazen.core.Transaction</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DetachedTransaction.html" title="class in io.permazen.core">DetachedTransaction</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@ThreadSafe
</span><span class="modifiers">public class </span><span class="element-name type-name-label">Transaction</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A Permazen <a href="Database.html" title="class in io.permazen.core"><code>Database</code></a> transaction.

 <p>
 Note: this is the lower level, core API for <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a>. In most cases this API
 will only be used indirectly through the higher level <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a>, <a href="../PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a>,
 and <a href="../PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> APIs.

 <p>
 Methods in this class can be divided into the following categories:

 <p>
 <b>Transaction Meta-Data</b>
 <ul>
  <li><a href="#getDatabase()"><code>getDatabase()</code></a> - Get the associated <a href="Database.html" title="class in io.permazen.core"><code>Database</code></a></li>
  <li><a href="#getKVTransaction()"><code>getKVTransaction()</code></a> -  Get the underlying key/value store transaction.</li>
  <li><a href="#getSchema()"><code>getSchema()</code></a> - Get the <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a> that will be used by this transaction</li>
  <li><a href="#getUserObject()"><code>getUserObject()</code></a> - Get user object associated with this instance</li>
  <li><a href="#setUserObject(java.lang.Object)"><code>setUserObject()</code></a> - Set user object associated with this instance</li>
 </ul>

 <p>
 <b>Transaction Lifecycle</b>
 <ul>
  <li><a href="#commit()"><code>commit()</code></a> - Commit transaction</li>
  <li><a href="#rollback()"><code>rollback()</code></a> - Roll back transaction</li>
  <li><a href="#isOpen()"><code>isOpen()</code></a> - Test whether transaction is still open</li>
  <li><a href="#setTimeout(long)"><code>setTimeout()</code></a> - Set transaction timeout</li>
  <li><a href="#setReadOnly(boolean)"><code>setReadOnly()</code></a> - Set transaction to read-only</li>
  <li><a href="#setRollbackOnly()"><code>setRollbackOnly()</code></a> - Set transaction for rollack only</li>
  <li><a href="#addCallback(io.permazen.core.Transaction.Callback)"><code>addCallback()</code></a> - Register a <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> on transaction completion</li>
  <li><a href="#createDetachedTransaction()"><code>createDetachedTransaction()</code></a> - Create a empty, in-memory transaction</li>
  <li><a href="#createSnapshotTransaction()"><code>createSnapshotTransaction()</code></a> - Create an in-memory transaction
      pre-populated with a snapshot of this transaction</li>
  <li><a href="#isDetached()"><code>isDetached()</code></a> - Determine whether this transaction is a detached transaction</li>
 </ul>

 <p>
 <b>Schema Management</b>
 <ul>
  <li><a href="#getObjType(io.permazen.core.ObjId)"><code>getObjType()</code></a> - Get an object's database object type</li>
  <li><a href="#migrateSchema(io.permazen.core.ObjId)"><code>migrateSchema()</code></a> - Migrate an object's schema to match this transaction's schema</li>
  <li><a href="#addSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)"><code>addSchemaChangeListener()</code></a> - Receive notifications about object schema migrations</li>
  <li><a href="#removeSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)"><code>removeSchemaChangeListener()</code></a> - Unregister a schema migration listener</li>
  <li><a href="#getSchemaBundle()"><code>getSchemaBundle()</code></a> - Get all <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a>s registered in the database</li>
  <li><a href="#addSchema(io.permazen.schema.SchemaModel)"><code>addSchema()</code></a> - Register a new <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a> in the database</li>
  <li><a href="#removeSchema(io.permazen.schema.SchemaId)"><code>removeSchema()</code></a> - Remove a registered <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a> from the database</li>
 </ul>

 <p>
 <b>Object Lifecycle</b>
 <ul>
  <li><a href="#create(java.lang.String)"><code>create()</code></a> - Create a database object</li>
  <li><a href="#delete(io.permazen.core.ObjId)"><code>delete()</code></a> - Delete a database object</li>
  <li><a href="#copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)"><code>copy()</code></a> - Copy an object into a (possibly different) transaction</li>
  <li><a href="#addCreateListener(int,io.permazen.core.CreateListener)"><code>addCreateListener()</code></a> - Register a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> for notifications about new objects</li>
  <li><a href="#removeCreateListener(int,io.permazen.core.CreateListener)"><code>removeCreateListener()</code></a> - Unregister a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a></li>
  <li><a href="#addDeleteListener(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.DeleteListener)"><code>addDeleteListener()</code></a> - Register a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> for notifications
      about deleted objects</li>
  <li><a href="#removeDeleteListener(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.DeleteListener)"><code>removeDeleteListener()</code></a> - Unregister a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a></li>
 </ul>

 <p>
 <b>Object Queries</b>
 <ul>
  <li><a href="#getAll()"><code>getAll()</code></a> - Get all objects</li>
  <li><a href="#getAll()"><code>getAll(String)</code></a> - Get all objects of a specific object type</li>
  <li><a href="#exists(io.permazen.core.ObjId)"><code>exists()</code></a> - Test whether a database object exists</li>
 </ul>

 <p>
 <b>Index Queries</b>
 <ul>
  <li><a href="#querySimpleIndex(int)"><code>querySimpleIndex()</code></a> - Query an index on a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>
      or a <a href="ComplexField.html" title="class in io.permazen.core"><code>ComplexField</code></a> sub-field</li>
  <li><a href="#queryListElementIndex(int)"><code>queryListElementIndex()</code></a>
      - Query an index on a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>'s elements, also returning their corresponding list indexes</li>
  <li><a href="#queryMapValueIndex(int)"><code>queryMapValueIndex()</code></a>
      - Query an index on a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>'s values, also returning their corresponding keys</li>
  <li><a href="#queryCompositeIndex2(int)"><code>queryCompositeIndex2()</code></a> - Query a composite index on two fields</li>
  <li><a href="#queryCompositeIndex3(int)"><code>queryCompositeIndex3()</code></a> - Query a composite index on three fields</li>
  <li><a href="#queryCompositeIndex3(int)"><code>queryCompositeIndex4()</code></a> - Query a composite index on four fields</li>
  <!-- COMPOSITE-INDEX -->
  <li><a href="#querySchemaIndex()"><code>querySchemaIndex()</code></a> - Query the index that groups objects by their schema</li>
 </ul>

 <p>
 <b>Field Access</b>
 <ul>
  <li><a href="#readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readSimpleField()</code></a> - Read the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object</li>
  <li><a href="#writeSimpleField(io.permazen.core.ObjId,java.lang.String,java.lang.Object,boolean)"><code>writeSimpleField()</code></a> - Write the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object</li>
  <li><a href="#readCounterField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readCounterField()</code></a> - Read the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object</li>
  <li><a href="#writeCounterField(io.permazen.core.ObjId,java.lang.String,long,boolean)"><code>writeCounterField()</code></a> - Write the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object</li>
  <li><a href="#adjustCounterField(io.permazen.core.ObjId,java.lang.String,long,boolean)"><code>adjustCounterField()</code></a> - Adjust the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object</li>
  <li><a href="#readSetField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readSetField()</code></a> - Access a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> in an object as a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link"><code>NavigableSet</code></a></li>
  <li><a href="#readListField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readListField()</code></a> - Access a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> in an object as a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link"><code>List</code></a></li>
  <li><a href="#readMapField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readMapField()</code></a> - Access a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> in an object as a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link"><code>NavigableMap</code></a></li>
  <li><a href="#getKey(io.permazen.core.ObjId)"><code>getKey(ObjId)</code></a> - Get the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key prefix corresponding to an object</li>
 </ul>

 <p>
 <b>Field Change Notifications</b>
 <ul>
  <li><a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> - Register a <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a> for
      notifications of changes in a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>, as seen through a path of object references</li>
  <li><a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a> - Register a <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a> for
      notifications of changes in a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a>, as seen through a path of object references</li>
  <li><a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a> - Register a <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a> for
      notifications of changes in a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>, as seen through a path of object references</li>
  <li><a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a> - Register a <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a> for
      notifications of changes in a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>, as seen through a path of object references</li>
  <li><a href="#removeSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>removeSimpleFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a></li>
  <li><a href="#removeSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>removeSetFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a></li>
  <li><a href="#removeListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>removeListFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a></li>
  <li><a href="#removeMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>removeMapFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a></li>
 </ul>

 <p>
 <b>Reference Paths</b>
 <ul>
  <li><a href="#followReferencePath(java.util.stream.Stream,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D)"><code>followReferencePath()</code></a> - Find all objects referred to by any element in a given set
      of starting objects through a specified reference path</li>
  <li><a href="#invertReferencePath(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.util.stream.Stream)"><code>invertReferencePath()</code></a> - Find all objects that refer to any element in a given set
      of target objects through a specified reference path</li>
 </ul>

 <p>
 <b>Listener Sets</b>
 <ul>
  <li><a href="#snapshotListeners()"><code>snapshotListeners()</code></a> - Create an immutable snapshot of all registered listeners</li>
  <li><a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> - Bulk registration of listeners from a previously created snapshot</li>
 </ul>

 <p>
 All methods returning a set of values return a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link"><code>NavigableSet</code></a>.
 The <a href="../util/NavigableSets.html" title="class in io.permazen.util"><code>NavigableSets</code></a> utility class provides methods for the efficient <a href="../util/NavigableSets.html#intersection(java.util.Collection)"><code>intersection</code></a>,
 <a href="../util/NavigableSets.html#union(java.util.NavigableSet...)"><code>union</code></a>, <a href="../util/NavigableSets.html#difference(java.util.NavigableSet,java.util.NavigableSet)"><code>difference</code></a>, and
 <a href="../util/NavigableSets.html#symmetricDifference(java.util.NavigableSet,java.util.NavigableSet)"><code>symmetric difference</code></a> of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link"><code>NavigableSet</code></a>s containing the same elements and
 ordering, thereby providing the equivalent of traditional database joins.

 <p>
 Instances of this class are thread safe.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Transaction.Callback.html" class="type-name-link" title="interface in io.permazen.core">Transaction.Callback</a></code></div>
<div class="col-last even-row-color">
<div class="block">Callback interface for notification of transaction completion events.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Transaction.CallbackAdapter.html" class="type-name-link" title="class in io.permazen.core">Transaction.CallbackAdapter</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Adapter class for <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Transaction.ListenerSet.html" class="type-name-link" title="class in io.permazen.core">Transaction.ListenerSet</a></code></div>
<div class="col-last even-row-color">
<div class="block">A fixed collection of listeners (<a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s, <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a>s,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>s, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>s, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>s, and
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>s) that can be efficiently registered on a <a href="Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> all at once.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="https://www.slf4j.org/apidocs/org/slf4j/Logger.html" title="class or interface in org.slf4j" class="external-link">Logger</a></code></div>
<div class="col-second even-row-color"><code><a href="#log" class="member-name-link">log</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addCallback(io.permazen.core.Transaction.Callback)" class="member-name-link">addCallback</a><wbr>(<a href="Transaction.Callback.html" title="interface in io.permazen.core">Transaction.Callback</a>&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Register a transaction <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> to be invoked when this transaction completes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addCreateListener(int,io.permazen.core.CreateListener)" class="member-name-link">addCreateListener</a><wbr>(int&nbsp;storageId,
 <a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> to this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addDeleteListener(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.DeleteListener)" class="member-name-link">addDeleteListener</a><wbr>(int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> to this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)" class="member-name-link">addFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Monitor for changes within this transaction to the specified <a href="Field.html" title="class in io.permazen.core"><code>Field</code></a> as seen through a path of references.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)" class="member-name-link">addListFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Monitor for changes within this transaction to the specified <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> as seen through a path of references.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)" class="member-name-link">addMapFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Monitor for changes within this transaction to the specified <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> as seen through a path of references.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSchema(io.permazen.schema.SchemaModel)" class="member-name-link">addSchema</a><wbr>(<a href="../schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;schemaModel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Manually record the given non-empty schema in the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)" class="member-name-link">addSchemaChangeListener</a><wbr>(int&nbsp;storageId,
 <a href="SchemaChangeListener.html" title="interface in io.permazen.core">SchemaChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a> to this transaction that listens for schema migrations
 of the specified object type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)" class="member-name-link">addSetFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Monitor for changes within this transaction to the specified <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> as seen through a path of references.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)" class="member-name-link">addSimpleFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Monitor for changes within this transaction of the value of the given field, as seen through a path of references.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#adjustCounterField(io.permazen.core.ObjId,java.lang.String,long,boolean)" class="member-name-link">adjustCounterField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;offset,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adjust the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object by some amount, optionally updating the object's schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit()" class="member-name-link">commit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commit this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)" class="member-name-link">copy</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;source,
 <a href="Transaction.html" title="class in io.permazen.core">Transaction</a>&nbsp;dest,
 boolean&nbsp;migrateSchema,
 boolean&nbsp;notifyListeners,
 <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ReferenceField.html" title="class in io.permazen.core">ReferenceField</a>&gt;&nbsp;deletedAssignments,
 <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;objectIdMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Copy an object into a (possibly different) transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(io.permazen.core.ObjId)" class="member-name-link">create</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new object with the given object ID, if it doesn't already exist.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(io.permazen.core.ObjId,io.permazen.schema.SchemaId)" class="member-name-link">create</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="../schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>&nbsp;schemaId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new object with the given object ID, if it doesn't already exist.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(java.lang.String)" class="member-name-link">create</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new object with a randomly assigned object ID and having the given type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(java.lang.String,io.permazen.schema.SchemaId)" class="member-name-link">create</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName,
 <a href="../schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>&nbsp;schemaId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new object with a randomly assigned object ID and having the given type and schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DetachedTransaction.html" title="class in io.permazen.core">DetachedTransaction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createDetachedTransaction()" class="member-name-link">createDetachedTransaction</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create an in-memory detached transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DetachedTransaction.html" title="class in io.permazen.core">DetachedTransaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSnapshotTransaction()" class="member-name-link">createSnapshotTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a detached transaction pre-populated with a snapshot of this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(io.permazen.core.ObjId)" class="member-name-link">delete</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Delete an object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#exists(io.permazen.core.ObjId)" class="member-name-link">exists</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine if an object exists.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#followReferencePath(java.util.stream.Stream,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D)" class="member-name-link">followReferencePath</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;startObjects,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find all objects referred to by any object in the given start set through the specified path of references.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#generateId(java.lang.String)" class="member-name-link">generateId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generate a random, unused <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> for the given object type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAll()" class="member-name-link">getAll</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get all objects in the database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAll(java.lang.String)" class="member-name-link">getAll</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get all objects whose object type has the specified name.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Database.html" title="class in io.permazen.core">Database</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDatabase()" class="member-name-link">getDatabase</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the database with which this transaction is associated.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFieldDescription(io.permazen.core.ObjId,java.lang.String)" class="member-name-link">getFieldDescription</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a description of the given object field.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../util/ByteData.html" title="class in io.permazen.util">ByteData</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKey(io.permazen.core.ObjId)" class="member-name-link">getKey</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the key prefix in the underlying key/value store corresponding to the specified object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKVTransaction()" class="member-name-link">getKVTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the underlying key/value store transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getObjDescription(io.permazen.core.ObjId)" class="member-name-link">getObjDescription</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a description of the given object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ObjType.html" title="class in io.permazen.core">ObjType</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getObjType(io.permazen.core.ObjId)" class="member-name-link">getObjType</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the given object's <a href="ObjType.html" title="class in io.permazen.core"><code>ObjType</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Schema.html" title="class in io.permazen.core">Schema</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSchema()" class="member-name-link">getSchema</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the database schema associated with this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SchemaBundle.html" title="class in io.permazen.core">SchemaBundle</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSchemaBundle()" class="member-name-link">getSchemaBundle</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the database's schema bundle</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTypeDescription(io.permazen.core.ObjId)" class="member-name-link">getTypeDescription</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a description of the given object's type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTypeName(int)" class="member-name-link">getTypeName</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the object type assigned to the given storage ID.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserObject()" class="member-name-link">getUserObject</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the object with this instance by <a href="#setUserObject(java.lang.Object)"><code>setUserObject()</code></a>, if any.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invertReferencePath(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.util.stream.Stream)" class="member-name-link">invertReferencePath</a><wbr>(int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;targetObjects)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find all objects that refer to any object in the given target set through the specified path of references.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDetached()" class="member-name-link">isDetached</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this instance is a <a href="DetachedTransaction.html" title="class in io.permazen.core"><code>DetachedTransaction</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOpen()" class="member-name-link">isOpen</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this transaction is still open.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isReadOnly()" class="member-name-link">isReadOnly</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this transaction is read-only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRollbackOnly()" class="member-name-link">isRollbackOnly</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this transaction is marked rollback only.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#migrateSchema(io.permazen.core.ObjId)" class="member-name-link">migrateSchema</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Migrate the specified object, if necessary, to <a href="#getSchema()">the schema associated with this transaction</a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,<wbr>?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryCompositeIndex2(int)" class="member-name-link">queryCompositeIndex2</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query a <a href="CompositeIndex.html" title="class in io.permazen.core"><code>CompositeIndex</code></a> on two fields to find all value tuples stored in the corresponding
 field tuple and, for each value tuple, the set of all objects having those values in those fields.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex3.html" title="class in io.permazen.core">CoreIndex3</a>&lt;?,<wbr>?,<wbr>?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryCompositeIndex3(int)" class="member-name-link">queryCompositeIndex3</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query a <a href="CompositeIndex.html" title="class in io.permazen.core"><code>CompositeIndex</code></a> on three fields to find all value tuples stored in the corresponding
 field tuple and, for each value tuple, the set of all objects having those values in those fields.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex4.html" title="class in io.permazen.core">CoreIndex4</a>&lt;?,<wbr>?,<wbr>?,<wbr>?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryCompositeIndex4(int)" class="member-name-link">queryCompositeIndex4</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query a <a href="CompositeIndex.html" title="class in io.permazen.core"><code>CompositeIndex</code></a> on four fields to find all value tuples stored in the corresponding
 field tuple and, for each value tuple, the set of all objects having those values in those fields.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="AbstractCoreIndex.html" title="class in io.permazen.core">AbstractCoreIndex</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryIndex(int)" class="member-name-link">queryIndex</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query any simple or composite index.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryListElementIndex(int)" class="member-name-link">queryListElementIndex</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query a <a href="ListElementIndex.html" title="class in io.permazen.core"><code>ListElementIndex</code></a> to find all values stored in some list field and, for each value,
 the set of all objects having that value as an element in the list and the corresponding list index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,<wbr>?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryMapValueIndex(int)" class="member-name-link">queryMapValueIndex</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query a <a href="MapValueIndex.html" title="class in io.permazen.core"><code>MapValueIndex</code></a> to find all values stored in some map field and, for each value,
 the set of all objects having that value as a value in the map and the corresponding key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex1.html" title="class in io.permazen.core">CoreIndex1</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#querySchemaIndex()" class="member-name-link">querySchemaIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query objects by schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CoreIndex1.html" title="class in io.permazen.core">CoreIndex1</a>&lt;?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#querySimpleIndex(int)" class="member-name-link">querySimpleIndex</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query a <a href="SimpleIndex.html" title="class in io.permazen.core"><code>SimpleIndex</code></a> to find all values stored in some field and, for each value,
 the set of all objects having that value in the field.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readCounterField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readCounterField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> from an object, optionally updating the object's schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readListField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readListField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Access a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> associated with an object, optionally updating the object's schema.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;?,<wbr>?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readMapField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readMapField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Access a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> associated with an object, optionally updating the object's schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readSetField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readSetField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Access a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> associated with an object, optionally updating the object's schema.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readSimpleField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> from an object, optionally migrating the object's schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeCreateListener(int,io.permazen.core.CreateListener)" class="member-name-link">removeCreateListener</a><wbr>(int&nbsp;storageId,
 <a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove an <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> from this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeDeleteListener(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.DeleteListener)" class="member-name-link">removeDeleteListener</a><wbr>(int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> from this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)" class="member-name-link">removeFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>,
 <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>,
 <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>,
 <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>,
 or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)" class="member-name-link">removeListFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a field monitor previously added via <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)" class="member-name-link">removeMapFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a field monitor previously added via <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSchema(io.permazen.schema.SchemaId)" class="member-name-link">removeSchema</a><wbr>(<a href="../schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>&nbsp;schemaId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Manually remove the given schema from the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)" class="member-name-link">removeSchemaChangeListener</a><wbr>(int&nbsp;storageId,
 <a href="SchemaChangeListener.html" title="interface in io.permazen.core">SchemaChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a> from this transaction previously registered via
 <a href="#addSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)"><code>addSchemaChangeListener()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)" class="member-name-link">removeSetFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a field monitor previously added via <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)" class="member-name-link">removeSimpleFieldChangeListener</a><wbr>(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollback()" class="member-name-link">rollback</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Roll back this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setListeners(io.permazen.core.Transaction.ListenerSet)" class="member-name-link">setListeners</a><wbr>(<a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a>&nbsp;listeners)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Apply a snapshot created via <a href="#snapshotListeners()"><code>snapshotListeners()</code></a> to this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setReadOnly(boolean)" class="member-name-link">setReadOnly</a><wbr>(boolean&nbsp;readOnly)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enable or disable read-only mode.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRollbackOnly()" class="member-name-link">setRollbackOnly</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Mark this transaction for rollback only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setTimeout(long)" class="member-name-link">setTimeout</a><wbr>(long&nbsp;timeout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change the timeout for this transaction from its default value (optional operation).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setUserObject(java.lang.Object)" class="member-name-link">setUserObject</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Associate an arbitrary object with this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#snapshotListeners()" class="member-name-link">snapshotListeners</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a read-only snapshot of all (<a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s, <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a>s,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>s, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>s, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>s, and
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>s currently registered on this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withWeakConsistency(java.lang.Runnable)" class="member-name-link">withWeakConsistency</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Apply weaker transaction consistency while performing the given action, if supported.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeCounterField(io.permazen.core.ObjId,java.lang.String,long,boolean)" class="member-name-link">writeCounterField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;value,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object, optionally updating the object's schema.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeSimpleField(io.permazen.core.ObjId,java.lang.String,java.lang.Object,boolean)" class="member-name-link">writeSimpleField</a><wbr>(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object, optionally updating the object's schema.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="log">
<h3>log</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://www.slf4j.org/apidocs/org/slf4j/Logger.html" title="class or interface in org.slf4j" class="external-link">Logger</a></span>&nbsp;<span class="element-name">log</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getDatabase()">
<h3>getDatabase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Database.html" title="class in io.permazen.core">Database</a></span>&nbsp;<span class="element-name">getDatabase</span>()</div>
<div class="block">Get the database with which this transaction is associated.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>associated database</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSchemaBundle()">
<h3>getSchemaBundle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SchemaBundle.html" title="class in io.permazen.core">SchemaBundle</a></span>&nbsp;<span class="element-name">getSchemaBundle</span>()</div>
<div class="block">Get the database's schema bundle

 <p>
 This returns all of the schemas currently recorded in the database as seen by this transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>database schema bundle</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSchema()">
<h3>getSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Schema.html" title="class in io.permazen.core">Schema</a></span>&nbsp;<span class="element-name">getSchema</span>()</div>
<div class="block">Get the database schema associated with this transaction.

 <p>
 This is the target schema for newly created and <a href="#migrateSchema(io.permazen.core.ObjId)">migrated</a> objects.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this transaction's schema</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getKVTransaction()">
<h3>getKVTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a></span>&nbsp;<span class="element-name">getKVTransaction</span>()</div>
<div class="block">Get the underlying key/value store transaction.

 <p>
 <b>Warning:</b> making changes directly to the key/value store directly is not supported.
 If changes are made, future behavior is undefined.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the associated key/value transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSchema(io.permazen.schema.SchemaModel)">
<h3>addSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addSchema</span><wbr><span class="parameters">(<a href="../schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;schemaModel)</span></div>
<div class="block">Manually record the given non-empty schema in the database.

 <p>
 If successful, <a href="#getSchemaBundle()">this transaction's schema bundle</a> will be updated.

 <p>
 This transaction's current schema does not change.

 <p>
 This method is dangerous and should normally not be used except by low-level tools.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the schema was added, false if it was already in the schema bundle</dd>
<dt>Throws:</dt>
<dd><code><a href="InvalidSchemaException.html" title="class in io.permazen.core">InvalidSchemaException</a></code> - if <code>schemaModel</code> is invalid (i.e., does not pass validation checks)</dd>
<dd><code><a href="SchemaMismatchException.html" title="class in io.permazen.core">SchemaMismatchException</a></code> - if <code>schemaModel</code> has explicit storage ID assignments
  that conflict with storage ID assignments already recorded in the database</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>schemaModel</code> is empty</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>schemaModel</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSchema(io.permazen.schema.SchemaId)">
<h3>removeSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">removeSchema</span><wbr><span class="parameters">(<a href="../schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>&nbsp;schemaId)</span></div>
<div class="block">Manually remove the given schema from the database.

 <p>
 If successful, <a href="#getSchemaBundle()">this transaction's schema bundle</a> will be updated.

 <p>
 If the removed schema is also this transaction's current schema, then this transaction's schema reverts to the
 empty schema. The empty schema itself is never recorded in a database, so it will never be found by this method.

 <p>
 This method is dangerous and should normally not be used except by low-level tools.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the schema was removed, false if it was not found</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any objects in the schema still exist</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>schemaId</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit()">
<h3>commit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">commit</span>()</div>
<div class="block">Commit this transaction.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="../kv/RetryKVTransactionException.html" title="class in io.permazen.kv">RetryKVTransactionException</a></code> - from <a href="../kv/KVTransaction.html#commit()"><code>KVTransaction.commit()</code></a></dd>
<dd><code><a href="RollbackOnlyTransactionException.html" title="class in io.permazen.core">RollbackOnlyTransactionException</a></code> - if this instance has been <a href="#setRollbackOnly()">marked</a> rollback only;
  this instance will be automatically rolled back</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollback()">
<h3>rollback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rollback</span>()</div>
<div class="block">Roll back this transaction.

 <p>
 This method may be invoked at any time, even after a previous invocation of
 <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>, in which case the invocation will be ignored.</div>
</section>
</li>
<li>
<section class="detail" id="isOpen()">
<h3>isOpen</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOpen</span>()</div>
<div class="block">Determine whether this transaction is still open.

 <p>
 In other words, other methods in this class won't throw <a href="StaleTransactionException.html" title="class in io.permazen.core"><code>StaleTransactionException</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is still usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isReadOnly()">
<h3>isReadOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isReadOnly</span>()</div>
<div class="block">Determine whether this transaction is read-only.

 <p>
 This method just invokes <a href="../kv/KVTransaction.html#isReadOnly()"><code>KVTransaction.isReadOnly()</code></a> on the underlying key/value transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is read-only</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setReadOnly(boolean)">
<h3>setReadOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setReadOnly</span><wbr><span class="parameters">(boolean&nbsp;readOnly)</span></div>
<div class="block">Enable or disable read-only mode.

 <p>
 Read-only transactions allow mutations, but all changes are discarded on <a href="#commit()"><code>commit()</code></a>.
 Registered <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a>s are still processed normally.

 <p>
 This method just invokes <a href="../kv/KVTransaction.html#setReadOnly(boolean)"><code>KVTransaction.setReadOnly(boolean)</code></a> on the underlying key/value transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>readOnly</code> - read-only setting</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isRollbackOnly()">
<h3>isRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isRollbackOnly</span>()</div>
<div class="block">Determine whether this transaction is marked rollback only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is marked for rollback only</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRollbackOnly()">
<h3>setRollbackOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRollbackOnly</span>()</div>
<div class="block">Mark this transaction for rollback only.

 <p>
 Once a transaction is marked rollback only, any subsequent <a href="#commit()"><code>commit()</code></a> attempt will throw an exception.</div>
</section>
</li>
<li>
<section class="detail" id="setTimeout(long)">
<h3>setTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setTimeout</span><wbr><span class="parameters">(long&nbsp;timeout)</span></div>
<div class="block">Change the timeout for this transaction from its default value (optional operation).

 <p>
 This method just invokes <a href="../kv/KVTransaction.html#setTimeout(long)"><code>KVTransaction.setTimeout(long)</code></a> on the underlying key/value transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - transaction timeout in milliseconds, or zero for unlimited</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if this transaction does not support timeouts</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>timeout</code> is negative</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addCallback(io.permazen.core.Transaction.Callback)">
<h3>addCallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addCallback</span><wbr><span class="parameters">(<a href="Transaction.Callback.html" title="interface in io.permazen.core">Transaction.Callback</a>&nbsp;callback)</span></div>
<div class="block">Register a transaction <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> to be invoked when this transaction completes.

 <p>
 Callbacks will be invoked in the order they are registered, but <i>duplicate registrations are ignored</i>
 (based on comparison via <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link"><code>Object.equals(java.lang.Object)</code></a>).

 <p>
 Note: if you are using Spring for transaction demarcation (via <a href="../spring/PermazenTransactionManager.html" title="class in io.permazen.spring"><code>PermazenTransactionManager</code></a>),
 then you may also use Spring's
 <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/support/TransactionSynchronizationManager.html#registerSynchronization(org.springframework.transaction.support.TransactionSynchronization)" title="class or interface in org.springframework.transaction.support" class="external-link"><code>TransactionSynchronizationManager.registerSynchronization()</code></a> instead of this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callback</code> - callback to invoke</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>callback</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createDetachedTransaction()">
<h3>createDetachedTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DetachedTransaction.html" title="class in io.permazen.core">DetachedTransaction</a></span>&nbsp;<span class="element-name">createDetachedTransaction</span>()</div>
<div class="block">Create an in-memory detached transaction.

 <p>
 The detached transaction will be initialized with the same schema meta-data as this instance but will be otherwise empty
 (i.e., contain no objects). It can be used as a destination for in-memory copies of objects made via <a href="#copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)"><code>copy()</code></a>.

 <p>
 The returned <a href="DetachedTransaction.html" title="class in io.permazen.core"><code>DetachedTransaction</code></a> does not support <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>.
 It can be used indefinitely after this transaction closes, but it must be <a href="DetachedTransaction.html#close()"><code>close()</code></a>'d
 when no longer needed to release any associated resources.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>empty in-memory detached transaction with compatible schema information</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="Database.html#createDetachedTransaction(io.permazen.kv.KVStore,io.permazen.core.TransactionConfig)"><code>Database.createDetachedTransaction()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSnapshotTransaction()">
<h3>createSnapshotTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DetachedTransaction.html" title="class in io.permazen.core">DetachedTransaction</a></span>&nbsp;<span class="element-name">createSnapshotTransaction</span>()</div>
<div class="block">Create a detached transaction pre-populated with a snapshot of this transaction.

 <p>
 The returned transaction will have the same schema meta-data and object content as this instance.
 It will be a mutable transaction, but being detached, changes can't be committed.

 <p>
 This method requires the underlying key/value transaction to support <a href="../kv/KVTransaction.html#readOnlySnapshot()"><code>KVTransaction.readOnlySnapshot()</code></a>.
 As with any other information extracted from this transaction, the returned content is not guaranteed to be
 valid until this transaction has been successfully committed.

 <p>
 The returned <a href="DetachedTransaction.html" title="class in io.permazen.core"><code>DetachedTransaction</code></a> does not support <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>.
 It can be used indefinitely after this transaction closes, but it must be <a href="DetachedTransaction.html#close()"><code>close()</code></a>'d
 when no longer needed to release any associated resources.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>in-memory copy of this transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if they underlying key/value transaction doesn't support
  <a href="../kv/KVTransaction.html#readOnlySnapshot()"><code>KVTransaction.readOnlySnapshot()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDetached()">
<h3>isDetached</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDetached</span>()</div>
<div class="block">Determine whether this instance is a <a href="DetachedTransaction.html" title="class in io.permazen.core"><code>DetachedTransaction</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is a <a href="DetachedTransaction.html" title="class in io.permazen.core"><code>DetachedTransaction</code></a>, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withWeakConsistency(java.lang.Runnable)">
<h3>withWeakConsistency</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">withWeakConsistency</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</span></div>
<div class="block">Apply weaker transaction consistency while performing the given action, if supported.

 <p>
 Some key/value implementations support reads with weaker consistency guarantees, where reads generate fewer
 transaction conflicts in exchange for returning possibly out-of-date information.

 <p>
 Depending on the key/value implementation, in this mode writes may not be supported; instead, they would
 generate a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a> or just be ignored.

 <p>
 The weaker consistency is only applied for the current thread, and it ends when this method returns.

 <p>
 <b>This method is for experts only</b>; inappropriate use can result in a corrupted database.
 In general, after this method returns you should not make any changes to the database that are
 based on any information read by the <code>action</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - the action to perform</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(io.permazen.core.ObjId)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Create a new object with the given object ID, if it doesn't already exist.

 <p>
 If the object already exists, nothing happens.

 <p>
 If the object doesn't already exist, all fields are set to their default values and the object's
 schema is set to the <a href="#getSchema()">schema associated with this transaction</a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dt>Returns:</dt>
<dd>true if the object did not exist and was created, false if the object already existed</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> does not correspond to an object type in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(io.permazen.core.ObjId,io.permazen.schema.SchemaId)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="../schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>&nbsp;schemaId)</span></div>
<div class="block">Create a new object with the given object ID, if it doesn't already exist. If it does exist, nothing happens.

 <p>
 If the object doesn't already exist, the object's schema is set to the specified schema and all fields are set
 to their default values.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dd><code>schemaId</code> - the schema to use for the newly created object</dd>
<dt>Returns:</dt>
<dd>true if the object did not exist and was created, false if the object already existed</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> does not correspond to a known object type in the specified schema</dd>
<dd><code><a href="InvalidSchemaException.html" title="class in io.permazen.core">InvalidSchemaException</a></code> - if <code>schemaId</code> is invalid</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>schemaId</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(java.lang.String)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</span></div>
<div class="block">Create a new object with a randomly assigned object ID and having the given type.

 <p>
 All fields will be set to their default values.
 The object's schema will be set to <a href="#getSchema()">the associated with this transaction</a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>typeName</code> - object type name</dd>
<dt>Returns:</dt>
<dd>object id of newly created object</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>typeName</code> does not correspond to a known object type in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>typeName</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(java.lang.String,io.permazen.schema.SchemaId)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName,
 <a href="../schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>&nbsp;schemaId)</span></div>
<div class="block">Create a new object with a randomly assigned object ID and having the given type and schema.

 <p>
 All fields will be set to their default values.
 The object's schema will be set to the specified schema.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>typeName</code> - object type name</dd>
<dd><code>schemaId</code> - ID of the schema to use for the newly created object</dd>
<dt>Returns:</dt>
<dd>object id of newly created object</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>typeName</code> does not correspond to a known object type in the specified schema</dd>
<dd><code><a href="InvalidSchemaException.html" title="class in io.permazen.core">InvalidSchemaException</a></code> - if <code>schemaId</code> is invalid</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>schemaId</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateId(java.lang.String)">
<h3>generateId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></span>&nbsp;<span class="element-name">generateId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</span></div>
<div class="block">Generate a random, unused <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> for the given object type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>typeName</code> - object type name</dd>
<dt>Returns:</dt>
<dd>random unassigned object id</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>typeName</code> does not correspond to any known object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>typeName</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(io.permazen.core.ObjId)">
<h3>delete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Delete an object. Does nothing if object does not exist (e.g., has already been deleted).

 <p>
 This method does <i>not</i> change the object's schema if it is different from this transaction's schema.

 <p><b>Notifications</b></p>

 <p>
 If the object exists, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>'s will be notified synchronously by this method before the object
 is actually deleted. Therefore it's possible for a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> to (perhaps indirectly) re-entrantly
 invoke this method with the same <code>id</code>. In such cases, false is returned matching <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s
 are not (redundantly) notified.

 <p><b>Secondary Deletions</b></p>

 <p>
 Deleting an object can trigger additional automatic secondary deletions. Specifically,
 (a) if the object contains reference fields with forward delete cascade enabled,
 any objects referred to through those fields will also be deleted, and (b) if the object is referred to by any other objects
 through fields configured for <a href="DeleteAction.html#DELETE"><code>DeleteAction.DELETE</code></a>, those referring objects will be deleted.

 <p>
 In any case, deletions occur one at a time, and only after an object is actually deleted do any associated secondary
 deletions take place. However, the order in which secondary deletions occur is unspecified.
 For an example of where this ordering matters, consider an object <code>A</code> referring to objects
 <code>B</code> and <code>C</code> with delete cascading references, where B also refers to C with a <a href="DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a>
 reference. Then if <code>A</code> is deleted, it's indeterminate whether a <a href="ReferencedObjectException.html" title="class in io.permazen.core"><code>ReferencedObjectException</code></a> will be thrown,
 as that depends on whether <code>B</code> or <code>C</code> is deleted first (with the answer being, respectively, no and yes).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object to delete</dd>
<dt>Returns:</dt>
<dd>true if object was found and deleted, false if object does not exist or this method is
  being invoked re-entrantly with the same <code>id</code></dd>
<dt>Throws:</dt>
<dd><code><a href="ReferencedObjectException.html" title="class in io.permazen.core">ReferencedObjectException</a></code> - if the object is referenced by some other object
  through a reference field configured for <a href="DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="exists(io.permazen.core.ObjId)">
<h3>exists</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">exists</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Determine if an object exists.

 <p>
 This method does <i>not</i> change the object's schema if it exists and is different from this transaction's schema.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object to find</dd>
<dt>Returns:</dt>
<dd>true if object was found, false if object was not found, or if <code>id</code> specifies an unknown object type</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)">
<h3>copy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">copy</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;source,
 <a href="Transaction.html" title="class in io.permazen.core">Transaction</a>&nbsp;dest,
 boolean&nbsp;migrateSchema,
 boolean&nbsp;notifyListeners,
 <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ReferenceField.html" title="class in io.permazen.core">ReferenceField</a>&gt;&nbsp;deletedAssignments,
 <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;objectIdMap)</span></div>
<div class="block">Copy an object into a (possibly different) transaction.

 <p>
 This copies the object, including all of its field data, to <code>dest</code>. If the object already exists in <code>dest</code>,
 the existing copy is completely replaced, otherwise it will be created automatically.

 <p><b>Object Schemas</b></p>

 <p>
 In order to perform the copy, <code>source</code>'s schema must also already exist in <code>dest</code>. If it does not,
 a <code>SchemaMismatchException</code> is thrown.

 <p>
 But first, if <a href="#migrateSchema(io.permazen.core.ObjId)"><code>migrateSchema(io.permazen.core.ObjId)</code></a> is true, <code>source</code>'s schema is first migrated to match this transaction,
 if needed.

 <p><b>Notifications</b></p>

 <p>
 <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s in the destination transaction will be notified if the target object must be created, and
 field change listeners in the destination transaction will be notified for non-trivial changes to the target object's
 fields as each field is copied. These notifications may be disabled by setting <code>notifyListeners</code> to false.

 <p>
 Matching <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a>s in this transaction are notified if/when <code>source</code> is migrated due
 to <a href="#migrateSchema(io.permazen.core.ObjId)"><code>migrateSchema(io.permazen.core.ObjId)</code></a> being true.

 <p><b>Deleted Assignments</b></p>

 <p>
 If a reference field configured to <a href="ReferenceField.html#isAllowDeleted()">disallow deleted assignments</a> is copied,
 but the referenced object does not exist in <code>dest</code>, then a <a href="DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a> is thrown and no copy
 is performed. However, this presents an impossible chicken-and-egg situation when multiple objects need to be copied
 and there are cycles in the graph of references between objects.

 <p>
 To handle that situation, if <code>deletedAssignments</code> is non-null, then instead of triggering an exception,
 illegal references to deleted objects are collected in <code>deletedAssignments</code>; each entry maps a deleted object
 to (some) referring field in the copied object. This lets the caller to decide what to do about them.

 <p><b>Object ID Remapping</b></p>

 <p>
 By default, the <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> of <code>source</code> is also the <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> of the target object in <code>dest</code>,
 and all reference fields are copied as-is. The optional <code>objectIdMap</code> allows the caller to remap these
 <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>s arbitrarily, as long as the <a href="ObjId.html#getStorageId()">implied object types</a> are the same.
 If <code>objectIdMap</code> maps an <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> to null, then a new, unused <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> in <code>dest</code> will be
 chosen and updated in <code>objectIdMap</code>.

 <p><b>Return Value</b></p>

 <p>
 If <code>dest</code> is this instance, and the <code>source</code> is not remapped, no fields are changed and false is
 returned, otherwise true is returned. Even if false is returned, a schema migration can still occur
 (if <code>migrateSchema</code> is true), and deleted assignment checks are still applied.

 <p><b>Deadlock Avoidance</b></p>

 <p>
 If two threads attempt to copy objects between the same two transactions at the same time but in opposite directions,
 deadlock can result.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>source</code> - object ID of the source object in this transaction</dd>
<dd><code>dest</code> - destination for the copy of <code>source</code> (possibly this transaction)</dd>
<dd><code>migrateSchema</code> - whether to migrate <code>source</code>'s schema (if necessary) to match this transaction prior to the copy</dd>
<dd><code>notifyListeners</code> - whether to notify <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s and field change listeners in <code>dest</code></dd>
<dd><code>deletedAssignments</code> - if not null, where to collect assignments to deleted objects instead of throwing
  <a href="DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a>s; the map key is the deleted object and the map value is some referring field</dd>
<dd><code>objectIdMap</code> - if not null, a remapping of object ID's in this transaction to object ID's in <code>dest</code></dd>
<dt>Returns:</dt>
<dd>false if the target object already existed in <code>dest</code>, true if it was newly created</dd>
<dt>Throws:</dt>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>source</code> exists in this transaction</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if <code>deletedAssignments</code> is null, and a non-null reference field in <code>source</code>
  that disallows deleted assignments contains a reference to an object that does not exist in <code>dest</code></dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>source</code> or an <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> in <code>objectIdMap</code> specifies an unknown object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>objectIdMap</code> maps <code>source</code> to a different object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>objectIdMap</code> maps the value of a reference field to an incompatible object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction or <code>dest</code> is no longer usable</dd>
<dd><code><a href="SchemaMismatchException.html" title="class in io.permazen.core">SchemaMismatchException</a></code> - if <code>source</code>'s schema does not exist in <code>dest</code></dd>
<dd><code><a href="SchemaMismatchException.html" title="class in io.permazen.core">SchemaMismatchException</a></code> - if the object's ID in <code>dest</code> does not match the assigned storage ID for its type</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addCreateListener(int,io.permazen.core.CreateListener)">
<h3>addCreateListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addCreateListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 <a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</span></div>
<div class="block">Add a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> to this transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the object type to listen for creation</dd>
<dd><code>listener</code> - the listener to add</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> specifies an unknown object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeCreateListener(int,io.permazen.core.CreateListener)">
<h3>removeCreateListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeCreateListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 <a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</span></div>
<div class="block">Remove an <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> from this transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the object type to listen for creation</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> specifies an unknown object type</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addDeleteListener(int[],io.permazen.kv.KeyRanges[],io.permazen.core.DeleteListener)">
<h3>addDeleteListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addDeleteListener</span><wbr><span class="parameters">(int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</span></div>
<div class="block">Add a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> to this transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor for deletion;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on object deletion</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeDeleteListener(int[],io.permazen.kv.KeyRanges[],io.permazen.core.DeleteListener)">
<h3>removeDeleteListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeDeleteListener</span><wbr><span class="parameters">(int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</span></div>
<div class="block">Remove a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> from this transaction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on object deletion</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getObjType(io.permazen.core.ObjId)">
<h3>getObjType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ObjType.html" title="class in io.permazen.core">ObjType</a></span>&nbsp;<span class="element-name">getObjType</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Get the given object's <a href="ObjType.html" title="class in io.permazen.core"><code>ObjType</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object id</dd>
<dt>Returns:</dt>
<dd>object's object type</dd>
<dt>Throws:</dt>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no such object exists</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTypeName(int)">
<h3>getTypeName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getTypeName</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Get the object type assigned to the given storage ID.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - object type storage ID</dd>
<dt>Returns:</dt>
<dd>the corresponding object type name</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> specifies an unknown object type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="migrateSchema(io.permazen.core.ObjId)">
<h3>migrateSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">migrateSchema</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Migrate the specified object, if necessary, to <a href="#getSchema()">the schema associated with this transaction</a>.

 <p>
 If a schema change occurs, any matching <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a>s will be notified prior
 to this method returning.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object to migrate</dd>
<dt>Returns:</dt>
<dd>true if the object's schema was migrated, false if it's schema already matched</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if the object's type is not defined in this transaction's schema</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="querySchemaIndex()">
<h3>querySchemaIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex1.html" title="class in io.permazen.core">CoreIndex1</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">querySchemaIndex</span>()</div>
<div class="block">Query objects by schema.

 <p>
 This returns all objects in the database grouped by <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a>. The keys in the returned
 map are <a href="Schema.html#getSchemaIndex()">schema indexes</a>; use <a href="#getSchemaBundle()"><code>getSchemaBundle()</code></a> and then
 <a href="SchemaBundle.html#getSchemasBySchemaIndex()"><code>SchemaBundle.getSchemasBySchemaIndex()</code></a> to access the corresponding <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a>s.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>read-only, real-time view of all database objects grouped by schema</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)">
<h3>addSchemaChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addSchemaChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 <a href="SchemaChangeListener.html" title="interface in io.permazen.core">SchemaChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Add a <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a> to this transaction that listens for schema migrations
 of the specified object type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the object type to listen to for schema changes</dd>
<dd><code>listener</code> - the listener to add</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> specifies an unknown object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)">
<h3>removeSchemaChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeSchemaChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 <a href="SchemaChangeListener.html" title="interface in io.permazen.core">SchemaChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Remove a <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a> from this transaction previously registered via
 <a href="#addSchemaChangeListener(int,io.permazen.core.SchemaChangeListener)"><code>addSchemaChangeListener()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the object type to listen to for schema changes</dd>
<dd><code>listener</code> - the listener to remove</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> specifies an unknown object type</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAll()">
<h3>getAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">getAll</span>()</div>
<div class="block">Get all objects in the database.

 <p>
 The returned set includes objects from all schemas. Use <a href="#querySchemaIndex()"><code>querySchemaIndex()</code></a> to access objects with a specific schema.

 <p>
 The returned set is mutable, with the exception that <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#add(E)" title="class or interface in java.util" class="external-link"><code>add()</code></a> is not supported.
 Deleting an element results in <a href="#delete(io.permazen.core.ObjId)">deleting</a> the corresponding object.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a live view of all database objects</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getAll(java.lang.String)"><code>getAll(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAll(java.lang.String)">
<h3>getAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">getAll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;typeName)</span></div>
<div class="block">Get all objects whose object type has the specified name.

 <p>
 The returned set includes objects of the specified type from all schemas in the database.
 The returned set is mutable, with the exception that <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#add(E)" title="class or interface in java.util" class="external-link"><code>add()</code></a> is not supported.
 Deleting an element results in <a href="#delete(io.permazen.core.ObjId)">deleting</a> the corresponding object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>typeName</code> - object type name</dd>
<dt>Returns:</dt>
<dd>a live view of all database objects having the specified type</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>typeName</code> does not correspond to any known object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>typeName</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getAll()"><code>getAll()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readSimpleField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">readSimpleField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> from an object, optionally migrating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary, prior to reading the field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>value of the field in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeSimpleField(io.permazen.core.ObjId,java.lang.String,java.lang.Object,boolean)">
<h3>writeSimpleField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeSimpleField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Change the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary, prior to writing the field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>value</code> - new value for the field</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>value</code> is not an appropriate value for the field</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTypeDescription(io.permazen.core.ObjId)">
<h3>getTypeDescription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getTypeDescription</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Get a description of the given object's type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dt>Returns:</dt>
<dd>textual description of the specified object's type</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getObjDescription(io.permazen.core.ObjId)">
<h3>getObjDescription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getObjDescription</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Get a description of the given object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dt>Returns:</dt>
<dd>textual description of the specified object</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFieldDescription(io.permazen.core.ObjId,java.lang.String)">
<h3>getFieldDescription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getFieldDescription</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Get a description of the given object field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dd><code>name</code> - field's name</dd>
<dt>Returns:</dt>
<dd>textual description of the specified object field</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>name</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readCounterField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readCounterField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">readCounterField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> from an object, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary, prior to reading the field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>value of the counter in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeCounterField(io.permazen.core.ObjId,java.lang.String,long,boolean)">
<h3>writeCounterField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeCounterField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;value,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Set the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary, prior to writing the field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>value</code> - new counter value</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="adjustCounterField(io.permazen.core.ObjId,java.lang.String,long,boolean)">
<h3>adjustCounterField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">adjustCounterField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;offset,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Adjust the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object by some amount, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary, prior to adjusting the field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>offset</code> - offset value to add to counter value</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readSetField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readSetField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;?&gt;</span>&nbsp;<span class="element-name">readSetField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Access a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> associated with an object, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>set field value</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readListField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readListField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;?&gt;</span>&nbsp;<span class="element-name">readListField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Access a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> associated with an object, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>list field value</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readMapField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readMapField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;?,<wbr>?&gt;</span>&nbsp;<span class="element-name">readMapField</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Access a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> associated with an object, optionally updating the object's schema.

 <p>
 If <code>migrateSchema</code> is true, the object will be automatically migrated to match
 <a href="#getSchema()">the schema associated with this transaction</a>, if necessary.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>name</code> - field name</dd>
<dd><code>migrateSchema</code> - true to first automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>map field value</dd>
<dt>Throws:</dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> corresponding to <code>name</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - <code>migrateSchema</code> is true and the object's schema could not be migrated because
   the object's type does not exist in this transaction's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getKey(io.permazen.core.ObjId)">
<h3>getKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../util/ByteData.html" title="class in io.permazen.util">ByteData</a></span>&nbsp;<span class="element-name">getKey</span><wbr><span class="parameters">(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Get the key prefix in the underlying key/value store corresponding to the specified object.

 <p>
 Notes:
 <ul>
  <li>This method does not check whether the object actually exists.</li>
  <li>Objects utilize multiple keys; the return value is the common prefix of all such keys.</li>
  <li>The <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> should not be modified directly, otherwise behavior is undefined</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dt>Returns:</dt>
<dd>the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key corresponding to <code>id</code></dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="Field.html#getKey(io.permazen.core.ObjId)"><code>Field.getKey()</code></a></li>
<li><a href="../PermazenTransaction.html#getKey(io.permazen.PermazenObject)"><code>PermazenTransaction.getKey()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSimpleFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SimpleFieldChangeListener)">
<h3>addSimpleFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addSimpleFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Monitor for changes within this transaction of the value of the given field, as seen through a path of references.

 <p>
 When the specified field is changed in some object T, a listener notification will be delivered for each object R
 that refers to object T through the specified path of reference fields (if <code>path</code> is empty, then R = T).
 Notifications are delivered at the end of the mutation operation just prior to returning to the caller. If the listener
 method performs additional mutation(s) which are themselves being listened for, those notifications will also be delivered
 prior to the returning to the original caller. Therefore, care must be taken to avoid change notification dependency
 loops when listeners can themselves mutate fields, to avoid infinite loops.

 <p>
 The <code>filters</code>, if any, are applied to <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>'s at the corresponding steps in the path: <code>filters[0]</code>
 is applied to the starting objects R, <code>filters[1]</code> is applied to the objects reachable from R via <code>path[0]</code>,
 etc., up to <code>filters[path.length]</code>, which applies to the target objects T. <code>filters</code> or any element
 therein may be null to indicate no restriction.

 <p>
 A referring object R may refer to the changed object T through more than one sequence of objects matching <code>path</code>;
 if so, R will still appear only once in the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link"><code>NavigableSet</code></a> provided to the listener (this is of course required
 by set semantics).

 <p>
 Although the reference back-tracking algorithm does consolidate multiple paths between the same two objects,
 be careful to avoid an explosion of notifications when objects in the <code>path</code> have a high degree of fan-in.

 <p>
 When a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a> in <code>path</code> also happens to be the field being changed, then there is ambiguity
 about how the set of referring objects is calculated: does it use the field's value before or after the change?
 This API guarantees that the answer is "after the change"; however, if another listener on the same field is
 invoked before <code>listener</code> and mutates any reference field(s) in <code>path</code>, then whether that additional
 change is also be included in the calculation is undefined.

 <p>
 Therefore, for consistency, avoid changing any <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a> from within a listener callback when that
 field is also in some other listener's reference path, and both listeners are watching the same field.

 <p>
 Permazen allows a field's type to change across schemas, therefore some schema may exist in which the field associated
 with <code>storageId</code> is not a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>. In such cases, <code>listener</code> will receive notifications about
 those changes if it also happens to implement the other listener interface. In other words, this method delegates
 directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSetFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SetFieldChangeListener)">
<h3>addSetFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addSetFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Monitor for changes within this transaction to the specified <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schemas, therefore some schema may exist in which the field associated
 with <code>storageId</code> is not a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a>. In such cases, <code>listener</code> will receive notifications about
 those changes if it also happens to implement the other listener interface. In other words, this method delegates
 directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addListFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.ListFieldChangeListener)">
<h3>addListFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addListFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Monitor for changes within this transaction to the specified <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schemas, therefore some schema may exist in which the field associated
 with <code>storageId</code> is not a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>. In such cases, <code>listener</code> will receive notifications about
 those changes if it also happens to implement the other listener interface. In other words, this method delegates
 directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addMapFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.MapFieldChangeListener)">
<h3>addMapFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addMapFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Monitor for changes within this transaction to the specified <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schemas, therefore some schema may exist in which the field associated
 with <code>storageId</code> is not a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>. In such cases, <code>listener</code> will receive notifications about
 those changes if it also happens to implement the other listener interface. In other words, this method delegates
 directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],java.lang.Object)">
<h3>addFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;listener)</span></div>
<div class="block">Monitor for changes within this transaction to the specified <a href="Field.html" title="class in io.permazen.core"><code>Field</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schemas, therefore in different schemas the specified field may have
 different types. The <code>listener</code> will receive notifications about a field change if it implements the interface
 appropriate for the field's current type (i.e., <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>,
 <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>, or <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>) at the time of the change.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSimpleFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SimpleFieldChangeListener)">
<h3>removeSimpleFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeSimpleFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSetFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SetFieldChangeListener)">
<h3>removeSetFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeSetFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Remove a field monitor previously added via <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeListFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.ListFieldChangeListener)">
<h3>removeListFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeListFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Remove a field monitor previously added via <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeMapFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.MapFieldChangeListener)">
<h3>removeMapFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeMapFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</span></div>
<div class="block">Remove a field monitor previously added via <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],java.lang.Object)">
<h3>removeFieldChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeFieldChangeListener</span><wbr><span class="parameters">(int&nbsp;storageId,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;listener)</span></div>
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>,
 <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>,
 <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>,
 <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>,
 or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="followReferencePath(java.util.stream.Stream,int[],io.permazen.kv.KeyRanges[])">
<h3>followReferencePath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">followReferencePath</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;startObjects,
 int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters)</span></div>
<div class="block">Find all objects referred to by any object in the given start set through the specified path of references.

 <p>
 Each value in <code>path</code> represents a reference field traversed in the path to some target object(s); if a
 value in <code>path</code> is negated, then the field is traversed in the inverse direction.

 <p>
 If <code>path</code> is empty, then the contents of <code>startObjects</code> is returned.

 <p>
 The <code>filters</code>, if any, are applied to <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>'s at the corresponding steps in the path: <code>filters[0]</code>
 is applied to <code>startObjects</code>, <code>filters[1]</code> is applied to the objects reachable from <code>startObjects</code>
 via <code>path[0]</code>, etc., up to <code>filters[path.length]</code>, which applies to the final target objects. <code>filters</code>
 or any element therein may be null to indicate no restriction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>startObjects</code> - starting objects</dd>
<dd><code>path</code> - path of zero or more reference fields (represented by storage IDs) through which to reach the target objects;
  negated values denote an inverse traversal of the corresponding reference field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dt>Returns:</dt>
<dd>read-only set of objects referred to by the <code>startObjects</code> via <code>path</code> restricted by <code>filters</code></dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>startObjects</code> or <code>path</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>filters</code> is not null and does not have length <code>path.length + 1</code></dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invertReferencePath(int[],io.permazen.kv.KeyRanges[],java.util.stream.Stream)">
<h3>invertReferencePath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">invertReferencePath</span><wbr><span class="parameters">(int[]&nbsp;path,
 <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;targetObjects)</span></div>
<div class="block">Find all objects that refer to any object in the given target set through the specified path of references.

 <p>
 Each value in <code>path</code> represents a reference field traversed in the path to the target object(s); if a
 value in <code>path</code> is negated, then the field is traversed in the inverse direction.

 <p>
 If <code>path</code> is empty, then the contents of <code>targetObjects</code> is returned.

 <p>
 The <code>filters</code>, if any, are applied to <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>'s at the corresponding steps in the path:
 <code>filters[path.length]</code> is applied to <code>targetObjects</code>, <code>filters[path.length - 1]</code> is applied to the
 objects referring to <code>targetObjects</code> via <code>path[path.length - 1]</code>, etc., down to <code>filters[0]</code>, which
 applies to the objects at the start of the path being inverted. <code>filters</code> or any element therein may be null to
 indicate no restriction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - path of zero or more reference fields (represented by storage IDs) through which to reach the target objects;
  negated values denote an inverse traversal of the corresponding reference field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>targetObjects</code> - target objects</dd>
<dt>Returns:</dt>
<dd>read-only set of objects that refer to the <code>targetObjects</code> via <code>path</code> restricted by <code>filters</code></dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>targetObjects</code> or <code>path</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>filters</code> is not null and does not have length <code>path.length + 1</code></dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryIndex(int)">
<h3>queryIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="AbstractCoreIndex.html" title="class in io.permazen.core">AbstractCoreIndex</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">queryIndex</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query any simple or composite index.

 <p>
 The returned view will have type <a href="CoreIndex1.html" title="class in io.permazen.core"><code>CoreIndex1</code></a>, <a href="CoreIndex2.html" title="class in io.permazen.core"><code>CoreIndex2</code></a>, <a href="CoreIndex3.html" title="class in io.permazen.core"><code>CoreIndex3</code></a>, etc.,
 corresponding to the number of fields in the index.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the field (if simple) or composite index</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="querySimpleIndex(int)">
<h3>querySimpleIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex1.html" title="class in io.permazen.core">CoreIndex1</a>&lt;?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">querySimpleIndex</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query a <a href="SimpleIndex.html" title="class in io.permazen.core"><code>SimpleIndex</code></a> to find all values stored in some field and, for each value,
 the set of all objects having that value in the field.

 <p>
 Use this method to acquire a plain <a href="CoreIndex1.html" title="class in io.permazen.core"><code>CoreIndex1</code></a> on complex sub-fields.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the field</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryListElementIndex(int)">
<h3>queryListElementIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</span>&nbsp;<span class="element-name">queryListElementIndex</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query a <a href="ListElementIndex.html" title="class in io.permazen.core"><code>ListElementIndex</code></a> to find all values stored in some list field and, for each value,
 the set of all objects having that value as an element in the list and the corresponding list index.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the field</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryMapValueIndex(int)">
<h3>queryMapValueIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,<wbr>?&gt;</span>&nbsp;<span class="element-name">queryMapValueIndex</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query a <a href="MapValueIndex.html" title="class in io.permazen.core"><code>MapValueIndex</code></a> to find all values stored in some map field and, for each value,
 the set of all objects having that value as a value in the map and the corresponding key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the field</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryCompositeIndex2(int)">
<h3>queryCompositeIndex2</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,<wbr>?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">queryCompositeIndex2</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query a <a href="CompositeIndex.html" title="class in io.permazen.core"><code>CompositeIndex</code></a> on two fields to find all value tuples stored in the corresponding
 field tuple and, for each value tuple, the set of all objects having those values in those fields.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the composite index</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if the index is not on two fields</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryCompositeIndex3(int)">
<h3>queryCompositeIndex3</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex3.html" title="class in io.permazen.core">CoreIndex3</a>&lt;?,<wbr>?,<wbr>?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">queryCompositeIndex3</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query a <a href="CompositeIndex.html" title="class in io.permazen.core"><code>CompositeIndex</code></a> on three fields to find all value tuples stored in the corresponding
 field tuple and, for each value tuple, the set of all objects having those values in those fields.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the composite index</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if the index is not on three fields</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryCompositeIndex4(int)">
<h3>queryCompositeIndex4</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CoreIndex4.html" title="class in io.permazen.core">CoreIndex4</a>&lt;?,<wbr>?,<wbr>?,<wbr>?,<wbr><a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">queryCompositeIndex4</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query a <a href="CompositeIndex.html" title="class in io.permazen.core"><code>CompositeIndex</code></a> on four fields to find all value tuples stored in the corresponding
 field tuple and, for each value tuple, the set of all objects having those values in those fields.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - the storage ID associated with the composite index</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the index</dd>
<dt>Throws:</dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if no such index exists</dd>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if the index is not on four fields</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="snapshotListeners()">
<h3>snapshotListeners</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a></span>&nbsp;<span class="element-name">snapshotListeners</span>()</div>
<div class="block">Create a read-only snapshot of all (<a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s, <a href="SchemaChangeListener.html" title="interface in io.permazen.core"><code>SchemaChangeListener</code></a>s,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>s, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>s, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>s, and
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>s currently registered on this instance.

 <p>
 The snapshot can be applied to other transactions having compatible schemas via <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a>.
 Use of a <a href="Transaction.ListenerSet.html" title="class in io.permazen.core"><code>Transaction.ListenerSet</code></a> also allows certain internal optimizations.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>snapshot of listeners associated with this instance</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setListeners(io.permazen.core.Transaction.ListenerSet)">
<h3>setListeners</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setListeners</span><wbr><span class="parameters">(<a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a>&nbsp;listeners)</span></div>
<div class="block">Apply a snapshot created via <a href="#snapshotListeners()"><code>snapshotListeners()</code></a> to this instance.

 <p>
 Any currently registered listeners are unregistered and replaced by the listeners in <code>listeners</code>.
 This method may be invoked multiple times; however, once this method has been invoked, any subsequent
 attempts to register or unregister individual listeners will result in an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listeners</code> - listener set created by <a href="#snapshotListeners()"><code>snapshotListeners()</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listeners</code> was created from a transaction with an incompatible schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listeners</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUserObject(java.lang.Object)">
<h3>setUserObject</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setUserObject</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj)</span></div>
<div class="block">Associate an arbitrary object with this instance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>obj</code> - user object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserObject()">
<h3>getUserObject</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getUserObject</span>()</div>
<div class="block">Get the object with this instance by <a href="#setUserObject(java.lang.Object)"><code>setUserObject()</code></a>, if any.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the associated user object, or null if none has been set</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
