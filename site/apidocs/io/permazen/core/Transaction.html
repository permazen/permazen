<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Transaction (Permazen 4.2.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transaction (Permazen 4.2.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.permazen.core</a></div>
<h2 title="Class Transaction" class="title">Class Transaction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.permazen.core.Transaction</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="SnapshotTransaction.html" title="class in io.permazen.core">SnapshotTransaction</a></code></dd>
</dl>
<hr>
<pre>@ThreadSafe
public class <span class="typeNameLabel">Transaction</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">A Permazen <a href="Database.html" title="class in io.permazen.core"><code>Database</code></a> transaction.

 <p>
 Note: this is the lower level, core API for <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a>. In most cases this API
 will only be used indirectly through the higher level <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a>, <a href="../JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a>,
 and <a href="../JObject.html" title="interface in io.permazen"><code>JObject</code></a> APIs.

 <p>
 Methods in this class can be divided into the following categories:

 <p>
 <b>Transaction Meta-Data</b>
 <ul>
  <li><a href="#getDatabase()"><code>getDatabase()</code></a> - Get the associated <a href="Database.html" title="class in io.permazen.core"><code>Database</code></a></li>
  <li><a href="#getKVTransaction()"><code>getKVTransaction()</code></a> -  Get the underlying key/value store transaction.</li>
  <li><a href="#getSchemas()"><code>getSchemas()</code></a> - Get the database <a href="Schemas.html" title="class in io.permazen.core"><code>Schemas</code></a>, as seen by this transaction</li>
  <li><a href="#getSchema()"><code>getSchema()</code></a> - Get the <a href="Schema.html" title="class in io.permazen.core"><code>Schema</code></a> that will be used by this transaction</li>
  <li><a href="#deleteSchemaVersion(int)"><code>deleteSchemaVersion()</code></a> - Delete a schema version that is no longer being used</li>
  <li><a href="#getUserObject()"><code>getUserObject()</code></a> - Get user object associated with this instance</li>
  <li><a href="#setUserObject(java.lang.Object)"><code>setUserObject(java.lang.Object)</code></a> - Set user object associated with this instance</li>
 </ul>

 <p>
 <b>Transaction Lifecycle</b>
 <ul>
  <li><a href="#commit()"><code>commit()</code></a> - Commit transaction</li>
  <li><a href="#rollback()"><code>rollback()</code></a> - Roll back transaction</li>
  <li><a href="#isValid()"><code>isValid()</code></a> - Test transaction validity</li>
  <li><a href="#setTimeout(long)"><code>setTimeout()</code></a> - Set transaction timeout</li>
  <li><a href="#setReadOnly(boolean)"><code>setReadOnly()</code></a> - Set transaction to read-only</li>
  <li><a href="#setRollbackOnly()"><code>setRollbackOnly()</code></a> - Set transaction for rollack only</li>
  <li><a href="#addCallback(io.permazen.core.Transaction.Callback)"><code>addCallback()</code></a> - Register a <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> on transaction completion</li>
  <li><a href="#createSnapshotTransaction()"><code>createSnapshotTransaction()</code></a> - Create a empty, in-memory copy of this transaction</li>
  <li><a href="#isSnapshot()"><code>isSnapshot()</code></a> - Determine whether this transaction is a snapshot transaction</li>
 </ul>

 <p>
 <b>Object Lifecycle</b>
 <ul>
  <li><a href="#create(int)"><code>create()</code></a> - Create a database object</li>
  <li><a href="#delete(io.permazen.core.ObjId)"><code>delete()</code></a> - Delete a database object</li>
  <li><a href="#exists(io.permazen.core.ObjId)"><code>exists()</code></a> - Test whether a database object exists</li>
  <li><a href="#copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)"><code>copy()</code></a> - Copy an object into a (possibly different) transaction</li>
  <li><a href="#addCreateListener(io.permazen.core.CreateListener)"><code>addCreateListener()</code></a> - Register a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> for notifications about new objects</li>
  <li><a href="#removeCreateListener(io.permazen.core.CreateListener)"><code>removeCreateListener()</code></a> - Unregister a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a></li>
  <li><a href="#addDeleteListener(io.permazen.core.DeleteListener)"><code>addDeleteListener()</code></a> - Register a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> for notifications
      about object deletions</li>
  <li><a href="#removeDeleteListener(io.permazen.core.DeleteListener)"><code>removeDeleteListener()</code></a> - Unregister a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a></li>
 </ul>

 <p>
 <b>Object Versioning</b>
 <ul>
  <li><a href="#getSchemaVersion(io.permazen.core.ObjId)"><code>getSchemaVersion()</code></a> - Inspect an object's schema version</li>
  <li><a href="#updateSchemaVersion(io.permazen.core.ObjId)"><code>updateSchemaVersion()</code></a> - Update an object's schema version to match this transaction</li>
  <li><a href="#queryVersion()"><code>queryVersion()</code></a> - Locate objects by schema version</li>
  <li><a href="#addVersionChangeListener(io.permazen.core.VersionChangeListener)"><code>addVersionChangeListener()</code></a> - Register a <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>
      for notifications about object version changes</li>
  <li><a href="#removeVersionChangeListener(io.permazen.core.VersionChangeListener)"><code>removeVersionChangeListener()</code></a> - Unregister a <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a></li>
 </ul>

 <p>
 <b>Object and Field Access</b>
 <ul>
  <li><a href="#getAll()"><code>getAll(int)</code></a> - Get all objects, or all objects of a specific type</li>
  <li><a href="#readSimpleField(io.permazen.core.ObjId,int,boolean)"><code>readSimpleField()</code></a> - Read the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object</li>
  <li><a href="#writeSimpleField(io.permazen.core.ObjId,int,java.lang.Object,boolean)"><code>writeSimpleField()</code></a> - Write the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object</li>
  <li><a href="#readCounterField(io.permazen.core.ObjId,int,boolean)"><code>readCounterField()</code></a> - Read the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object</li>
  <li><a href="#writeCounterField(io.permazen.core.ObjId,int,long,boolean)"><code>writeCounterField()</code></a> - Write the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object</li>
  <li><a href="#adjustCounterField(io.permazen.core.ObjId,int,long,boolean)"><code>adjustCounterField()</code></a> - Adjust the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object</li>
  <li><a href="#readSetField(io.permazen.core.ObjId,int,boolean)"><code>readSetField()</code></a> - Access a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> in an object as a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>NavigableSet</code></a></li>
  <li><a href="#readListField(io.permazen.core.ObjId,int,boolean)"><code>readListField()</code></a> - Access a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> in an object as a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>List</code></a></li>
  <li><a href="#readMapField(io.permazen.core.ObjId,int,boolean)"><code>readMapField()</code></a> - Access a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> in an object as a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>NavigableMap</code></a></li>
  <li><a href="#getKey(io.permazen.core.ObjId)"><code>getKey(ObjId)</code></a> - Get the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key corresponding to an object</li>
  <li><a href="#getKey(io.permazen.core.ObjId)"><code>getKey(ObjId, int)</code></a> - Get the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a>
      key corresponding to a field in an object</li>
 </ul>

 <p>
 <b>Field Change Notifications</b>
 <ul>
  <li><a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> - Register a <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a> for
      notifications of changes in a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>, as seen through a path of object references</li>
  <li><a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a> - Register a <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a> for
      notifications of changes in a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a>, as seen through a path of object references</li>
  <li><a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a> - Register a <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a> for
      notifications of changes in a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>, as seen through a path of object references</li>
  <li><a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a> - Register a <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a> for
      notifications of changes in a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>, as seen through a path of object references</li>
  <li><a href="#removeSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>removeSimpleFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a></li>
  <li><a href="#removeSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>removeSetFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a></li>
  <li><a href="#removeListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>removeListFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a></li>
  <li><a href="#removeMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>removeMapFieldChangeListener()</code></a> - Unregister a previously registered
      <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a></li>
 </ul>

 <p>
 <b>Reference Paths</b>
 <ul>
  <li><a href="#followReferencePath(java.lang.Iterable,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D)"><code>followReferencePath()</code></a> - Find all objects referred to by any element in a given set
      of starting objects through a specified reference path</li>
  <li><a href="#invertReferencePath(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Iterable)"><code>invertReferencePath()</code></a> - Find all objects that refer to any element in a given set
      of target objects through a specified reference path</li>
 </ul>

 <p>
 <b>Index Queries</b>
 <ul>
  <li><a href="#queryIndex(int)"><code>queryIndex()</code></a> - Query the index associated with a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>
      to identify all values and all objects having those values</li>
  <li><a href="#queryListElementIndex(int)"><code>queryListElementIndex()</code></a> - Query the index associated with a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>
      element sub-field to identify all list elements, all objects having those elements in the list,
      and their corresponding indices</li>
  <li><a href="#queryMapValueIndex(int)"><code>queryMapValueIndex()</code></a> - Query the index associated with a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>
      value sub-field to identify all map values, all objects having those values in the map, and the corresponding keys</li>
  <li><a href="#queryCompositeIndex(int)"><code>queryCompositeIndex()</code></a> - Query any composite index</li>
  <li><a href="#queryCompositeIndex2(int)"><code>queryCompositeIndex2()</code></a> - Query a composite index on two fields</li>
  <li><a href="#queryCompositeIndex3(int)"><code>queryCompositeIndex3()</code></a> - Query a composite index on three fields</li>
  <li><a href="#queryCompositeIndex3(int)"><code>queryCompositeIndex4()</code></a> - Query a composite index on four fields</li>
  <!-- COMPOSITE-INDEX -->
 </ul>

 <p>
 <b>Listener Sets</b>
 <ul>
  <li><a href="#snapshotListeners()"><code>snapshotListeners()</code></a> - Create an immutable snapshot of all registered listeners</li>
  <li><a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> - Bulk registration of listeners from a previously created snapshot</li>
 </ul>

 <p>
 All methods returning a set of values return a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>NavigableSet</code></a>.
 The <a href="../util/NavigableSets.html" title="class in io.permazen.util"><code>NavigableSets</code></a> utility class provides methods for the efficient <a href="../util/NavigableSets.html#intersection(java.lang.Iterable)"><code>intersection</code></a>,
 <a href="../util/NavigableSets.html#union(java.util.NavigableSet...)"><code>union</code></a>, <a href="../util/NavigableSets.html#difference(java.util.NavigableSet,java.util.NavigableSet)"><code>difference</code></a>, and
 <a href="../util/NavigableSets.html#symmetricDifference(java.util.NavigableSet,java.util.NavigableSet)"><code>symmetric difference</code></a> of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>NavigableSet</code></a>s containing the same element type,
 thereby providing the equivalent of traditional database joins.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Transaction.Callback.html" title="interface in io.permazen.core">Transaction.Callback</a></span></code></th>
<td class="colLast">
<div class="block">Callback interface for notification of transaction completion events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Transaction.CallbackAdapter.html" title="class in io.permazen.core">Transaction.CallbackAdapter</a></span></code></th>
<td class="colLast">
<div class="block">Adapter class for <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a></span></code></th>
<td class="colLast">
<div class="block">A fixed collection of listeners (<a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s, <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>s,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>s, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>s, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>s, and
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>s) that can be efficiently registered on a <a href="Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> all at once.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://maven.apache.org/ref/3.6.3/apidocs/org/slf4j/Logger.html?is-external=true" title="class or interface in org.slf4j" class="externalLink">Logger</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#log">log</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addCallback(io.permazen.core.Transaction.Callback)">addCallback</a></span>&#8203;(<a href="Transaction.Callback.html" title="interface in io.permazen.core">Transaction.Callback</a>&nbsp;callback)</code></th>
<td class="colLast">
<div class="block">Register a transaction <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> to be invoked when this transaction completes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addCreateListener(io.permazen.core.CreateListener)">addCreateListener</a></span>&#8203;(<a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Add a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> to this transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addDeleteListener(io.permazen.core.DeleteListener)">addDeleteListener</a></span>&#8203;(<a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Add a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> to this transaction.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)">addFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                      int[]&nbsp;path,
                      <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Monitor for changes within this transaction to the specified <a href="Field.html" title="class in io.permazen.core"><code>Field</code></a> as seen through a path of references.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)">addListFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                          int[]&nbsp;path,
                          <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                          <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Monitor for changes within this transaction to the specified <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> as seen through a path of references.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)">addMapFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                         int[]&nbsp;path,
                         <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                         <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Monitor for changes within this transaction to the specified <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> as seen through a path of references.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)">addSetFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                         int[]&nbsp;path,
                         <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                         <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Monitor for changes within this transaction to the specified <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> as seen through a path of references.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)">addSimpleFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                            int[]&nbsp;path,
                            <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                            <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Monitor for changes within this transaction of the value of the given field, as seen through a path of references.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addVersionChangeListener(io.permazen.core.VersionChangeListener)">addVersionChangeListener</a></span>&#8203;(<a href="VersionChangeListener.html" title="interface in io.permazen.core">VersionChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Add an <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a> to this transaction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#adjustCounterField(io.permazen.core.ObjId,int,long,boolean)">adjustCounterField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                  int&nbsp;storageId,
                  long&nbsp;offset,
                  boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Adjust the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object by some amount, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commit()">commit</a></span>()</code></th>
<td class="colLast">
<div class="block">Commit this transaction.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)">copy</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;source,
    <a href="Transaction.html" title="class in io.permazen.core">Transaction</a>&nbsp;dest,
    boolean&nbsp;updateVersion,
    boolean&nbsp;notifyListeners,
    <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ReferenceField.html" title="class in io.permazen.core">ReferenceField</a>&gt;&nbsp;deletedAssignments,
    <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;objectIdMap)</code></th>
<td class="colLast">
<div class="block">Copy an object into a (possibly different) transaction.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create(int)">create</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Create a new object with a randomly assigned object ID and having the given type.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create(int,int)">create</a></span>&#8203;(int&nbsp;storageId,
      int&nbsp;versionNumber)</code></th>
<td class="colLast">
<div class="block">Create a new object with a randomly assigned object ID and having the given type and schema version.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create(io.permazen.core.ObjId)">create</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Create a new object with the given object ID, if it doesn't already exist.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create(io.permazen.core.ObjId,int)">create</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
      int&nbsp;versionNumber)</code></th>
<td class="colLast">
<div class="block">Create a new object with the given object ID, if it doesn't already exist.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="SnapshotTransaction.html" title="class in io.permazen.core">SnapshotTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createSnapshotTransaction()">createSnapshotTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Create an empty, in-memory "snapshot" transaction.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delete(io.permazen.core.ObjId)">delete</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Delete an object.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteSchemaVersion(int)">deleteSchemaVersion</a></span>&#8203;(int&nbsp;version)</code></th>
<td class="colLast">
<div class="block">Delete a schema version that is no longer being used.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exists(io.permazen.core.ObjId)">exists</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Determine if an object exists.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#followReferencePath(java.lang.Iterable,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D)">followReferencePath</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;startObjects,
                   int[]&nbsp;path,
                   <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters)</code></th>
<td class="colLast">
<div class="block">Find all objects referred to by any object in the given start set through the specified path of references.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="ObjId.html" title="class in io.permazen.core">ObjId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateId(int)">generateId</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Generate a random, unused <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> for the given storage ID.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAll()">getAll</a></span>()</code></th>
<td class="colLast">
<div class="block">Get all objects in the database.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAll(int)">getAll</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Get all objects whose object type has the specified storage ID.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="Database.html" title="class in io.permazen.core">Database</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDatabase()">getDatabase</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the database with which this transaction is associated.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKey(io.permazen.core.ObjId)">getKey</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get the <code>byte[]</code> key in the underlying key/value store corresponding to the specified object.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKey(io.permazen.core.ObjId,int)">getKey</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
      int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Get the <code>byte[]</code> key in the underlying key/value store corresponding to the specified field in the specified object.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKVTransaction()">getKVTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the underlying key/value store transaction.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="Schema.html" title="class in io.permazen.core">Schema</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSchema()">getSchema</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the database schema version associated with this transaction.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="Schemas.html" title="class in io.permazen.core">Schemas</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSchemas()">getSchemas</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the database schema versions known to this transaction.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSchemaVersion(io.permazen.core.ObjId)">getSchemaVersion</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Read the current schema version of the given object.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTypeDescription(io.permazen.core.ObjId)">getTypeDescription</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Get a description of the given object's type.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUserObject()">getUserObject</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the object with this instance by <a href="#setUserObject(java.lang.Object)"><code>setUserObject()</code></a>, if any.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invertReferencePath(int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Iterable)">invertReferencePath</a></span>&#8203;(int[]&nbsp;path,
                   <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;targetObjects)</code></th>
<td class="colLast">
<div class="block">Find all objects that refer to any object in the given target set through the specified path of references.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReadOnly()">isReadOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether this transaction is read-only.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isRollbackOnly()">isRollbackOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether this transaction is marked rollback only.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isSnapshot()">isSnapshot</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether this instance is a <a href="SnapshotTransaction.html" title="class in io.permazen.core"><code>SnapshotTransaction</code></a>.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isValid()">isValid</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether this transaction is still valid.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryCompositeIndex(int)">queryCompositeIndex</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Access any composite index by storage ID, regardless of the number of fields indexed.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,&#8203;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryCompositeIndex2(int)">queryCompositeIndex2</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Access a composite index on two fields.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code><a href="CoreIndex3.html" title="class in io.permazen.core">CoreIndex3</a>&lt;?,&#8203;?,&#8203;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryCompositeIndex3(int)">queryCompositeIndex3</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Access a composite index on three fields.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code><a href="CoreIndex4.html" title="class in io.permazen.core">CoreIndex4</a>&lt;?,&#8203;?,&#8203;?,&#8203;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryCompositeIndex4(int)">queryCompositeIndex4</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Access a composite index on four fields.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code><a href="CoreIndex.html" title="class in io.permazen.core">CoreIndex</a>&lt;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryIndex(int)">queryIndex</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Find all values stored in the specified <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> and, for each value,
 the set of all objects having that value in the field.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryListElementIndex(int)">queryListElementIndex</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Find all values stored as an element in the specified <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> and, for each such value,
 the set of all objects having that value as an element in the list and the corresponding list index.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code><a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,&#8203;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryMapValueIndex(int)">queryMapValueIndex</a></span>&#8203;(int&nbsp;storageId)</code></th>
<td class="colLast">
<div class="block">Find all values stored as a value in the specified <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> and, for each such value,
 the set of all objects having that value as a value in the map and the corresponding key.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code><a href="CoreIndex.html" title="class in io.permazen.core">CoreIndex</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#queryVersion()">queryVersion</a></span>()</code></th>
<td class="colLast">
<div class="block">Query objects by schema version.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readCounterField(io.permazen.core.ObjId,int,boolean)">readCounterField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                int&nbsp;storageId,
                boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Read the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> from an object, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readListField(io.permazen.core.ObjId,int,boolean)">readListField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
             int&nbsp;storageId,
             boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Access a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> associated with an object, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableMap</a>&lt;?,&#8203;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readMapField(io.permazen.core.ObjId,int,boolean)">readMapField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
            int&nbsp;storageId,
            boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Access a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> associated with an object, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readSetField(io.permazen.core.ObjId,int,boolean)">readSetField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
            int&nbsp;storageId,
            boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Access a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> associated with an object, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readSimpleField(io.permazen.core.ObjId,int,boolean)">readSimpleField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
               int&nbsp;storageId,
               boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Read the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> from an object, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeCreateListener(io.permazen.core.CreateListener)">removeCreateListener</a></span>&#8203;(<a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove an <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> from this transaction.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeDeleteListener(io.permazen.core.DeleteListener)">removeDeleteListener</a></span>&#8203;(<a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove an <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> from this transaction.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)">removeFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                         int[]&nbsp;path,
                         <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>,
 <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>,
 <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>,
 <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>,
 or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)">removeListFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                             int[]&nbsp;path,
                             <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                             <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove a field monitor previously added via <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)">removeMapFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                            int[]&nbsp;path,
                            <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                            <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove a field monitor previously added via <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)">removeSetFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                            int[]&nbsp;path,
                            <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                            <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove a field monitor previously added via <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)">removeSimpleFieldChangeListener</a></span>&#8203;(int&nbsp;storageId,
                               int[]&nbsp;path,
                               <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                               <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeVersionChangeListener(io.permazen.core.VersionChangeListener)">removeVersionChangeListener</a></span>&#8203;(<a href="VersionChangeListener.html" title="interface in io.permazen.core">VersionChangeListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove an <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a> from this transaction.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback()">rollback</a></span>()</code></th>
<td class="colLast">
<div class="block">Roll back this transaction.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setListeners(io.permazen.core.Transaction.ListenerSet)">setListeners</a></span>&#8203;(<a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a>&nbsp;listeners)</code></th>
<td class="colLast">
<div class="block">Apply a snapshot created via <a href="#snapshotListeners()"><code>snapshotListeners()</code></a> to this instance.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setReadOnly(boolean)">setReadOnly</a></span>&#8203;(boolean&nbsp;readOnly)</code></th>
<td class="colLast">
<div class="block">Enable or disable read-only mode.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRollbackOnly()">setRollbackOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Mark this transaction for rollback only.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTimeout(long)">setTimeout</a></span>&#8203;(long&nbsp;timeout)</code></th>
<td class="colLast">
<div class="block">Change the timeout for this transaction from its default value (optional operation).</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUserObject(java.lang.Object)">setUserObject</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;obj)</code></th>
<td class="colLast">
<div class="block">Associate an arbitrary object with this instance.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code><a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#snapshotListeners()">snapshotListeners</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a read-only snapshot of all (<a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s, <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>s,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>s, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>s, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>s, and
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>s currently registered on this instance.</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateSchemaVersion(io.permazen.core.ObjId)">updateSchemaVersion</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Change the schema version of the specified object, if necessary, so that its version matches
 <a href="#getSchema()">the schema version associated with this transaction</a>.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeCounterField(io.permazen.core.ObjId,int,long,boolean)">writeCounterField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                 int&nbsp;storageId,
                 long&nbsp;value,
                 boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Set the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object, optionally updating the object's schema version.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeSimpleField(io.permazen.core.ObjId,int,java.lang.Object,boolean)">writeSimpleField</a></span>&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                int&nbsp;storageId,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;value,
                boolean&nbsp;updateVersion)</code></th>
<td class="colLast">
<div class="block">Change the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object, optionally updating the object's schema version.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected final&nbsp;<a href="https://maven.apache.org/ref/3.6.3/apidocs/org/slf4j/Logger.html?is-external=true" title="class or interface in org.slf4j" class="externalLink">Logger</a> log</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getDatabase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabase</h4>
<pre class="methodSignature">public&nbsp;<a href="Database.html" title="class in io.permazen.core">Database</a>&nbsp;getDatabase()</pre>
<div class="block">Get the database with which this transaction is associated.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>associated database</dd>
</dl>
</li>
</ul>
<a id="getSchemas()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemas</h4>
<pre class="methodSignature">public&nbsp;<a href="Schemas.html" title="class in io.permazen.core">Schemas</a>&nbsp;getSchemas()</pre>
<div class="block">Get the database schema versions known to this transaction.
 This reflects all schema versions currently recorded in the database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>associated schemas</dd>
</dl>
</li>
</ul>
<a id="getSchema()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchema</h4>
<pre class="methodSignature">public&nbsp;<a href="Schema.html" title="class in io.permazen.core">Schema</a>&nbsp;getSchema()</pre>
<div class="block">Get the database schema version associated with this transaction.
 This is the schema version used for newly created objects, and the target schema version when
 <a href="#updateSchemaVersion(io.permazen.core.ObjId)">upgrading</a> objects.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>associated schema</dd>
</dl>
</li>
</ul>
<a id="deleteSchemaVersion(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteSchemaVersion</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;deleteSchemaVersion&#8203;(int&nbsp;version)</pre>
<div class="block">Delete a schema version that is no longer being used. There must be no objects with the given version
 in the database, and <code>version</code> must not be the version being used by this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - schema version to remove</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if schema version was found and removed, false if schema version does not exist in database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InvalidSchemaException.html" title="class in io.permazen.core">InvalidSchemaException</a></code> - if one or more objects with schema version <code>version</code> still exist</dd>
<dd><code><a href="InvalidSchemaException.html" title="class in io.permazen.core">InvalidSchemaException</a></code> - if <code>version</code> is equal to this transaction's version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>version</code> is zero or negative</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="getKVTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKVTransaction</h4>
<pre class="methodSignature">public&nbsp;<a href="../kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a>&nbsp;getKVTransaction()</pre>
<div class="block">Get the underlying key/value store transaction.

 <p>
 <b>Warning:</b> making changes to the key/value store directly is not supported. If any changes
 are made, all future behavior is undefined.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated key/value transaction</dd>
</dl>
</li>
</ul>
<a id="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;commit()</pre>
<div class="block">Commit this transaction.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="../kv/RetryTransactionException.html" title="class in io.permazen.kv">RetryTransactionException</a></code> - from <a href="../kv/KVTransaction.html#commit()"><code>KVTransaction.commit()</code></a></dd>
<dd><code><a href="RollbackOnlyTransactionException.html" title="class in io.permazen.core">RollbackOnlyTransactionException</a></code> - if this instance has been <a href="#setRollbackOnly()">marked</a> rollback only;
  this instance will be automatically rolled back</dd>
</dl>
</li>
</ul>
<a id="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;rollback()</pre>
<div class="block">Roll back this transaction.

 <p>
 This method may be invoked at any time, even after a previous invocation of
 <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>, in which case the invocation will be ignored.</div>
</li>
</ul>
<a id="isValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isValid()</pre>
<div class="block">Determine whether this transaction is still valid. If not, all other methods in this class
 will throw <a href="StaleTransactionException.html" title="class in io.permazen.core"><code>StaleTransactionException</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this instance is still usable</dd>
</dl>
</li>
</ul>
<a id="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Determine whether this transaction is read-only.

 <p>
 This method just invokes <a href="../kv/KVTransaction.html#isReadOnly()"><code>KVTransaction.isReadOnly()</code></a> on the wrapped key/value transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this instance is read-only</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="setReadOnly(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnly</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setReadOnly&#8203;(boolean&nbsp;readOnly)</pre>
<div class="block">Enable or disable read-only mode.

 <p>
 Read-only transactions allow mutations, but all changes are discarded on <a href="#commit()"><code>commit()</code></a>.
 Registered <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a>s are still processed normally.

 <p>
 This method just invokes <a href="../kv/KVTransaction.html#setReadOnly(boolean)"><code>KVTransaction.setReadOnly(boolean)</code></a> on the wrapped key/value transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>readOnly</code> - read-only setting</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="isRollbackOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRollbackOnly</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isRollbackOnly()</pre>
<div class="block">Determine whether this transaction is marked rollback only.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this instance is marked for rollback only</dd>
</dl>
</li>
</ul>
<a id="setRollbackOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRollbackOnly</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRollbackOnly()</pre>
<div class="block">Mark this transaction for rollback only. A subsequent attempt to <a href="#commit()"><code>commit()</code></a> will throw an exception.</div>
</li>
</ul>
<a id="setTimeout(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTimeout&#8203;(long&nbsp;timeout)</pre>
<div class="block">Change the timeout for this transaction from its default value (optional operation).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - transaction timeout in milliseconds, or zero for unlimited</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if this transaction does not support timeouts</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>timeout</code> is negative</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="addCallback(io.permazen.core.Transaction.Callback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCallback</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addCallback&#8203;(<a href="Transaction.Callback.html" title="interface in io.permazen.core">Transaction.Callback</a>&nbsp;callback)</pre>
<div class="block">Register a transaction <a href="Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> to be invoked when this transaction completes.
 Callbacks will be invoked in the order they are registered, but <i>duplicate registrations are ignored</i>.

 <p>
 Note: if you are using Spring for transaction demarcation (via <a href="../spring/PermazenTransactionManager.html" title="class in io.permazen.spring"><code>PermazenTransactionManager</code></a>),
 then you may also use Spring's
 <a href="https://docs.spring.io/spring-framework/docs/5.3.24/javadoc-api/org/springframework/transaction/support/TransactionSynchronizationManager.html?is-external=true#registerSynchronization(org.springframework.transaction.support.TransactionSynchronization)" title="class or interface in org.springframework.transaction.support" class="externalLink"><code>TransactionSynchronizationManager.registerSynchronization()</code></a> instead of this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - callback to invoke</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>callback</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="createSnapshotTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSnapshotTransaction</h4>
<pre class="methodSignature">public&nbsp;<a href="SnapshotTransaction.html" title="class in io.permazen.core">SnapshotTransaction</a>&nbsp;createSnapshotTransaction()</pre>
<div class="block">Create an empty, in-memory "snapshot" transaction.

 <p>
 The snapshot transaction will be initialized with the same schema meta-data as this instance but will be otherwise empty
 (i.e., contain no objects). It can be used as a destination for "snapshot" copies of objects made via <a href="#copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)"><code>copy()</code></a>.

 <p>
 The returned <a href="SnapshotTransaction.html" title="class in io.permazen.core"><code>SnapshotTransaction</code></a> does not support <a href="#commit()"><code>commit()</code></a>, <a href="#rollback()"><code>rollback()</code></a>,
 or <a href="#addCallback(io.permazen.core.Transaction.Callback)"><code>addCallback()</code></a>, and can be used indefinitely after this transaction closes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>empty in-memory snapshot transaction with compatible schema information</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Database.html#createSnapshotTransaction(io.permazen.kv.KVStore,io.permazen.schema.SchemaModel,int,boolean)"><code>Database.createSnapshotTransaction()</code></a></dd>
</dl>
</li>
</ul>
<a id="isSnapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSnapshot</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isSnapshot()</pre>
<div class="block">Determine whether this instance is a <a href="SnapshotTransaction.html" title="class in io.permazen.core"><code>SnapshotTransaction</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this instance is a <a href="SnapshotTransaction.html" title="class in io.permazen.core"><code>SnapshotTransaction</code></a>, otherwise false</dd>
</dl>
</li>
</ul>
<a id="create(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;create&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Create a new object with the given object ID, if it doesn't already exist. If it does exist, nothing happens.

 <p>
 If the object doesn't already exist, all fields are set to their default values and the object's
 schema version is set to <a href="#getSchema()">the version associated with this transaction</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object did not exist and was created, false if the object already existed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> does not correspond to a known object type in this transaction's schema version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="create(io.permazen.core.ObjId,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;create&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                      int&nbsp;versionNumber)</pre>
<div class="block">Create a new object with the given object ID, if it doesn't already exist. If it does exist, nothing happens.

 <p>
 If the object doesn't already exist, all fields are set to their default values and the object's
 schema version is set to the specified version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID</dd>
<dd><code>versionNumber</code> - schema version number to use for newly created object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object did not exist and was created, false if the object already existed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> does not correspond to a known object type in the specified schema version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>versionNumber</code> is invalid or unknown</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="create(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre class="methodSignature">public&nbsp;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;create&#8203;(int&nbsp;storageId)</pre>
<div class="block">Create a new object with a randomly assigned object ID and having the given type.

 <p>
 All fields will be set to their default values.
 The object's schema version will be set to <a href="#getSchema()">the version associated with this transaction</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - object type storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>object id of newly created object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> does not correspond to a known object type in this transaction's schema</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="create(int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre class="methodSignature">public&nbsp;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;create&#8203;(int&nbsp;storageId,
                    int&nbsp;versionNumber)</pre>
<div class="block">Create a new object with a randomly assigned object ID and having the given type and schema version.

 <p>
 All fields will be set to their default values.
 The object's schema version will be set to the specified version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - object type storage ID</dd>
<dd><code>versionNumber</code> - schema version number to use for newly created object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>object id of newly created object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> does not correspond to a known object type in the specified schema version</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>versionNumber</code> is invalid or unknown</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="generateId(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateId</h4>
<pre class="methodSignature">public&nbsp;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;generateId&#8203;(int&nbsp;storageId)</pre>
<div class="block">Generate a random, unused <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a> for the given storage ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - object type storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>random unassigned object id</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> does not correspond to any known object type</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="delete(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;delete&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Delete an object. Does nothing if object does not exist (e.g., has already been deleted).

 <p>
 This method does <i>not</i> change the object's schema version if it has a different version that this transaction.

 <p><b>Secondary Deletions</b></p>

 <p>
 Deleting an object can trigger additional secondary deletions. Specifically,
 (a) if the object contains reference fields with <a href="ReferenceField.html#cascadeDelete">delete cascade</a> enabled,
 any objects referred to through those fields will also be deleted, and (b) if the object is referred to by any other objects
 through fields configured for <a href="DeleteAction.html#DELETE"><code>DeleteAction.DELETE</code></a>, those referring objects will be deleted.

 <p>
 In any case, deletions occur one at a time, and only when an object is actually deleted are any associated secondary
 deletions added to an internal deletion queue. However, the order in which objects on this deletion queue are
 processed is unspecified. For an example of where this ordering matters, consider an object <code>A</code> referring to objects
 <code>B</code> and <code>C</code> with delete cascading references, where B also refers to C with a <a href="DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a>
 reference. Then if <code>A</code> is deleted, it's indeterminate whether a <a href="ReferencedObjectException.html" title="class in io.permazen.core"><code>ReferencedObjectException</code></a> will be thrown,
 as that depends on whether <code>B</code> or <code>C</code> is deleted first (with the answer being, respectively, no and yes).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object to delete</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if object was found and deleted, false if object was not found,
  or if <code>id</code> specifies an unknown object type</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ReferencedObjectException.html" title="class in io.permazen.core">ReferencedObjectException</a></code> - if the object is referenced by some other object
  through a reference field configured for <a href="DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="exists(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;exists&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Determine if an object exists.

 <p>
 This method does <i>not</i> change the object's schema version if it exists
 and has a different version that this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object to find</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if object was found, false if object was not found, or if <code>id</code> specifies an unknown object type</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="copy(io.permazen.core.ObjId,io.permazen.core.Transaction,boolean,boolean,io.permazen.core.util.ObjIdMap,io.permazen.core.util.ObjIdMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copy</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;copy&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;source,
                    <a href="Transaction.html" title="class in io.permazen.core">Transaction</a>&nbsp;dest,
                    boolean&nbsp;updateVersion,
                    boolean&nbsp;notifyListeners,
                    <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ReferenceField.html" title="class in io.permazen.core">ReferenceField</a>&gt;&nbsp;deletedAssignments,
                    <a href="util/ObjIdMap.html" title="class in io.permazen.core.util">ObjIdMap</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;objectIdMap)</pre>
<div class="block">Copy an object into a (possibly different) transaction.

 <p>
 This copies the object, including all of its field data, to <code>dest</code>. If the object already exists in <code>dest</code>,
 the existing copy is completely replaced.

 <p>
 Only the object itself is copied; any other objects it references are not copied. If the target object does not exist
 in <code>dest</code>, it will be created first (and <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s notified); otherwise, first the target object's
 schema version will be upgraded if necessary to match <code>source</code> (and <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>s notified).
 Finally, as fields are copied, non-trivial changes to the target object's fields generate change listener notifications.

 <p>
 If <code>updateVersion</code> is true, the <code>source</code> object is first upgraded to
 <a href="#getSchema()">the schema version associated with this transaction</a>.
 In any case, the schema version associated with <code>source</code>, when copied, must be identical
 in this transaction and <code>dest</code>.

 <p><b>Disabling Notifications</b></p>

 <p>
 The <code>notifyListeners</code> flag controls whether notifications are delivered to <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s
 and field change listeners as objects are created and modified in <code>dest</code>. <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>s
 are always notified.

 <p><b>Deleted Assignments Handling</b></p>

 <p>
 If a reference field configured to <a href="ReferenceField.html#isAllowDeleted()">disallow deleted assignments</a> is copied,
 but the referenced object does not exist in <code>dest</code>, then a <a href="DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a> is thrown and no copy
 is performed. However, this can present an impossible chicken-and-egg situation when multiple objects need to be copied
 and there are cycles in the graph of references between objects.

 <p>
 If <code>deletedAssignments</code> is non-null, then instead of triggering an exception, illegal references to deleted objects
 are collected in <code>deletedAssignments</code>, which maps each deleted object to (some) referring field in the copied
 object. This lets the caller to decide what to do about them.

 <p><b>Object ID Remapping</b></p>

 <p>
 The optional <code>objectIdMap</code> parameter specifies how object ID's should be remapped as fields are copied into
 <code>dest</code>. This remapping applies to all <a href="ReferenceField.html" title="class in io.permazen.core">reference fields</a>, and also applies to
 <code>source</code> itself, i.e., the target object ID may be different from <code>source</code>.

 <p><b>Return Value</b></p>

 <p>
 If <code>dest</code> is this instance, and the <code>source</code> is not remapped (see below), no fields are changed and false is
 returned; however, a schema update may still occur (if <code>updateVersion</code> is true), and deleted assignment checks are
 applied.

 <p><b>Deadlocks</b></p>

 <p>
 Note: if two threads attempt to copy objects between the same two transactions at the same time but in opposite directions,
 deadlock could result.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - object ID of the source object in this transaction</dd>
<dd><code>dest</code> - destination for the copy of <code>source</code> (possibly this transaction)</dd>
<dd><code>updateVersion</code> - true to automatically update <code>source</code>'s schema version prior to the copy, false to not change it</dd>
<dd><code>notifyListeners</code> - whether to notify <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s and field change listeners</dd>
<dd><code>deletedAssignments</code> - if not null, collect assignments to deleted objects here instead of throwing
  <a href="DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a>s, where the map key is the deleted object and the map value is some referring field</dd>
<dd><code>objectIdMap</code> - if not null, a remapping of object ID's in this transaction to object ID's in <code>dest</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false if the target object already existed in <code>dest</code>, true if it was newly created</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>source</code> exists in this transaction</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if <code>deletedAssignments</code> is null, and a non-null reference field in <code>source</code>
  that disallows deleted assignments contains a reference to an object that does not exist in <code>dest</code></dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>source</code> or an ID in <code>objectIdMap</code> specifies an unknown object type</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>objectIdMap</code> maps an object ID to null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>objectIdMap</code> maps <code>source</code> to a different object type</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>objectIdMap</code> maps the value of a reference field to an incompatible object type</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if any parameter is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction or <code>dest</code> is no longer usable</dd>
<dd><code><a href="SchemaMismatchException.html" title="class in io.permazen.core">SchemaMismatchException</a></code> - if the schema version associated with <code>source</code> differs between
  this transaction and <code>dest</code></dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
</dl>
</li>
</ul>
<a id="addCreateListener(io.permazen.core.CreateListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCreateListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addCreateListener&#8203;(<a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</pre>
<div class="block">Add a <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> to this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to add</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeCreateListener(io.permazen.core.CreateListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCreateListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeCreateListener&#8203;(<a href="CreateListener.html" title="interface in io.permazen.core">CreateListener</a>&nbsp;listener)</pre>
<div class="block">Remove an <a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a> from this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="addDeleteListener(io.permazen.core.DeleteListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDeleteListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addDeleteListener&#8203;(<a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</pre>
<div class="block">Add a <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> to this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to add</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeDeleteListener(io.permazen.core.DeleteListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDeleteListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeDeleteListener&#8203;(<a href="DeleteListener.html" title="interface in io.permazen.core">DeleteListener</a>&nbsp;listener)</pre>
<div class="block">Remove an <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a> from this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="getSchemaVersion(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaVersion</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getSchemaVersion&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Read the current schema version of the given object. Does not change the object's version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>object's current schema version</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="updateSchemaVersion(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateSchemaVersion</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;updateSchemaVersion&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Change the schema version of the specified object, if necessary, so that its version matches
 <a href="#getSchema()">the schema version associated with this transaction</a>.

 <p>
 If a schema change occurs, any registered <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>s will be notified prior
 to this method returning.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object to delete</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object schema version was changed, otherwise false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - if the object version could not be updated because the object's type
   does not exist in the schema version associated with this transaction</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getSchemaVersion(io.permazen.core.ObjId)"><code>getSchemaVersion(ObjId)</code></a></dd>
</dl>
</li>
</ul>
<a id="queryVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryVersion</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex.html" title="class in io.permazen.core">CoreIndex</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;queryVersion()</pre>
<div class="block">Query objects by schema version.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of all database objects indexed by schema version</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="addVersionChangeListener(io.permazen.core.VersionChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addVersionChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addVersionChangeListener&#8203;(<a href="VersionChangeListener.html" title="interface in io.permazen.core">VersionChangeListener</a>&nbsp;listener)</pre>
<div class="block">Add an <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a> to this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to add</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeVersionChangeListener(io.permazen.core.VersionChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeVersionChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeVersionChangeListener&#8203;(<a href="VersionChangeListener.html" title="interface in io.permazen.core">VersionChangeListener</a>&nbsp;listener)</pre>
<div class="block">Remove an <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a> from this transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="getAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAll</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;getAll()</pre>
<div class="block">Get all objects in the database.

 <p>
 The returned set includes objects from all schema versions. Use <a href="#queryVersion()"><code>queryVersion()</code></a> to
 find objects with a specific schema version.

 <p>
 The returned set is mutable, with the exception that <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true#add(E)" title="class or interface in java.util" class="externalLink"><code>add()</code></a> is not supported.
 Deleting an element results in <a href="#delete(io.permazen.core.ObjId)">deleting</a> the corresponding object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a live view of all database objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getAll(int)"><code>getAll(int)</code></a></dd>
</dl>
</li>
</ul>
<a id="getAll(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAll</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;getAll&#8203;(int&nbsp;storageId)</pre>
<div class="block">Get all objects whose object type has the specified storage ID.

 <p>
 The returned set is mutable, with the exception that <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true#add(E)" title="class or interface in java.util" class="externalLink"><code>add()</code></a> is not supported.
 Deleting an element results in <a href="#delete(io.permazen.core.ObjId)">deleting</a> the corresponding object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - object type storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a live view of all database objects having the specified storage ID</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>storageId</code> does not correspond to any known object type</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getAll()"><code>getAll()</code></a></dd>
</dl>
</li>
</ul>
<a id="readSimpleField(io.permazen.core.ObjId,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readSimpleField</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;readSimpleField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                              int&nbsp;storageId,
                              boolean&nbsp;updateVersion)</pre>
<div class="block">Read the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> from an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary, prior to
 reading the field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a></dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>value of the field in the object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
</dl>
</li>
</ul>
<a id="writeSimpleField(io.permazen.core.ObjId,int,java.lang.Object,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSimpleField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;writeSimpleField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                             int&nbsp;storageId,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;value,
                             boolean&nbsp;updateVersion)</pre>
<div class="block">Change the value of a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> in an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary, prior to
 writing the field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a></dd>
<dd><code>value</code> - new value for the field</dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>value</code> is not an appropriate value for the field</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="getTypeDescription(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTypeDescription</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getTypeDescription&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Get a description of the given object's type.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>textual description of the specified object's type</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="readCounterField(io.permazen.core.ObjId,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readCounterField</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;readCounterField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                             int&nbsp;storageId,
                             boolean&nbsp;updateVersion)</pre>
<div class="block">Read the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> from an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary, prior to
 reading the field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a></dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>value of the counter in the object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="writeCounterField(io.permazen.core.ObjId,int,long,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCounterField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;writeCounterField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                              int&nbsp;storageId,
                              long&nbsp;value,
                              boolean&nbsp;updateVersion)</pre>
<div class="block">Set the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary, prior to
 writing the field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a></dd>
<dd><code>value</code> - new counter value</dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="adjustCounterField(io.permazen.core.ObjId,int,long,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustCounterField</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;adjustCounterField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                               int&nbsp;storageId,
                               long&nbsp;offset,
                               boolean&nbsp;updateVersion)</pre>
<div class="block">Adjust the value of a <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> in an object by some amount, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary, prior to
 writing the field.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a></dd>
<dd><code>offset</code> - offset value to add to counter value</dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="CounterField.html" title="class in io.permazen.core"><code>CounterField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="readSetField(io.permazen.core.ObjId,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readSetField</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;?&gt;&nbsp;readSetField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                                    int&nbsp;storageId,
                                    boolean&nbsp;updateVersion)</pre>
<div class="block">Access a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> associated with an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a></dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set field value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="readListField(io.permazen.core.ObjId,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readListField</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;?&gt;&nbsp;readListField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                             int&nbsp;storageId,
                             boolean&nbsp;updateVersion)</pre>
<div class="block">Access a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> associated with an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a></dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list field value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="readMapField(io.permazen.core.ObjId,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMapField</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableMap</a>&lt;?,&#8203;?&gt;&nbsp;readMapField&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                                            int&nbsp;storageId,
                                            boolean&nbsp;updateVersion)</pre>
<div class="block">Access a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> associated with an object, optionally updating the object's schema version.

 <p>
 If <code>updateVersion</code> is true, the schema version of the object will be automatically changed to match
 <a href="#getSchema()">the schema version associated with this transaction</a>, if necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID of the object</dd>
<dd><code>storageId</code> - storage ID of the <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a></dd>
<dd><code>updateVersion</code> - true to first automatically update the object's schema version, false to not change it</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>map field value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if no object with ID equal to <code>id</code> is found</dd>
<dd><code><a href="UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if <code>id</code> specifies an unknown object type</dd>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> corresponding to <code>storageId</code> exists in the object</dd>
<dd><code><a href="TypeNotInSchemaVersionException.html" title="class in io.permazen.core">TypeNotInSchemaVersionException</a></code> - <code>updateVersion</code> is true and the object could not be updated because
   the object's type does not exist in the schema version associated with this transaction</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</li>
</ul>
<a id="getKey(io.permazen.core.ObjId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;getKey&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</pre>
<div class="block">Get the <code>byte[]</code> key in the underlying key/value store corresponding to the specified object.

 <p>
 Notes:
 <ul>
  <li>This method does not check whether <code>id</code> is valid or the object actually exists.</li>
  <li>Objects utilize multiple keys; the return value is the common prefix of all such keys.</li>
  <li>The <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> should not be modified directly, otherwise behavior is undefined</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key corresponding to <code>id</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../JTransaction.html#getKey(io.permazen.JObject)"><code>JTransaction.getKey()</code></a></dd>
</dl>
</li>
</ul>
<a id="getKey(io.permazen.core.ObjId,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;getKey&#8203;(<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
                     int&nbsp;storageId)</pre>
<div class="block">Get the <code>byte[]</code> key in the underlying key/value store corresponding to the specified field in the specified object.

 <p>
 Notes:
 <ul>
  <li>This method does not check whether <code>id</code> is valid, the object exists,
      or the field actually exists in the object's current schema version.</li>
  <li>Complex fields utilize multiple keys; the return value is the common prefix of all such keys.</li>
  <li>The <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> should not be modified directly, otherwise behavior is undefined</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - object ID</dd>
<dd><code>storageId</code> - field storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key of the field in the specified object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>storageId</code> is less than or equal to zero</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../JTransaction.html#getKey(io.permazen.JObject,java.lang.String)"><code>JTransaction.getKey()</code></a>, 
<a href="../kv/KVTransaction.html#watchKey(byte%5B%5D)"><code>KVTransaction.watchKey()</code></a></dd>
</dl>
</li>
</ul>
<a id="addSimpleFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SimpleFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSimpleFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addSimpleFieldChangeListener&#8203;(int&nbsp;storageId,
                                         int[]&nbsp;path,
                                         <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                         <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Monitor for changes within this transaction of the value of the given field, as seen through a path of references.

 <p>
 When the specified field is changed in some object T, a listener notification will be delivered for each object R
 that refers to object T through the specified path of reference fields (if <code>path</code> is empty, then R = T).
 Notifications are delivered at the end of the mutation operation just prior to returning to the caller. If the listener
 method performs additional mutation(s) which are themselves being listened for, those notifications will also be delivered
 prior to the returning to the original caller. Therefore, care must be taken to avoid change notification dependency
 loops when listeners can themselves mutate fields, to avoid infinite loops.

 <p>
 The <code>filters</code>, if any, are applied to <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>'s at the corresponding steps in the path: <code>filters[0]</code>
 is applied to the starting objects R, <code>filters[1]</code> is applied to the objects reachable from R via <code>path[0]</code>,
 etc., up to <code>filters[path.length]</code>, which applies to the target objects T. <code>filters</code> or any element
 therein may be null to indicate no restriction.

 <p>
 A referring object R may refer to the changed object T through more than one sequence of objects matching <code>path</code>;
 if so, R will still appear only once in the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>NavigableSet</code></a> provided to the listener (this is of course required
 by set semantics).

 <p>
 Although the reference back-tracking algorithm does consolidate multiple paths between the same two objects,
 be careful to avoid an explosion of notifications when objects in the <code>path</code> have a high degree of fan-in.

 <p>
 When a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a> in <code>path</code> also happens to be the field being changed, then there is ambiguity
 about how the set of referring objects is calculated: does it use the field's value before or after the change?
 This API guarantees that the answer is "after the change"; however, if another listener on the same field is
 invoked before <code>listener</code> and mutates any reference field(s) in <code>path</code>, then whether that additional
 change is also be included in the calculation is undefined.

 <p>
 Therefore, for consistency, avoid changing any <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a> from within a listener callback when that
 field is also in some other listener's reference path, and both listeners are watching the same field.

 <p>
 Permazen allows a field's type to change across schema versions, therefore some schema version may exist in
 which the field associated with <code>storageId</code> is not a <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>. In such cases, <code>listener</code>
 will receive notifications about those changes if it also happens to implement the other listener interface.
 In other words, this method delegates directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="addSetFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SetFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSetFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addSetFieldChangeListener&#8203;(int&nbsp;storageId,
                                      int[]&nbsp;path,
                                      <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                      <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Monitor for changes within this transaction to the specified <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schema versions, therefore some schema version may exist in
 which the field associated with <code>storageId</code> is not a <a href="SetField.html" title="class in io.permazen.core"><code>SetField</code></a>. In such cases, <code>listener</code>
 will receive notifications about those changes if it also happens to implement the other listener interface.
 In other words, this method delegates directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="addListFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.ListFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addListFieldChangeListener&#8203;(int&nbsp;storageId,
                                       int[]&nbsp;path,
                                       <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                       <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Monitor for changes within this transaction to the specified <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schema versions, therefore some schema version may exist in
 which the field associated with <code>storageId</code> is not a <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>. In such cases, <code>listener</code>
 will receive notifications about those changes if it also happens to implement the other listener interface.
 In other words, this method delegates directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="addMapFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.MapFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addMapFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addMapFieldChangeListener&#8203;(int&nbsp;storageId,
                                      int[]&nbsp;path,
                                      <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                      <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Monitor for changes within this transaction to the specified <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schema versions, therefore some schema version may exist in
 which the field associated with <code>storageId</code> is not a <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>. In such cases, <code>listener</code>
 will receive notifications about those changes if it also happens to implement the other listener interface.
 In other words, this method delegates directly to <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="addFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addFieldChangeListener&#8203;(int&nbsp;storageId,
                                   int[]&nbsp;path,
                                   <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;listener)</pre>
<div class="block">Monitor for changes within this transaction to the specified <a href="Field.html" title="class in io.permazen.core"><code>Field</code></a> as seen through a path of references.

 <p>
 See <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a> for details on how notifications are delivered.

 <p>
 Permazen allows a field's type to change across schema versions, therefore in different schema versions the
 specified field may have different types. The <code>listener</code> will receive notifications about a field change
 if it implements the interface appropriate for the field's current type (i.e., <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>,
 <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>, or <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>) at the time
 of the change.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeSimpleFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SimpleFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSimpleFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeSimpleFieldChangeListener&#8203;(int&nbsp;storageId,
                                            int[]&nbsp;path,
                                            <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                            <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core">SimpleFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeSetFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.SetFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSetFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeSetFieldChangeListener&#8203;(int&nbsp;storageId,
                                         int[]&nbsp;path,
                                         <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                         <a href="SetFieldChangeListener.html" title="interface in io.permazen.core">SetFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Remove a field monitor previously added via <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeListFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.ListFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeListFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeListFieldChangeListener&#8203;(int&nbsp;storageId,
                                          int[]&nbsp;path,
                                          <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                          <a href="ListFieldChangeListener.html" title="interface in io.permazen.core">ListFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Remove a field monitor previously added via <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeMapFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],io.permazen.core.MapFieldChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeMapFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeMapFieldChangeListener&#8203;(int&nbsp;storageId,
                                         int[]&nbsp;path,
                                         <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                         <a href="MapFieldChangeListener.html" title="interface in io.permazen.core">MapFieldChangeListener</a>&nbsp;listener)</pre>
<div class="block">Remove a field monitor previously added via <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>
 (or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="removeFieldChangeListener(int,int[],io.permazen.kv.KeyRanges[],java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFieldChangeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeFieldChangeListener&#8203;(int&nbsp;storageId,
                                      int[]&nbsp;path,
                                      <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;listener)</pre>
<div class="block">Remove a field monitor previously added via <a href="#addSimpleFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SimpleFieldChangeListener)"><code>addSimpleFieldChangeListener()</code></a>,
 <a href="#addSetFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.SetFieldChangeListener)"><code>addSetFieldChangeListener()</code></a>,
 <a href="#addListFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.ListFieldChangeListener)"><code>addListFieldChangeListener()</code></a>,
 <a href="#addMapFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,io.permazen.core.MapFieldChangeListener)"><code>addMapFieldChangeListener()</code></a>,
 or <a href="#addFieldChangeListener(int,int%5B%5D,io.permazen.kv.KeyRanges%5B%5D,java.lang.Object)"><code>addFieldChangeListener()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - storage ID of the field to no longer monitor</dd>
<dd><code>path</code> - path of reference fields (represented by storage IDs) through which to monitor field;
  negated values denote inverse traversal of the field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>listener</code> - callback for notifications on changes in value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>path</code> or <code>listener</code> is null</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink">UnsupportedOperationException</a></code> - if <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a> has been invoked on this instance</dd>
</dl>
</li>
</ul>
<a id="followReferencePath(java.lang.Iterable,int[],io.permazen.kv.KeyRanges[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>followReferencePath</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;followReferencePath&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;startObjects,
                                               int[]&nbsp;path,
                                               <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters)</pre>
<div class="block">Find all objects referred to by any object in the given start set through the specified path of references.

 <p>
 Each value in <code>path</code> represents a reference field traversed in the path to some target object(s); if a
 value in <code>path</code> is negated, then the field is traversed in the inverse direction.

 <p>
 If <code>path</code> is empty, then <code>startObjects</code> is returned.

 <p>
 The <code>filters</code>, if any, are applied to <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>'s at the corresponding steps in the path: <code>filters[0]</code>
 is applied to <code>startObjects</code>, <code>filters[1]</code> is applied to the objects reachable from <code>startObjects</code>
 via <code>path[0]</code>, etc., up to <code>filters[path.length]</code>, which applies to the final target objects. <code>filters</code>
 or any element therein may be null to indicate no restriction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startObjects</code> - starting objects</dd>
<dd><code>path</code> - path of zero or more reference fields (represented by storage IDs) through which to reach the target objects;
  negated values denote an inverse traversal of the corresponding reference field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only set of objects referred to by the <code>startObjects</code> via <code>path</code> restricted by <code>filters</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>startObjects</code> or <code>path</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>filters</code> is not null and does not have length <code>path.length + 1</code></dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="invertReferencePath(int[],io.permazen.kv.KeyRanges[],java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invertReferencePath</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util" class="externalLink">NavigableSet</a>&lt;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;invertReferencePath&#8203;(int[]&nbsp;path,
                                               <a href="../kv/KeyRanges.html" title="class in io.permazen.kv">KeyRanges</a>[]&nbsp;filters,
                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;? extends <a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;targetObjects)</pre>
<div class="block">Find all objects that refer to any object in the given target set through the specified path of references.

 <p>
 Each value in <code>path</code> represents a reference field traversed in the path to the target object(s); if a
 value in <code>path</code> is negated, then the field is traversed in the inverse direction.

 <p>
 If <code>path</code> is empty, then <code>targetObjects</code> is returned.

 <p>
 The <code>filters</code>, if any, are applied to <a href="ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>'s at the corresponding steps in the path:
 <code>filters[path.length]</code> is applied to <code>targetObjects</code>, <code>filters[path.length - 1]</code> is applied to the
 objects referring to <code>targetObjects</code> via <code>path[path.length - 1]</code>, etc., down to <code>filters[0]</code>, which
 applies to the objects at the start of the path being inverted. <code>filters</code> or any element therein may be null to
 indicate no restriction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - path of zero or more reference fields (represented by storage IDs) through which to reach the target objects;
  negated values denote an inverse traversal of the corresponding reference field</dd>
<dd><code>filters</code> - if not null, an array of length <code>path.length + 1</code> containing optional filters to be applied
  to object ID's after the corresponding steps in the path</dd>
<dd><code>targetObjects</code> - target objects</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only set of objects that refer to the <code>targetObjects</code> via <code>path</code> restricted by <code>filters</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains a storage ID that does not correspond to a <a href="ReferenceField.html" title="class in io.permazen.core"><code>ReferenceField</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>targetObjects</code> or <code>path</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>filters</code> is not null and does not have length <code>path.length + 1</code></dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryIndex(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryIndex</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex.html" title="class in io.permazen.core">CoreIndex</a>&lt;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;queryIndex&#8203;(int&nbsp;storageId)</pre>
<div class="block">Find all values stored in the specified <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> and, for each value,
 the set of all objects having that value in the field.

 <p>
 The <code>storageId</code> may refer to any <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>, whether part of an object or a sub-field
 of a <a href="ComplexField.html" title="class in io.permazen.core"><code>ComplexField</code></a>.

 <p>
 The returned index contains objects from all recorded schema versions for which the field is indexed;
 this method does not check whether any such schema versions exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a>'s storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of field values mapped to sets of objects with the value in the field</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="SimpleField.html" title="class in io.permazen.core"><code>SimpleField</code></a> corresponding to <code>storageId</code> exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryListElementIndex(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryListElementIndex</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;queryListElementIndex&#8203;(int&nbsp;storageId)</pre>
<div class="block">Find all values stored as an element in the specified <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> and, for each such value,
 the set of all objects having that value as an element in the list and the corresponding list index.

 <p>
 The returned index contains objects from all recorded schema versions for which the list element field is indexed;
 this method does not check whether any such schema versions exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a>'s element sub-field storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of list element values, objects with the value in the list, and corresponding indices</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="ListField.html" title="class in io.permazen.core"><code>ListField</code></a> element sub-field corresponding to <code>storageId</code> exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryMapValueIndex(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryMapValueIndex</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>,&#8203;?&gt;&nbsp;queryMapValueIndex&#8203;(int&nbsp;storageId)</pre>
<div class="block">Find all values stored as a value in the specified <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> and, for each such value,
 the set of all objects having that value as a value in the map and the corresponding key.

 <p>
 The returned index contains objects from all recorded schema versions for which the map value field is indexed;
 this method does not check whether any such schema versions exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a>'s value sub-field storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of map values, objects with the value in the map, and corresponding keys</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="MapField.html" title="class in io.permazen.core"><code>MapField</code></a> value sub-field corresponding to <code>storageId</code> exists</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryCompositeIndex2(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryCompositeIndex2</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex2.html" title="class in io.permazen.core">CoreIndex2</a>&lt;?,&#8203;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;queryCompositeIndex2&#8203;(int&nbsp;storageId)</pre>
<div class="block">Access a composite index on two fields.

 <p>
 The returned index contains objects from all recorded schema versions in which the composite index is defined.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - composite index's storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if <code>storageID</code> is unknown or does not correspond to a composite index on two fields</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryCompositeIndex3(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryCompositeIndex3</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex3.html" title="class in io.permazen.core">CoreIndex3</a>&lt;?,&#8203;?,&#8203;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;queryCompositeIndex3&#8203;(int&nbsp;storageId)</pre>
<div class="block">Access a composite index on three fields.

 <p>
 The returned index contains objects from all recorded schema versions in which the composite index is defined.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - composite index's storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if <code>storageID</code> is unknown or does not correspond to a composite index on two fields</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryCompositeIndex4(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryCompositeIndex4</h4>
<pre class="methodSignature">public&nbsp;<a href="CoreIndex4.html" title="class in io.permazen.core">CoreIndex4</a>&lt;?,&#8203;?,&#8203;?,&#8203;?,&#8203;<a href="ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;&nbsp;queryCompositeIndex4&#8203;(int&nbsp;storageId)</pre>
<div class="block">Access a composite index on four fields.

 <p>
 The returned index contains objects from all recorded schema versions in which the composite index is defined.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - composite index's storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if <code>storageID</code> is unknown or does not correspond to a composite index on two fields</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="queryCompositeIndex(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryCompositeIndex</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;queryCompositeIndex&#8203;(int&nbsp;storageId)</pre>
<div class="block">Access any composite index by storage ID, regardless of the number of fields indexed.

 <p>
 The returned index contains objects from all recorded schema versions in which the composite index is defined.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storageId</code> - composite index's storage ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnknownIndexException.html" title="class in io.permazen.core">UnknownIndexException</a></code> - if <code>storageID</code> is unknown or does not correspond to a composite index</dd>
<dd><code><a href="StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</li>
</ul>
<a id="snapshotListeners()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotListeners</h4>
<pre class="methodSignature">public&nbsp;<a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a>&nbsp;snapshotListeners()</pre>
<div class="block">Create a read-only snapshot of all (<a href="CreateListener.html" title="interface in io.permazen.core"><code>CreateListener</code></a>s, <a href="DeleteListener.html" title="interface in io.permazen.core"><code>DeleteListener</code></a>s, <a href="VersionChangeListener.html" title="interface in io.permazen.core"><code>VersionChangeListener</code></a>s,
 <a href="SimpleFieldChangeListener.html" title="interface in io.permazen.core"><code>SimpleFieldChangeListener</code></a>s, <a href="SetFieldChangeListener.html" title="interface in io.permazen.core"><code>SetFieldChangeListener</code></a>s, <a href="ListFieldChangeListener.html" title="interface in io.permazen.core"><code>ListFieldChangeListener</code></a>s, and
 <a href="MapFieldChangeListener.html" title="interface in io.permazen.core"><code>MapFieldChangeListener</code></a>s currently registered on this instance.

 <p>
 The snapshot can be applied to other transactions having compatible schemas via <a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a>.
 Use of a <a href="Transaction.ListenerSet.html" title="class in io.permazen.core"><code>Transaction.ListenerSet</code></a> also allows certain internal optimizations.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>snapshot of listeners associated with this instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setListeners(io.permazen.core.Transaction.ListenerSet)"><code>setListeners()</code></a></dd>
</dl>
</li>
</ul>
<a id="setListeners(io.permazen.core.Transaction.ListenerSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setListeners</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setListeners&#8203;(<a href="Transaction.ListenerSet.html" title="class in io.permazen.core">Transaction.ListenerSet</a>&nbsp;listeners)</pre>
<div class="block">Apply a snapshot created via <a href="#snapshotListeners()"><code>snapshotListeners()</code></a> to this instance.

 <p>
 Any currently registered listeners are unregistered and replaced by the listeners in <code>listeners</code>.
 This method may be invoked multiple times; however, once this method has been invoked, any subsequent
 attempts to register or unregister individual listeners will result in an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>UnsupportedOperationException</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listeners</code> - listener set created by <a href="#snapshotListeners()"><code>snapshotListeners()</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listeners</code> was created from a transaction with an incompatible schema</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>listeners</code> is null</dd>
</dl>
</li>
</ul>
<a id="setUserObject(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserObject</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUserObject&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;obj)</pre>
<div class="block">Associate an arbitrary object with this instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>obj</code> - user object</dd>
</dl>
</li>
</ul>
<a id="getUserObject()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUserObject</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;getUserObject()</pre>
<div class="block">Get the object with this instance by <a href="#setUserObject(java.lang.Object)"><code>setUserObject()</code></a>, if any.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated user object, or null if none has been set</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</body>
</html>
