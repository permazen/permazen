<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>FollowPath (Permazen 4.1.9-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FollowPath (Permazen 4.1.9-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FollowPath.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../io/permazen/annotation/JCompositeIndex.html" title="annotation in io.permazen.annotation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/permazen/annotation/FollowPath.html" target="_top">Frames</a></li>
<li><a href="FollowPath.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.permazen.annotation</div>
<h2 title="Annotation Type FollowPath" class="title">Annotation Type FollowPath</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>={<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#ANNOTATION_TYPE" title="class or interface in java.lang.annotation">ANNOTATION_TYPE</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>})
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</a>
public @interface <span class="memberNameLabel">FollowPath</span></pre>
<div class="block">Java annotation for declaring methods that should return objects found by traversing a <a href="../../../io/permazen/ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a>.

 <p>
 This annotation can be used as a convenience to let Permazen auto-generate reference path traversal code.
 A common use case is inverting references, e.g., from a parent back to a child in a one-to-many relationship.

 <p>
 Annotating an abstract method with <code>@FollowPath("some.path")</code> is just short-hand for providing an implementation
 that creates and traverses the <a href="../../../io/permazen/ReferencePath.html" title="class in io.permazen">reference path</a> <code>"some.path"</code>.
 See <a href="../../../io/permazen/ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a> for details on reference paths. The specified reference path is assumed to not
 have any <a href="../../../io/permazen/ReferencePath.html#getTargetField--">target field</a>.

 <p>
 For example, the following declaration:
 <pre>
      &#64;FollowPath("^TreeNode:parent^")
      public abstract NavigableSet&lt;TreeNode&gt; getChildren();
 </pre>
 is functionally equivalent to, and slightly more efficient than:
 <pre>

      public NavigableSet&lt;TreeNode&gt; getChildren() {
          final JTransaction jtx = this.getTransaction();
          final ReferencePath path = jtx.getPermazen().parseReferencePath(this.getClass(), "^TreeNode:parent^", false);
          return jtx.followReferencePath(path, Collections.singleton(this));
      }
 </pre>

 <p><b>Method Return Type</b></p>

 <p>
 The annotated method should return <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util"><code>NavigableSet&lt;T&gt;</code></a>, where <code>T</code> is any super-type of
 the type(s) at the other end of the reference path.

 <p>
 However, if <code>firstOnly</code> is true then the method returns only the first object found (if any), and the method's
 return type should instead be <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util"><code>Optional</code></a><code>&lt;T&gt;</code>; this is always appropriate when the reference path
 contains only forward traversals of many-to-one relationships.

 <p>
 For example:
 <pre>
  &#64;PermazenType
  public interface TreeNode extends JObject {

      /**
       * Get the parent of this node, or null if node is a root.
       *&#47;
      TreeNode getParent();
      void setParent(TreeNode parent);

      /**
       * Get the children of this node.
       *&#47;
      <b>&#64;FollowPath("^TreeNode:parent^")</b>
      NavigableSet&lt;TreeNode&gt; getChildren();

      /**
       * Get the siblings of this node (including this node).
       *&#47;
      <b>&#64;FollowPath("parent.^TreeNode:parent^")</b>
      NavigableSet&lt;TreeNode&gt; getSiblings();

      /**
       * Get the grandparent of this node.
       *&#47;
      <b>&#64;FollowPath(value = "parent.parent", firstOnly = true)</b>
      Optional&lt;TreeNode&gt; getGrandparent();
  }
 </pre>

 <p><b>Inverse Paths</b></p>

 <p>
 Inverse paths may be specified using the combination of <a href="../../../io/permazen/annotation/FollowPath.html#inverseOf--"><code>inverseOf()</code></a> and <a href="../../../io/permazen/annotation/FollowPath.html#startingFrom--"><code>startingFrom()</code></a> properties.
 So the following two declarations are functionally equivalent:
 <pre>
      /**
       * Get the children of this node.
       *&#47;
      <b>&#64;FollowPath("^TreeNode:parent^")</b>
      NavigableSet&lt;TreeNode&gt; getChildren();

      /**
       * Get the children of this node.
       *&#47;
      <b>&#64;FollowPath(inverseOf = "parent", startingFrom = TreeNode.class)</b>
      NavigableSet&lt;TreeNode&gt; getChildren();
 </pre>

 <p><b>Meta-Annotations</b></p>

 <p>
 This annotation may be configured indirectly as a Spring
 <a href="https://github.com/spring-projects/spring-framework/wiki/Spring-Annotation-Programming-Model#meta-annotations">meta-annotation</a>
 when <code>spring-core</code> is on the classpath.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/permazen/annotation/FollowPath.html#firstOnly--">firstOnly</a></span></code>
<div class="block">Whether only the first, if any, of the set of objects should be returned, or the entire set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/permazen/annotation/FollowPath.html#inverseOf--">inverseOf</a></span></code>
<div class="block">The reference path to follow in the inverse direction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/permazen/annotation/FollowPath.html#startingFrom--">startingFrom</a></span></code>
<div class="block">The starting model type for the reference path to follow in the inverse direction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/permazen/annotation/FollowPath.html#value--">value</a></span></code>
<div class="block">The reference path to follow in the forward direction.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="value--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>value</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value</pre>
<div class="block">The reference path to follow in the forward direction.

 <p>
 The starting type for the reference path is the class containing the annotated method.

 <p>
 If this property is used, both of <a href="../../../io/permazen/annotation/FollowPath.html#inverseOf--"><code>inverseOf()</code></a> and <a href="../../../io/permazen/annotation/FollowPath.html#startingFrom--"><code>startingFrom()</code></a> must be left unset.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the reference path to traverse in the forward direction</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="inverseOf--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inverseOf</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;inverseOf</pre>
<div class="block">The reference path to follow in the inverse direction.

 <p>
 If this property is used, <a href="../../../io/permazen/annotation/FollowPath.html#startingFrom--"><code>startingFrom()</code></a> must also be specified and <a href="../../../io/permazen/annotation/FollowPath.html#value--"><code>value()</code></a> must be left unset.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the reference path to traverse in the inverse direction</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="startingFrom--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startingFrom</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;startingFrom</pre>
<div class="block">The starting model type for the reference path to follow in the inverse direction.

 <p>
 When an inverse reference path is specified, the starting type for the reference path is not implied, because
 the path starts from the "remote end", instead of from the class containing the annotated method.
 Therefore, it must be explicitly specified via this property.

 <p>
 If this property is used, <a href="../../../io/permazen/annotation/FollowPath.html#inverseOf--"><code>inverseOf()</code></a> must also be specified and <a href="../../../io/permazen/annotation/FollowPath.html#value--"><code>value()</code></a> must be left unset.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the starting model type for the inverted reference path</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>void.class</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="firstOnly--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>firstOnly</h4>
<pre>public abstract&nbsp;boolean&nbsp;firstOnly</pre>
<div class="block">Whether only the first, if any, of the set of objects should be returned, or the entire set.

 <p>
 If this property is true, then the annotated method's return type must be <code>java.util.Optional</code><code>&lt;T&gt;</code>,
 or if false, it must be <a href="https://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util"><code>NavigableSet</code></a><code>&lt;T&gt;</code>, where <code>T</code> is some super-type of the type(s)
 at the remote end of the reference path.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether to return only the first object</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FollowPath.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../io/permazen/annotation/JCompositeIndex.html" title="annotation in io.permazen.annotation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/permazen/annotation/FollowPath.html" target="_top">Frames</a></li>
<li><a href="FollowPath.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2022. All rights reserved.</small></p>
</body>
</html>
