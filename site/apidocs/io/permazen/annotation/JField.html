<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>JField (Permazen 4.2.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JField (Permazen 4.2.0 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JField.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#annotation.type.field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation.type.field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.permazen.annotation</a></div>
<h2 title="Annotation Type JField" class="title">Annotation Type JField</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation" class="externalLink">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation" class="externalLink">RUNTIME</a>)
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation" class="externalLink">@Target</a>({<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#ANNOTATION_TYPE" title="class or interface in java.lang.annotation" class="externalLink">ANNOTATION_TYPE</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation" class="externalLink">METHOD</a>})
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation" class="externalLink">@Documented</a>
public @interface <span class="memberNameLabel">JField</span></pre>
<div class="block">Java annotation for defining simple fields, including reference fields that refer to other Java model object types,
 and <a href="../Counter.html" title="class in io.permazen"><code>Counter</code></a> fields.

 <p>
 This annotation is used in two scenarios:
 <ul>
  <li>To describe a <b>simple</b> or <b>counter</b> database field by annotating the corresponding abstract Java bean
      property `getter' method</li>
  <li>To describe the <b>sub-field</b> of a <b>complex</b> database field (i.e., set, list, or map), that is,
      a collection <code>element</code> field, or a map <code>key</code> or <code>value</code> field. In this case this annotation
      nests within the corresponding <a href="JListField.html" title="annotation in io.permazen.annotation"><code>&#64;JListField</code></a>, <a href="JSetField.html" title="annotation in io.permazen.annotation"><code>&#64;JSetField</code></a>,
      or <a href="JMapField.html" title="annotation in io.permazen.annotation"><code>&#64;JMapField</code></a> annotation.</li>
 </ul>

 <p>
 This annotation can be applied to superclass and interface methods to have the corresponding field defined in all
 <a href="PermazenType.html" title="annotation in io.permazen.annotation"><code>&#64;PermazenType</code></a>-annotated sub-types.

 <p>
 When auto-generation of properties is enabled, use of this annotation is not required unless you need to override
 the defaults; see <a href="PermazenType.html#autogenFields()"><code>PermazenType.autogenFields()</code></a>.

 <p><b>Non-Reference Fields</b></p>

 <p>
 If the field is not a reference field, the property type is inferred from the type of the annotated method or,
 in the case of complex sub-fields, the generic type of the collection class. The name of the property type
 must be registered in the <a href="../core/FieldTypeRegistry.html" title="class in io.permazen.core"><code>FieldTypeRegistry</code></a> (perhaps via <a href="JFieldType.html" title="annotation in io.permazen.annotation"><code>&#64;JFieldType</code></a>),
 and the corresponding <a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a> is then used to encode/decode field values.
 See <a href="../core/FieldTypeRegistry.html" title="class in io.permazen.core"><code>FieldTypeRegistry</code></a> for a list of built-in (pre-defined) field types.
 The type name may also be specified explicitly by <a href="#name()"><code>name()</code></a>.

 <p>
 Simple fields may be <a href="#indexed()"><code>indexed()</code></a>; see <a href="../index/package-summary.html"><code>io.permazen.index</code></a> for information on querying indexes.
 <a href="../Counter.html" title="class in io.permazen"><code>Counter</code></a> fields may not be indexed.

 <p>
 Two or more simple fields may be indexed together in a composite index; see <a href="JCompositeIndex.html" title="annotation in io.permazen.annotation"><code>&#64;JCompositeIndex</code></a>.

 <p><b>Reference Fields</b></p>

 <p>
 If the type of the field is (assignable to) a <a href="PermazenType.html" title="annotation in io.permazen.annotation"><code>&#64;PermazenType</code></a>-annotated Java model object type,
 or any supertype thereof, then the field is a reference field.

 <p>
 Reference fields are always indexed; the value of <a href="#indexed()"><code>indexed()</code></a> is ignored.

 <p><b>Referential Integrity</b></p>

 <p>
 In general, reference fields may reference objects that don't actually exist. This can happen in one of two ways:
 (a) a field is set to an invalid reference, or (b) a field references a valid object that is subsequently deleted.
 The <a href="#allowDeleted()"><code>allowDeleted()</code></a> and <a href="#onDelete()"><code>onDelete()</code></a> properties, respectively, control whether (a) or (b) is permitted.

 <p>
 By default, neither (a) nor (b) is allowed; if attempted, a <a href="../core/DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a> is thrown.
 This ensures references are always valid.

 <p><b>Copy Cascades</b></p>

 <p>
 The <a href="../JObject.html" title="interface in io.permazen"><code>JObject</code></a> methods <a href="../JObject.html#cascadeCopyIn(java.lang.String,boolean)"><code>cascadeCopyIn()</code></a>,
 <a href="../JObject.html#cascadeCopyOut(java.lang.String,boolean)"><code>cascadeCopyOut()</code></a>, and <a href="../JObject.html#cascadeCopyTo(io.permazen.JTransaction,java.lang.String,boolean)"><code>cascadeCopyTo()</code></a>
 copy a graph of related objects between transactions by first copying a starting object, then cascading through matching
 reference fields and repeating recursively. This cascade operation is capable of traversing references in both the
 forward and inverse directions.

 <p>
 Which reference fields are traversed in a particular copy operation is determined by the supplied <i>cascade name</i>.
 Outgoing references are traversed if the cascade name is in the reference field's <a href="#cascades()"><code>cascades()</code></a> property,
 while incoming references from other objects are traversed (in the reverse direction) if the cascade name is in the
 referring object's reference field's <a href="#inverseCascades()"><code>inverseCascades()</code></a>.

 <p>
 For example:
 <pre>
  &#64;PermazenType
  public interface TreeNode extends JObject {

      /**
       * Get the parent of this node, or null if node is a root.
       *&#47;
      &#64;JField(<b>cascades = { "tree", "ancestors" }</b>, <b>inverseCascades = { "tree", "descendants" }</b>)
      TreeNode getParent();
      void setParent(TreeNode parent);

      /**
       * Get the children of this node.
       *&#47;
      &#64;FollowPath(inverseOf = "parent", startingFrom = TreeNode.class)
      NavigableSet&lt;TreeNode&gt; getChildren();

      default TreeNode copySubtreeTo(JTransaction dest) {
          return (TreeNode)this.cascadeCopyTo(dest, <b>"descendants"</b>, false);
      }

      default TreeNode copyWithAnscestorsTo(JTransaction dest) {
          return (TreeNode)this.cascadeCopyTo(dest, <b>"ancestors"</b>, false);
      }

      default TreeNode copyEntireTreeTo(JTransaction dest) {
          return (TreeNode)this.cascadeCopyTo(dest, <b>"tree"</b>, false);
      }

      default TreeNode cloneEntireTreeTo(JTransaction dest) {
          return (TreeNode)this.cascadeCopyTo(dest, <b>"tree"</b>, true);
      }

      default TreeNode cloneEntireTree() {
          return (TreeNode)this.cascadeCopyTo(this.getTransaction(), <b>"tree"</b>, true);
      }
  }
 </pre>

 <p><b>Delete Cascades</b></p>

 <p>
 Reference fields have configurable behavior when the referring object or the referred-to object is deleted;
 see <a href="#onDelete()"><code>onDelete()</code></a> and <a href="#cascadeDelete()"><code>cascadeDelete()</code></a>.

 <p><b>Uniqueness Constraints</b></p>

 <p>
 Fields that are not complex sub-fields may be marked as <a href="#unique()"><code>unique()</code></a> to impose a uniqueness constraint on the value.
 Fields with uniqueness constraints must be indexed. Uniqueness constraints are handled at the Permazen layer and function as
 an implicit validation constraint. In other words, the constraint is verified when the validation queue is processed
 and is affected by the transaction's configured <a href="../ValidationMode.html" title="enum in io.permazen"><code>ValidationMode</code></a>.

 <p>
 Optionally, specific field values may be marked as excluded from the uniqueness constraint via <a href="#uniqueExclude()"><code>uniqueExclude()</code></a>.
 If so, the specified values may appear in multiple objects without violating the constraint. Because null values
 are not allowed in annotations, include <a href="#NULL"><code>NULL</code></a> to indicate that null values should be excluded.

 <p>
 In <a href="../ValidationMode.html#AUTOMATIC"><code>ValidationMode.AUTOMATIC</code></a>, any upgraded <a href="../JObject.html" title="interface in io.permazen"><code>JObject</code></a>s are automatically
 added to the validation queue, so a uniqueness constraint added in a new schema version will be automatically verified
 when any object is upgraded.

 <p>
 Beware however, that like all other types of validation constraint, uniqueness constraints can be added or changed on a field
 without any schema version change. Therefore, after such changes, it's possible for pre-existing database objects that were
 previously valid to suddenly become invalid, and these invalid objects would not be detected until they are validated in some
 future transaction and a validation exception is thrown.

 <p><b>Upgrade Conversions</b></p>

 <p>
 When a field's type has changed in a new schema version, the old field value can be automatically converted into the
 new type. See <a href="#upgradeConversion()"><code>upgradeConversion()</code></a> for how to control this behavior.

 <p><b>Meta-Annotations</b></p>

 <p>
 This annotation may be configured indirectly as a Spring
 <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-meta-annotations">meta-annotation</a>
 when <code>spring-core</code> is on the classpath.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="annotation.type.field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Fields</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#NULL">NULL</a></span></code></th>
<td class="colLast">
<div class="block">Value for use with <a href="#uniqueExclude()"><code>uniqueExclude()</code></a> to represent a null value.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Optional Element</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allowDeleted()">allowDeleted</a></span></code></th>
<td class="colLast">
<div class="block">Allow the field to reference non-existent objects in normal transactions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allowDeletedSnapshot()">allowDeletedSnapshot</a></span></code></th>
<td class="colLast">
<div class="block">Allow the field to reference non-existent objects in snapshot transactions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cascadeDelete()">cascadeDelete</a></span></code></th>
<td class="colLast">
<div class="block">For reference fields, configure cascading behavior when the referring object is
 <a href="../JObject.html#delete()">deleted</a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cascades()">cascades</a></span></code></th>
<td class="colLast">
<div class="block">Define forward copy cascades for the annotated reference field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexed()">indexed</a></span></code></th>
<td class="colLast">
<div class="block">Whether this field is indexed or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inverseCascades()">inverseCascades</a></span></code></th>
<td class="colLast">
<div class="block">Define inverse copy cascades for the annotated reference field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#name()">name</a></span></code></th>
<td class="colLast">
<div class="block">The name of this field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../core/DeleteAction.html" title="enum in io.permazen.core">DeleteAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onDelete()">onDelete</a></span></code></th>
<td class="colLast">
<div class="block">For reference fields, configure the behavior when the referred-to object is
 <a href="../JObject.html#delete()">deleted</a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#storageId()">storageId</a></span></code></th>
<td class="colLast">
<div class="block">Storage ID for this field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#type()">type</a></span></code></th>
<td class="colLast">
<div class="block">Optional override for the type of this field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#typeSignature()">typeSignature</a></span></code></th>
<td class="colLast">
<div class="block">Optional override for the <a href="../core/FieldType.html#getEncodingSignature()">encoding signature</a>
 associated with this field's <a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a> used to encode/decode field values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unique()">unique</a></span></code></th>
<td class="colLast">
<div class="block">Require this field's value to be unique among all database objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#uniqueExclude()">uniqueExclude</a></span></code></th>
<td class="colLast">
<div class="block">Specify field value(s) which are excluded from the uniqueness constraint.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../UpgradeConversionPolicy.html" title="enum in io.permazen">UpgradeConversionPolicy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#upgradeConversion()">upgradeConversion</a></span></code></th>
<td class="colLast">
<div class="block">Specify the <a href="../UpgradeConversionPolicy.html" title="enum in io.permazen"><code>UpgradeConversionPolicy</code></a> policy to apply when a schema change occurs and this field's type changes.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="annotation.type.field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="NULL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NULL</h4>
<pre>static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;NULL</pre>
<div class="block">Value for use with <a href="#uniqueExclude()"><code>uniqueExclude()</code></a> to represent a null value.

 <p>
 Note: this particular <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>String</code></a> will never conflict with any actual field values because it contains a character
 that is not allowed in the return value from <a href="../core/FieldType.html#toString(T)"><code>FieldType.toString()</code></a>.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a id="name()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name</pre>
<div class="block">The name of this field.

 <p>
 If equal to the empty string (default value), the name is inferred from the name of the annotated Java bean getter method.

 <p>
 For sub-fields of complex fields, this property must be left unset.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the field</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="type()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;type</pre>
<div class="block">Optional override for the type of this field.

 <p>
 If set, this must equal the name of a type registered in the <a href="../core/FieldTypeRegistry.html" title="class in io.permazen.core"><code>FieldTypeRegistry</code></a>
 associated with the <a href="../core/Database.html" title="class in io.permazen.core"><code>Database</code></a> instance, and the annotated method's return type must match the
 <a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a>'s <a href="../core/FieldType.html#getTypeToken()">supported Java type</a>.

 <p>
 If equal to the empty string (default value), then the Java type is inferred from the return type of the getter method
 and the <a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a> is found via
 <a href="../core/FieldTypeRegistry.html#getFieldType(com.google.common.reflect.TypeToken)"><code>FieldTypeRegistry.getFieldType()</code></a>.

 <p>
 For reference fields (i.e., methods with return value equal to a <a href="PermazenType.html" title="annotation in io.permazen.annotation"><code>&#64;PermazenType</code></a>-annotated class),
 this property must be left unset.

 <p>
 For sub-fields of complex fields, this property can be used to force a primitive sub-field type instead of a
 primitive wrapper type. In that case, the complex field will disallow null values. For example:
 <pre>
  &#64;JSetField(element = &#64;JField(<b>type = "float"</b>)) // nulls will be disallowed
  public abstract List&lt;<b>Float</b>&gt; getScores();
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the field's type</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a>, 
<a href="../core/FieldTypeRegistry.html#getFieldType(java.lang.String,long)"><code>FieldTypeRegistry.getFieldType(String, long)</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="typeSignature()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>typeSignature</h4>
<pre>long&nbsp;typeSignature</pre>
<div class="block">Optional override for the <a href="../core/FieldType.html#getEncodingSignature()">encoding signature</a>
 associated with this field's <a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a> used to encode/decode field values.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the encoding signature of the field's type</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../core/FieldType.html" title="class in io.permazen.core"><code>FieldType</code></a>, 
<a href="../core/FieldTypeRegistry.html#getFieldType(java.lang.String,long)"><code>FieldTypeRegistry.getFieldType(String, long)</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>0L</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="storageId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storageId</h4>
<pre>int&nbsp;storageId</pre>
<div class="block">Storage ID for this field.

 <p>
 Value should be positive and unique within the contained class.

 <p>
 If zero, the configured <a href="../StorageIdGenerator.html" title="interface in io.permazen"><code>StorageIdGenerator</code></a> will be consulted to auto-generate a value
 unless <a href="PermazenType.html#autogenFields()"><code>PermazenType.autogenFields()</code></a> is false (in which case an error occurs).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the field's storage ID</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../StorageIdGenerator.html#generateFieldStorageId(java.lang.reflect.Method,java.lang.String)"><code>StorageIdGenerator.generateFieldStorageId()</code></a>, 
<a href="../StorageIdGenerator.html#generateSetElementStorageId(java.lang.reflect.Method,java.lang.String)"><code>StorageIdGenerator.generateSetElementStorageId()</code></a>, 
<a href="../StorageIdGenerator.html#generateListElementStorageId(java.lang.reflect.Method,java.lang.String)"><code>StorageIdGenerator.generateListElementStorageId()</code></a>, 
<a href="../StorageIdGenerator.html#generateMapKeyStorageId(java.lang.reflect.Method,java.lang.String)"><code>StorageIdGenerator.generateMapKeyStorageId()</code></a>, 
<a href="../StorageIdGenerator.html#generateMapValueStorageId(java.lang.reflect.Method,java.lang.String)"><code>StorageIdGenerator.generateMapValueStorageId()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>0</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="indexed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexed</h4>
<pre>boolean&nbsp;indexed</pre>
<div class="block">Whether this field is indexed or not.

 <p>
 Setting this property to true creates a simple index on this field. To have this field participate in
 a composite index on multiple fields, use <a href="JCompositeIndex.html" title="annotation in io.permazen.annotation"><code>&#64;JCompositeIndex</code></a>.

 <p>
 Note: reference fields are always indexed (for reference fields, this property is ignored).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the field is indexed</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="JCompositeIndex.html" title="annotation in io.permazen.annotation"><code>JCompositeIndex</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="cascades()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cascades</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;cascades</pre>
<div class="block">Define forward copy cascades for the annotated reference field.

 <p>
 When <a href="../JObject.html#cascadeCopyIn(java.lang.String,boolean)"><code>JObject.cascadeCopyIn()</code></a>,
 <a href="../JObject.html#cascadeCopyOut(java.lang.String,boolean)"><code>JObject.cascadeCopyOut()</code></a>, or
 <a href="../JObject.html#cascadeCopyTo(io.permazen.JTransaction,java.lang.String,boolean)"><code>JObject.cascadeCopyTo()</code></a> is invoked, if the given cascade name is one
 of the names listed here, and an object with the annotated reference field is copied, then the reference field will
 will be traversed in the forward direction and the referred-to object will also be copied.

 <p>
 For non-reference fields this property must be equal to its default value.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the field is indexed</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../JObject.html#cascadeCopyTo(io.permazen.JTransaction,java.lang.String,boolean)"><code>JObject.cascadeCopyTo()</code></a>, 
<a href="../JTransaction.html#cascadeFindAll(io.permazen.core.ObjId,java.lang.String,int)"><code>JTransaction.cascadeFindAll()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="inverseCascades()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inverseCascades</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;inverseCascades</pre>
<div class="block">Define inverse copy cascades for the annotated reference field.

 <p>
 When <a href="../JObject.html#cascadeCopyIn(java.lang.String,boolean)"><code>JObject.cascadeCopyIn()</code></a>,
 <a href="../JObject.html#cascadeCopyOut(java.lang.String,boolean)"><code>JObject.cascadeCopyOut()</code></a>, or
 <a href="../JObject.html#cascadeCopyTo(io.permazen.JTransaction,java.lang.String,boolean)"><code>JObject.cascadeCopyTo()</code></a> is invoked, if the given cascade name is one
 of the names listed here, and an object with the annotated reference field refers to an object that is copied, then the
 reference field will be traversed in the inverse direction and the referring object will also be copied.

 <p>
 For non-reference fields this property must be equal to its default value.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the field is indexed</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../JObject.html#cascadeCopyTo(io.permazen.JTransaction,java.lang.String,boolean)"><code>JObject.cascadeCopyTo()</code></a>, 
<a href="../JTransaction.html#cascadeFindAll(io.permazen.core.ObjId,java.lang.String,int)"><code>JTransaction.cascadeFindAll()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="onDelete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDelete</h4>
<pre><a href="../core/DeleteAction.html" title="enum in io.permazen.core">DeleteAction</a>&nbsp;onDelete</pre>
<div class="block">For reference fields, configure the behavior when the referred-to object is
 <a href="../JObject.html#delete()">deleted</a>.

 <p>
 For non-reference fields this property must be equal to its default value.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>desired behavior when a referenced object is deleted</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#cascadeDelete()"><code>cascadeDelete()</code></a>, 
<a href="../JObject.html#delete()"><code>JObject.delete()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>io.permazen.core.DeleteAction.EXCEPTION</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="cascadeDelete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cascadeDelete</h4>
<pre>boolean&nbsp;cascadeDelete</pre>
<div class="block">For reference fields, configure cascading behavior when the referring object is
 <a href="../JObject.html#delete()">deleted</a>. If set to true, the referred-to object
 is automatically deleted as well.

 <p>
 For non-reference fields this property must be equal to its default value.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether deletion should cascade to the referred-to object</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onDelete()"><code>onDelete()</code></a>, 
<a href="../JObject.html#delete()"><code>JObject.delete()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="unique()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unique</h4>
<pre>boolean&nbsp;unique</pre>
<div class="block">Require this field's value to be unique among all database objects.

 <p>
 This property creates an implicit uniqueness validation constraint.

 <p>
 The constraint will be checked any time normal validation is performed on an object containing the field.
 More precisely, a uniqueness constraint behaves like a JSR 303
 validation constraint with <code>groups() = </code><code>{ </code><code>Default</code><code>.class,
 </code><a href="../UniquenessConstraints.html" title="interface in io.permazen"><code>UniquenessConstraints</code></a><code>.class</code><code> }</code>. Therefore, uniqueness constraints
 are included in default validation, but you can also validate <i>only</i> uniqueness constraints via
 <a href="../JObject.html#revalidate(java.lang.Class...)"><code>myobj.revalidate(UniquenessConstraints.class)</code></a>.

 <p>
 This property must be false for sub-fields of complex fields, and for any field that is not indexed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the field's value should be unique</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#uniqueExclude()"><code>uniqueExclude()</code></a>, 
<a href="../UniquenessConstraints.html" title="interface in io.permazen"><code>UniquenessConstraints</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="uniqueExclude()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uniqueExclude</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;uniqueExclude</pre>
<div class="block">Specify field value(s) which are excluded from the uniqueness constraint.

 <p>
 The specified values must be valid <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>String</code></a> encodings of the associated field (as returned by
 <a href="../core/FieldType.html#toString(T)"><code>FieldType.toString(T)</code></a>), or the constant <a href="#NULL"><code>NULL</code></a>
 to indicate a null value. For example:
 <pre>
  &#64;JField(indexed = true, unique = true, uniqueExclude = { "Infinity", "-Infinity" })
  public abstract float getPriority();

  &#64;JField(indexed = true, unique = true, uniqueExclude = { JField.NULL })
  public abstract String getName();
 </pre>

 <p>
 This property must be left empty when <a href="#unique()"><code>unique()</code></a> is false.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>values to exclude from the uniqueness constraint</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#unique()"><code>unique()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="allowDeleted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowDeleted</h4>
<pre>boolean&nbsp;allowDeleted</pre>
<div class="block">Allow the field to reference non-existent objects in normal transactions.

 <p>
 For non-reference fields, this property must be equal to its default value.

 <p>
 Otherwise, if this property is set to false, the field is disallowed from ever referring to a non-existent object;
 instead, a <a href="../core/DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a> will be thrown. When used together with
 <a href="../core/DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a> (see <a href="#onDelete()"><code>onDelete()</code></a>), the field is guaranteed to never be a dangling reference.

 <p>
 This property only controls validation in regular (non-snapshot transactions); <a href="#allowDeletedSnapshot()"><code>allowDeletedSnapshot()</code></a>
 separately controls validation for <a href="../SnapshotJTransaction.html" title="class in io.permazen"><code>SnapshotJTransaction</code></a>s.

 <p>
 For consistency, this property must be set to true when <a href="#onDelete()"><code>onDelete()</code></a> is set to <a href="../core/DeleteAction.html#NOTHING"><code>DeleteAction.NOTHING</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the reference field should allow assignment to deleted objects in normal transactions</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onDelete()"><code>onDelete()</code></a>, 
<a href="#allowDeletedSnapshot()"><code>allowDeletedSnapshot()</code></a>, 
<a href="PermazenType.html#autogenAllowDeleted()"><code>PermazenType.autogenAllowDeleted()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="allowDeletedSnapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowDeletedSnapshot</h4>
<pre>boolean&nbsp;allowDeletedSnapshot</pre>
<div class="block">Allow the field to reference non-existent objects in snapshot transactions.

 <p>
 For non-reference fields, this property must be equal to its default value.

 <p>
 This property is equivalent to <a href="#allowDeleted()"><code>allowDeleted()</code></a>, but applies to <a href="../SnapshotJTransaction.html" title="class in io.permazen"><code>SnapshotJTransaction</code></a>s
 instead of normal <a href="../JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a>s; see <a href="#allowDeleted()"><code>allowDeleted()</code></a> for details.

 <p>
 Snapshot transactions typically hold a copy of some small portion of the database. If this property is set to false,
 then it effectively creates a requirement that this "small portion" be transitively closed under object references.

 <p>
 For consistency, this property must be set to true when <a href="#onDelete()"><code>onDelete()</code></a> is set to <a href="../core/DeleteAction.html#NOTHING"><code>DeleteAction.NOTHING</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the reference field should allow assignment to deleted objects in snapshot transactions</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#onDelete()"><code>onDelete()</code></a>, 
<a href="#allowDeleted()"><code>allowDeleted()</code></a>, 
<a href="PermazenType.html#autogenAllowDeletedSnapshot()"><code>PermazenType.autogenAllowDeletedSnapshot()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>true</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section>
<ul class="blockList">
<li class="blockList"><a id="upgradeConversion()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>upgradeConversion</h4>
<pre><a href="../UpgradeConversionPolicy.html" title="enum in io.permazen">UpgradeConversionPolicy</a>&nbsp;upgradeConversion</pre>
<div class="block">Specify the <a href="../UpgradeConversionPolicy.html" title="enum in io.permazen"><code>UpgradeConversionPolicy</code></a> policy to apply when a schema change occurs and this field's type changes.

 <p>
 With one restriction<sup>*</sup>, Permazen supports schema changes that alter a field's type, and in some cases
 can automatically convert field values from the old to the new type (for example, from the <code>int</code> value <code>1234</code>
 to the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>String</code></a> value <code>"1234"</code>).

 <p>
 See <a href="../core/FieldType.html#convert(io.permazen.core.FieldType,S)"><code>FieldType.convert()</code></a> for details about conversions between simple field types.
 In addition, <a href="../Counter.html" title="class in io.permazen"><code>Counter</code></a> fields can be converted to/from any numeric Java primitive (or primitive wrapper)
 type.

 <p>
 This property defines the <a href="../UpgradeConversionPolicy.html" title="enum in io.permazen"><code>UpgradeConversionPolicy</code></a> for the annotated field when upgrading an object from some
 other schema version to the current schema version. Note custom conversion logic is also possible using
 <a href="OnVersionChange.html" title="annotation in io.permazen.annotation"><code>&#64;OnVersionChange</code></a> methods.

 <p>
 For sub-fields of complex fields, this property is ignored.

 <p>
 <sup>*</sup>A simple field may not have different types across schema versions and be indexed in both versions.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>upgrade conversion policy for this field</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../UpgradeConversionPolicy.html" title="enum in io.permazen"><code>UpgradeConversionPolicy</code></a>, 
<a href="../core/FieldType.html#convert(io.permazen.core.FieldType,S)"><code>FieldType.convert()</code></a>, 
<a href="OnVersionChange.html" title="annotation in io.permazen.annotation"><code>OnVersionChange</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>io.permazen.UpgradeConversionPolicy.ATTEMPT</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JField.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#annotation.type.field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation.type.field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</body>
</html>
