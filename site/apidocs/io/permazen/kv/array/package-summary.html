<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>io.permazen.kv.array (Permazen 5.1.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.permazen.kv.array">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package io.permazen.kv.array" class="title">Package io.permazen.kv.array</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">io.permazen.kv.array</span></div>
<section class="package-description" id="package-description">
<div class="block">A simple <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> implementation based on a sorted array of key/value pairs.

 <p>
 Instances are optimized for relatively few writes and have minimal memory overhead.

 <p>
 Key and value data must not exceed 2GB (each separately).

 <p><b>File Format</b>

 <p>
 There are three files: <b>index</b>, <b>keys</b>, and <b>values</b>.

 <p>
 The <b>keys</b> file contains all of the database keys, concatenated and in order, encoding using a special compression
 scheme (see below).

 <p>
 The <b>values</b> file contains all of the database values, concatenated and in order, uncompressed.

 <p>
 The <b>index</b> file contains zero or more index entries, one entry for each key/value pair, concatenated and in order.
 An index entry is a pair of big endian 32-bit values, where the first value describes the offset of the corresponding key
 in the <b>keys</b> file using a special encoding (see below), while the second describes the absolute offset of the
 corresponding value in the <b>values</b> file.

 <p>
 For index entries in a slot equal to zero mod 32, the first 32-bit value is the absolute offset of the key in the <b>keys</b>
 file; this is called a "base key". For other index entries, the first 8 bits are how many bytes of the previous base key's
 prefix match this key (from zero to 255), and the remaining 24 bits are the offset in bytes from the beginning of the previous
 base key in the <b>keys</b> file of the start of this key's suffix. The end of the key in the <b>keys</b> file is implied by
 where the next key starts (or end of file).

 <p>
 For all index entries, the second 32-bit value is the absolute offset of the value in the values file.
 The end of the value in the <b>value</b> file is implied by where the next value starts (or end of file).</div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">io.permazen.kv</a></div>
<div class="col-last even-row-color">
<div class="block"><code>byte[]</code> array key/value store API and related utility classes.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exceptions</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ArrayKVDatabase.html" title="class in io.permazen.kv.array">ArrayKVDatabase</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><a href="../KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> implementation based on a <a href="AtomicArrayKVStore.html" title="class in io.permazen.kv.array"><code>AtomicArrayKVStore</code></a>, providing concurrent transactions
 and linearizable ACID semantics.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="ArrayKVException.html" title="class in io.permazen.kv.array">ArrayKVException</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Superclass of all unchecked exceptions thrown by a <a href="ArrayKVStore.html" title="class in io.permazen.kv.array"><code>ArrayKVStore</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ArrayKVImplementation.html" title="class in io.permazen.kv.array">ArrayKVImplementation</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">&nbsp;</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ArrayKVStore.html" title="class in io.permazen.kv.array">ArrayKVStore</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A simple read-only <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> based on a sorted array of key/value pairs.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ArrayKVTransaction.html" title="class in io.permazen.kv.array">ArrayKVTransaction</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><a href="ArrayKVDatabase.html" title="class in io.permazen.kv.array"><code>ArrayKVDatabase</code></a> transaction.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ArrayKVWriter.html" title="class in io.permazen.kv.array">ArrayKVWriter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Writes <a href="ArrayKVStore.html" title="class in io.permazen.kv.array"><code>ArrayKVStore</code></a> index, key, and value data, given a sorted sequence of key/value pairs.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="AtomicArrayKVStore.html" title="class in io.permazen.kv.array">AtomicArrayKVStore</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><a href="../mvcc/AtomicKVStore.html" title="interface in io.permazen.kv.mvcc"><code>AtomicKVStore</code></a> based on <a href="ArrayKVStore.html" title="class in io.permazen.kv.array"><code>ArrayKVStore</code></a> plus a write-ahead log and background compaction.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
