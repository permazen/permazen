<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>RaftKVDatabase (Permazen 5.2.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.permazen.kv.raft, class: RaftKVDatabase">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/RaftKVDatabase.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.permazen.kv.raft</a></div>
<h1 title="Class RaftKVDatabase" class="title">Class RaftKVDatabase</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.permazen.kv.raft.RaftKVDatabase</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@ThreadSafe
</span><span class="modifiers">public class </span><span class="element-name type-name-label">RaftKVDatabase</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></span></div>
<div class="block">A distributed <a href="../KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> based on the Raft consensus algorithm.

 <p><b>Raft Algorithm</b>

 <p>
 Raft defines a distributed consensus algorithm for maintaining a shared state machine.
 Each Raft node maintains a complete copy of the state machine. Cluster nodes elect a
 leader who collects and distributes updates and provides for consistent reads.
 As long as as a node is part of a majority, the state machine is fully operational.
 Raft is described more fully <a href="https://raft.github.io/">here</a>.

 <p><b>Key/Value Database</b>

 <p>
 <a href="RaftKVDatabase.html" title="class in io.permazen.kv.raft"><code>RaftKVDatabase</code></a> turns this into a transactional, highly available clustered key/value database with linearizable
 (technically, <a href="https://jepsen.io/consistency/models/strict-serializable">strictly serializable</a>) consistency.
 A <a href="RaftKVDatabase.html" title="class in io.permazen.kv.raft"><code>RaftKVDatabase</code></a> appears to each node in the cluster as a shared, ACID compliant key/value database.
 As long as a node can communicate with a majority of other nodes (i.e., at least half of the cluster), then the
 database is fully available.

 <p><b>Concurrent Transactions</b>

 <p>
 <a href="RaftKVDatabase.html" title="class in io.permazen.kv.raft"><code>RaftKVDatabase</code></a> supports multiple simultaneous read/write transactions across all nodes. Simultaneous transactions
 will successfully commit as long as the database is able to meet its consistency obligations. It does this verification
 by performing conflict analysis at the key/value level. When two transactions do conflict, the loser receives a
 <a href="../RetryKVTransactionException.html" title="class in io.permazen.kv"><code>RetryKVTransactionException</code></a>. Because it is based on the Raft algorithm, consistency is guaranteed even in the face
 of arbitrary network drops, delays, and reorderings.

 <p><b>Persistence</b>

 <p>
 Each node maintains a complete copy of the database, and persistence is guaranteed even if up to half of the cluster
 is lost. Each node stores its private persistent state in an <a href="../mvcc/AtomicKVStore.html" title="interface in io.permazen.kv.mvcc"><code>AtomicKVStore</code></a> (see <a href="#setKVStore(io.permazen.kv.mvcc.AtomicKVStore)"><code>setKVStore()</code></a>).

 <p><b>Standalone Mode</b>

 <p>
 Optional support for falling back to a "standalone mode" based on the most recent copy of the database when a majority of
 nodes can't be reached is provided by <a href="fallback/FallbackKVDatabase.html" title="class in io.permazen.kv.raft.fallback"><code>FallbackKVDatabase</code></a>.

 <p><b>Raft Implementation Details</b></p>

  <ul>
  <li>The Raft state machine is the key/value store data.</li>
  <li>Unapplied log entries are stored on disk as serialized mutations, and also cached in memory.</li>
  <li>Concurrent transactions are supported through a simple optimistic locking MVCC scheme (similar to that used by
      <a href="../mvcc/SnapshotKVDatabase.html" title="class in io.permazen.kv.mvcc"><code>SnapshotKVDatabase</code></a>):
      <ul>
      <li>Transactions execute locally until commit time, using a <a href="../mvcc/MutableView.html" title="class in io.permazen.kv.mvcc"><code>MutableView</code></a> to collect mutations.
          The <a href="../mvcc/MutableView.html" title="class in io.permazen.kv.mvcc"><code>MutableView</code></a> is based on the local node's last unapplied log entry,
          if any (whether committed or not), or else directly on the underlying key/value store; this defines
          the <i>base term and index</i> for the transaction.</li>
      <li>Since the transaction's view incorporates all unapplied log entries down to the underlying
          compacted key/value store, transaction performance degrades as the number of unapplied log
          entries grows. Log entries are always applied as soon as possible, but they are also kept around
          on disk (up to a point) after being applied in case needed by a leader.</li>
      <li>On commit, the transaction's <a href="../mvcc/Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a>, <a href="../mvcc/Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a>, base index and term, and any config change are
          <a href="msg/CommitRequest.html" title="class in io.permazen.kv.raft.msg">sent</a> to the leader.</li>
      <li>The leader confirms that the log entry corresponding to the transaction's base index and term matches its log.
          If this is not the case, then the transaction is rejected with a <a href="../mvcc/TransactionConflictException.html" title="class in io.permazen.kv.mvcc"><code>TransactionConflictException</code></a>.
      <li>The leader confirms that the <a href="../mvcc/Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a> associated with log entries (if any) after the transaction's base log entry
          do not create <a href="../mvcc/Reads.html#isConflict(io.permazen.kv.mvcc.Mutations)">conflicts</a> when compared against the transaction's
          <a href="../mvcc/Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a>. If so, the transaction is rejected with a <a href="../RetryKVTransactionException.html" title="class in io.permazen.kv"><code>RetryKVTransactionException</code></a>.</li>
      <li>The leader adds a new log entry consisting of the transaction's <a href="../mvcc/Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a> (and any config change) to its log.
          The associated term and index become the transaction's <i>commit term and index</i>; the leader then
          <a href="msg/CommitResponse.html" title="class in io.permazen.kv.raft.msg">replies</a> to the follower with this information.</li>
      <li>If/when the follower sees a <i>committed</i> (in the Raft sense) log entry appear in its log matching the
          transaction's commit term and index, then the transaction is complete.</li>
      <li>As a small optimization, when the leader sends a log entry to the same follower who committed the corresponding
          transaction in the first place, only the transaction ID is sent, because the follower already has the data.</li>
      <li>After adding a new log entry, both followers and leaders "rebase" any open transactions by checking for conflicts
          in the manner described above. In this way, conflicts are detected as early as possible.</li>
      </ul>
  </li>
  <li>For transactions occurring on a leader, the logic is similar except of course the leader is talking to itself
      when it commits the transaction.</li>
  <li>For read-only transactions, the leader does not create a new log entry; instead, the transaction's commit
      term and index are set to the base term and index, and the leader also calculates its current "leader lease timeout",
      which is the earliest time at which it is possible for another leader to be elected.
      This is calculated as the time in the past at which the leader sent <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a>'s to a majority of followers
      who have since responded, plus the <a href="#setMinElectionTimeout(int)">minimum election timeout</a>, minus a small adjustment
      for possible clock drift (this assumes all nodes have the same minimum election timeout configured). If the current
      time is prior to the leader lease timeout, then the transaction may be committed as soon as the log entry
      corresponding to the commit term and index is committed (it may already be); otherwise, the current time is returned
      to the follower as minimum required leader lease timeout before the transaction may be committed.</li>
  <li>For read-only transactions, followers <a href="msg/CommitRequest.html" title="class in io.permazen.kv.raft.msg">send</a> the base term and index to the leader as soon
      as the transaction is set read-only, without any conflict information. This allows the leader to capture and return
      the lowest possible commit index to the follower while the transaction is still open, and lets followers stop
      rebasing the transaction (at the returned commit index) as soon as possible, minimizing conflicts.
  <li>Every <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a> includes the leader's current timestamp and leader lease timeout, so followers can commit
      any waiting read-only transactions. Leaders keep track of which followers are waiting on which leader lease
      timeout values, and when the leader lease timeout advances to allow a follower to commit a transaction, the follower
      is immediately notified.</li>
  <li>Optional weaker consistency guarantees are availble on a per-transaction bases; see <a href="#OPTION_CONSISTENCY"><code>OPTION_CONSISTENCY</code></a>.
      Setting the consistency to any level other than <a href="Consistency.html#LINEARIZABLE"><code>Consistency.LINEARIZABLE</code></a> implicitly sets the transaction
      to read-only.</li>
  </ul>

 <p><b>Limitations</b></p>

 <ul>
  <li>A transaction's mutations must fit in memory.</li>
  <li>All nodes must be configured with the same <a href="#setMinElectionTimeout(int)">minimum election timeout</a>.
      This guarantees that the leader's lease timeout calculation is valid.</li>
  <li>Due to the optimistic locking approach used, this implementation will perform poorly when there is a high
      rate of conflicting transactions; the result will be many transaction retries.</li>
  <li>Performance will suffer if the mutation data associated with a typical transaction cannot be delivered
      quickly and reliably over the network.</li>
 </ul>

 <p>
 In general, the algorithm should function correctly under all non-Byzantine conditions. The level of difficultly
 the system is experiencing, due to contention, network errors, etc., can be measured in terms of:
 <ul>
  <li>The average amount of time it takes to commit a transaction</li>
  <li>The frequency of <a href="../RetryKVTransactionException.html" title="class in io.permazen.kv"><code>RetryKVTransactionException</code></a>'s</li>
 </ul>

 <p><b>Cluster Configuration</b></p>

 <p>
 Instances support dynamic cluster configuration changes at runtime.

 <p>
 Initially, all nodes are in an <i>unconfigured</i> state, where nothing has been added to the Raft log yet and no
 cluster is defined. Unconfigured nodes are passive: they stay in follower mode (i.e., they will not start elections),
 and they disallow local transactions that make any changes other than as described below to create a new cluster.

 <p>
 An unconfigured node becomes <i>configured</i> when either:
 <ol>
  <li><a href="RaftKVTransaction.html#configChange(java.lang.String,java.lang.String)"><code>RaftKVTransaction.configChange()</code></a> is invoked and committed
      within a local transaction, which creates a new single node cluster, with the current node as leader,
      and commits the cluster's first log entry; or</li>
  <li>An <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a> is received from a leader of some existing cluster, in which case the node
      records the cluster ID thereby joining the cluster (see below), and applies the received cluster configuration.</li>
 </ol>

 <p>
 A node is configured if and only if it has recorded one or more log entries. The very first log entry
 always contains the initial cluster configuration (containing only the node that created it, whether local or remote),
 so any node that has a non-empty log is configured.

 <p>
 Newly created clusters are assigned a random 32-bit cluster ID (option #1 above). This ID is included in all messages sent
 over the network, and adopted by unconfigured nodes that join the cluster (via option #2 above). Configured nodes discard
 incoming messages containing a cluster ID different from the one they have joined. This prevents data corruption that can
 occur if nodes from two different clusters are inadvertently mixed together on the same network.

 <p>
 Once a node joins a cluster with a specific cluster ID, it cannot be reassigned to a different cluster without first
 returning it to the unconfigured state; to do that, it must be shut it down and its persistent state deleted.

 <p><b>Configuration Changes</b></p>

 <p>
 Once a node is configured, a separate issue is whether the node is <i>included</i> in its own configuration, i.e., whether
 the node is a member of its cluster according to the current cluster configuration. A node that is not a member of its
 own cluster does not count its own vote to determine committed log entries (if a leader), and does not start elections
 (if a follower). However, it will accept and respond to incoming <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a>s and <a href="msg/RequestVote.html" title="class in io.permazen.kv.raft.msg"><code>RequestVote</code></a>s.

 <p>
 In addition, leaders follow these rules with respect to configuration changes:
 <ul>
  <li>If a leader is removed from a cluster, it remains the leader until the corresponding configuration change
      is committed (not counting its own vote), and then steps down (i.e., reverts to follower).</li>
  <li>If a follower is added to a cluster, the leader immediately starts sending that follower <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a>s.</li>
  <li>If a follower is removed from a cluster, the leader continues to send that follower <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a>s
      until the follower acknowledges receipt of the log entry containing the configuration change.</li>
  <li>Leaders defer configuration changes until they have committed at least one log entry in the current term
      (see <a href="https://groups.google.com/d/msg/raft-dev/t4xj6dJTP6E/d2D9LrWRza8J">this discussion</a>).</li>
  <li>Configuration changes that remove the last node in a cluster are disallowed.</li>
  <li>Only one configuration change may take place at a time (i.e., be not yet committed).</li>
 </ul>

 <p><b>Follower Probes</b></p>

 <p>
 This implementation includes a modification to the Raft state machine to avoid unnecessary, disruptive elections
 when a node or nodes is disconnected from, and then reconnected to, the majority.

 <p>
 When a follower's election timeout fires, before converting into a candidate, the follower is required to verify
 communication with a majority of the cluster using <a href="msg/PingRequest.html" title="class in io.permazen.kv.raft.msg">PingRequest</a> messages. Only when the follower has
 successfully done so may it become a candidate.  While in this intermediate "probing" mode, the follower responds
 normally to incoming messages. In particular, if the follower receives a valid <a href="msg/AppendRequest.html" title="class in io.permazen.kv.raft.msg"><code>AppendRequest</code></a> from the leader, it
 reverts back to normal operation.

 <p>
 This behavior is optional, but enabled by default; see <a href="#setFollowerProbingEnabled(boolean)"><code>setFollowerProbingEnabled()</code></a>.

 <p><b>Key Watches</b></p>

 <p>
 <a href="RaftKVTransaction.html#watchKey(io.permazen.util.ByteData)">Key watches</a> are supported.

 <p><b>Snapshots</b></p>

 <p>
 <a href="RaftKVTransaction.html#readOnlySnapshot()">Snapshots</a> are supported and can be created in constant time, because
 with Raft every node maintains a complete copy of the database.

 <p><b>Spring Isolation Levels</b></p>

 <p>
 In Spring applications, the transaction <a href="Consistency.html" title="enum class in io.permazen.kv.raft"><code>Consistency</code></a> level may be configured through the Spring
 <a href="../../spring/PermazenTransactionManager.html" title="class in io.permazen.spring"><code>PermazenTransactionManager</code></a> by (ab)using the transaction isolation level setting,
 for example, via the <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Transactional.html" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>&#64;Transactional</code></a> annotation's
 <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Transactional.html#isolation()" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>isolation()</code></a> property.
 All Raft consistency levels are made available this way, though the mapping from Spring's isolation levels to
 <a href="RaftKVDatabase.html" title="class in io.permazen.kv.raft"><code>RaftKVDatabase</code></a>'s consistency levels is only semantically approximate:

 <div style="margin-left: 20px;">
 <table class="striped">
 <caption>Isolation Level Mapping</caption>
 <tr style="bgcolor:#ccffcc">
  <th style="font-weight: bold; text-align: left">Spring isolation level</th>
  <th style="font-weight: bold; text-align: left"><a href="RaftKVDatabase.html" title="class in io.permazen.kv.raft"><code>RaftKVDatabase</code></a> consistency level</th>
 </tr>
 <tr>
  <td><a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Isolation.html#DEFAULT" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>DEFAULT</code></a></td>
  <td><a href="Consistency.html#LINEARIZABLE"><code>Consistency.LINEARIZABLE</code></a></td>
 </tr>
 <tr>
  <td><a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Isolation.html#SERIALIZABLE" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>SERIALIZABLE</code></a></td>
  <td><a href="Consistency.html#LINEARIZABLE"><code>Consistency.LINEARIZABLE</code></a></td>
 </tr>
 <tr>
  <td><a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Isolation.html#REPEATABLE_READ" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>REPEATABLE_READ</code></a></td>
  <td><a href="Consistency.html#EVENTUAL"><code>Consistency.EVENTUAL</code></a></td>
 </tr>
 <tr>
  <td><a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Isolation.html#READ_COMMITTED" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>READ_COMMITTED</code></a></td>
  <td><a href="Consistency.html#EVENTUAL_COMMITTED"><code>Consistency.EVENTUAL_COMMITTED</code></a></td>
 </tr>
 <tr>
  <td><a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Isolation.html#READ_UNCOMMITTED" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>READ_UNCOMMITTED</code></a></td>
  <td><a href="Consistency.html#UNCOMMITTED"><code>Consistency.UNCOMMITTED</code></a></td>
 </tr>
 </table>
 </div>

 <p><b>High Priority Transactions</b></p>

 <p>
 Transactions may be configured as high priority; see
 <a href="RaftKVTransaction.html#setHighPriority(boolean)"><code>RaftKVTransaction.setHighPriority()</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://raftconsensus.github.io/">The Raft Consensus Algorithm</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_COMMIT_TIMEOUT" class="member-name-link">DEFAULT_COMMIT_TIMEOUT</a></code></div>
<div class="col-last even-row-color">
<div class="block">Default transaction commit timeout (5000).</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_HEARTBEAT_TIMEOUT" class="member-name-link">DEFAULT_HEARTBEAT_TIMEOUT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Default heartbeat timeout (200ms).</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_MAX_ELECTION_TIMEOUT" class="member-name-link">DEFAULT_MAX_ELECTION_TIMEOUT</a></code></div>
<div class="col-last even-row-color">
<div class="block">Default maximum election timeout (1000ms).</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_MAX_TRANSACTION_DURATION" class="member-name-link">DEFAULT_MAX_TRANSACTION_DURATION</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Default maximum supported outstanding transaction duration (5000ms).</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_MIN_ELECTION_TIMEOUT" class="member-name-link">DEFAULT_MIN_ELECTION_TIMEOUT</a></code></div>
<div class="col-last even-row-color">
<div class="block">Default minimum election timeout (750ms).</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_TCP_PORT" class="member-name-link">DEFAULT_TCP_PORT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Default TCP port (9660) used to communicate with peers.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#OPTION_CONSISTENCY" class="member-name-link">OPTION_CONSISTENCY</a></code></div>
<div class="col-last even-row-color">
<div class="block">Option key for <a href="#createTransaction(java.util.Map)"><code>createTransaction(Map)</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#OPTION_HIGH_PRIORITY" class="member-name-link">OPTION_HIGH_PRIORITY</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Option key for <a href="#createTransaction(java.util.Map)"><code>createTransaction(Map)</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">RaftKVDatabase</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createTransaction()" class="member-name-link">createTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createTransaction(io.permazen.kv.raft.Consistency)" class="member-name-link">createTransaction</a><wbr>(<a href="Consistency.html" title="enum class in io.permazen.kv.raft">Consistency</a>&nbsp;consistency)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new transaction with the specified consistency.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createTransaction(io.permazen.kv.raft.Consistency,boolean)" class="member-name-link">createTransaction</a><wbr>(<a href="Consistency.html" title="enum class in io.permazen.kv.raft">Consistency</a>&nbsp;consistency,
 boolean&nbsp;highPriority)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new transaction with the specified consistency and with optional high priority.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createTransaction(java.util.Map)" class="member-name-link">createTransaction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;options)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new transaction with the specified options.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getClusterId()" class="member-name-link">getClusterId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the unique 32-bit ID for this node's cluster.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCommitIndex()" class="member-name-link">getCommitIndex</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this instance's current commit index..</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCommitTimeout()" class="member-name-link">getCommitTimeout</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the configured default transaction commit timeout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentConfig()" class="member-name-link">getCurrentConfig</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the current cluster configuration as understood by this node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Role.html" title="class in io.permazen.kv.raft">Role</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentRole()" class="member-name-link">getCurrentRole</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this instance's current role: leadeer, follower, or candidate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentTerm()" class="member-name-link">getCurrentTerm</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this instance's current term.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentTermStartTime()" class="member-name-link">getCurrentTermStartTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the time at which this instance's current term advanced to its current value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHeartbeatTimeout()" class="member-name-link">getHeartbeatTimeout</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the configured heartbeat timeout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIdentity()" class="member-name-link">getIdentity</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this node's Raft identity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastAppliedIndex()" class="member-name-link">getLastAppliedIndex</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this instance's last applied log entry index.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastAppliedTerm()" class="member-name-link">getLastAppliedTerm</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this instance's last applied log entry term.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastInternalError()" class="member-name-link">getLastInternalError</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the exception most recently thrown by the internal service thread, if any.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Timestamp.html" title="class in io.permazen.kv.raft">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLinearizableCommitTimestamp()" class="member-name-link">getLinearizableCommitTimestamp</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the timestamp of the most recently committed linearizable transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLogDirectory()" class="member-name-link">getLogDirectory</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the directory in which uncommitted log entries are stored.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMaxElectionTimeout()" class="member-name-link">getMaxElectionTimeout</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the configured maximum election timeout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMaxTransactionDuration()" class="member-name-link">getMaxTransactionDuration</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the configured maximum supported duration for outstanding transactions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMinElectionTimeout()" class="member-name-link">getMinElectionTimeout</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the configured minimum election timeout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOpenTransactions()" class="member-name-link">getOpenTransactions</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the set of open transactions associated with this database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getThreadPriority()" class="member-name-link">getThreadPriority</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the configured internal service thread priority.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="LogEntry.html" title="class in io.permazen.kv.raft">LogEntry</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUnappliedLog()" class="member-name-link">getUnappliedLog</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the unapplied <a href="LogEntry.html" title="class in io.permazen.kv.raft"><code>LogEntry</code></a>s in this instance's Raft log.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUnappliedLogMemoryUsage()" class="member-name-link">getUnappliedLogMemoryUsage</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the estimated total memory used by unapplied log entries.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isClusterMember()" class="member-name-link">isClusterMember</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this node thinks that it is part of its cluster, as determined by its
 <a href="#getCurrentConfig()">current configuration</a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isClusterMember(java.lang.String)" class="member-name-link">isClusterMember</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;node)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this node thinks that the specified node is part of the cluster, as determined by its
 <a href="#getCurrentConfig()">current configuration</a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isConfigured()" class="member-name-link">isConfigured</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this instance is configured.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDisableSync()" class="member-name-link">isDisableSync</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether filesystem sync is disabled.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDumpConflicts()" class="member-name-link">isDumpConflicts</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether explicit logging of transaction conflicts is enabled.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isFollowerProbingEnabled()" class="member-name-link">isFollowerProbingEnabled</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether follower probing prior to becoming a candidate is enabled.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setCommitTimeout(int)" class="member-name-link">setCommitTimeout</a><wbr>(int&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the default transaction commit timeout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDisableSync(boolean)" class="member-name-link">setDisableSync</a><wbr>(boolean&nbsp;disableSync)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disable filesystem data sync.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDumpConflicts(boolean)" class="member-name-link">setDumpConflicts</a><wbr>(boolean&nbsp;dumpConflicts)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enable explicit logging of transaction conflicts.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFollowerProbingEnabled(boolean)" class="member-name-link">setFollowerProbingEnabled</a><wbr>(boolean&nbsp;followerProbingEnabled)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure whether followers should be required to probe for network connectivity with a majority of the
 cluster after an election timeout prior to becoming a candidate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHeartbeatTimeout(int)" class="member-name-link">setHeartbeatTimeout</a><wbr>(int&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the heartbeat timeout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setIdentity(java.lang.String)" class="member-name-link">setIdentity</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the Raft identity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setKVStore(io.permazen.kv.mvcc.AtomicKVStore)" class="member-name-link">setKVStore</a><wbr>(<a href="../mvcc/AtomicKVStore.html" title="interface in io.permazen.kv.mvcc">AtomicKVStore</a>&nbsp;kvstore)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the <a href="../mvcc/AtomicKVStore.html" title="interface in io.permazen.kv.mvcc"><code>AtomicKVStore</code></a> in which local persistent state is stored.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLogDirectory(java.io.File)" class="member-name-link">setLogDirectory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;directory)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the directory in which uncommitted log entries are stored.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMaxElectionTimeout(int)" class="member-name-link">setMaxElectionTimeout</a><wbr>(int&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the maximum election timeout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMaxTransactionDuration(int)" class="member-name-link">setMaxTransactionDuration</a><wbr>(int&nbsp;duration)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the maximum supported duration for outstanding transactions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMinElectionTimeout(int)" class="member-name-link">setMinElectionTimeout</a><wbr>(int&nbsp;timeout)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the minimum election timeout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setNetwork(org.dellroad.stuff.net.Network)" class="member-name-link">setNetwork</a><wbr>(<a href="https://archiecobbs.github.io/dellroad-stuff/site/apidocs/org/dellroad/stuff/net/Network.html" title="class or interface in org.dellroad.stuff.net" class="external-link">Network</a>&nbsp;network)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the <a href="https://archiecobbs.github.io/dellroad-stuff/site/apidocs/org/dellroad/stuff/net/Network.html" title="class or interface in org.dellroad.stuff.net" class="external-link"><code>Network</code></a> to use for inter-node communication.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPerformanceLogging(boolean)" class="member-name-link">setPerformanceLogging</a><wbr>(boolean&nbsp;performanceLogging)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure whether to increase the log level for certain performance-related events (e.g., "info" instead of "debug").</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setThreadPriority(int)" class="member-name-link">setThreadPriority</a><wbr>(int&nbsp;threadPriority)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the priority of internal service threads.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Start this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stop()" class="member-name-link">stop</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stop this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="DEFAULT_MIN_ELECTION_TIMEOUT">
<h3>DEFAULT_MIN_ELECTION_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_MIN_ELECTION_TIMEOUT</span></div>
<div class="block">Default minimum election timeout (750ms).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setMinElectionTimeout(int)"><code>setMinElectionTimeout(int)</code></a></li>
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.DEFAULT_MIN_ELECTION_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_MAX_ELECTION_TIMEOUT">
<h3>DEFAULT_MAX_ELECTION_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_MAX_ELECTION_TIMEOUT</span></div>
<div class="block">Default maximum election timeout (1000ms).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setMaxElectionTimeout(int)"><code>setMaxElectionTimeout(int)</code></a></li>
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.DEFAULT_MAX_ELECTION_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_HEARTBEAT_TIMEOUT">
<h3>DEFAULT_HEARTBEAT_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_HEARTBEAT_TIMEOUT</span></div>
<div class="block">Default heartbeat timeout (200ms).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setHeartbeatTimeout(int)"><code>setHeartbeatTimeout(int)</code></a></li>
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.DEFAULT_HEARTBEAT_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_MAX_TRANSACTION_DURATION">
<h3>DEFAULT_MAX_TRANSACTION_DURATION</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_MAX_TRANSACTION_DURATION</span></div>
<div class="block">Default maximum supported outstanding transaction duration (5000ms).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#setMaxTransactionDuration(int)"><code>setMaxTransactionDuration(int)</code></a></li>
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.DEFAULT_MAX_TRANSACTION_DURATION">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_COMMIT_TIMEOUT">
<h3>DEFAULT_COMMIT_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_COMMIT_TIMEOUT</span></div>
<div class="block">Default transaction commit timeout (5000).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setCommitTimeout(int)"><code>setCommitTimeout(int)</code></a></li>
<li><a href="RaftKVTransaction.html#setTimeout(long)"><code>RaftKVTransaction.setTimeout(long)</code></a></li>
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.DEFAULT_COMMIT_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_TCP_PORT">
<h3>DEFAULT_TCP_PORT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_TCP_PORT</span></div>
<div class="block">Default TCP port (9660) used to communicate with peers.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.DEFAULT_TCP_PORT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="OPTION_CONSISTENCY">
<h3>OPTION_CONSISTENCY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">OPTION_CONSISTENCY</span></div>
<div class="block">Option key for <a href="#createTransaction(java.util.Map)"><code>createTransaction(Map)</code></a>. Value should be a <a href="Consistency.html" title="enum class in io.permazen.kv.raft"><code>Consistency</code></a> instance,
 or the <code>name()</code> thereof.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.OPTION_CONSISTENCY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="OPTION_HIGH_PRIORITY">
<h3>OPTION_HIGH_PRIORITY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">OPTION_HIGH_PRIORITY</span></div>
<div class="block">Option key for <a href="#createTransaction(java.util.Map)"><code>createTransaction(Map)</code></a>. Value should be a Boolean, or else <code>"true"</code> or <code>"false"</code>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="RaftKVTransaction.html#setHighPriority(boolean)"><code>RaftKVTransaction.setHighPriority(boolean)</code></a></li>
<li><a href="../../../../constant-values.html#io.permazen.kv.raft.RaftKVDatabase.OPTION_HIGH_PRIORITY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>RaftKVDatabase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">RaftKVDatabase</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setKVStore(io.permazen.kv.mvcc.AtomicKVStore)">
<h3>setKVStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setKVStore</span><wbr><span class="parameters">(<a href="../mvcc/AtomicKVStore.html" title="interface in io.permazen.kv.mvcc">AtomicKVStore</a>&nbsp;kvstore)</span></div>
<div class="block">Configure the <a href="../mvcc/AtomicKVStore.html" title="interface in io.permazen.kv.mvcc"><code>AtomicKVStore</code></a> in which local persistent state is stored.

 <p>
 Required property.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kvstore</code> - local persistent data store</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLogDirectory(java.io.File)">
<h3>setLogDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLogDirectory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;directory)</span></div>
<div class="block">Configure the directory in which uncommitted log entries are stored.

 <p>
 Required property.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>directory</code> - log directory</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogDirectory()">
<h3>getLogDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">getLogDirectory</span>()</div>
<div class="block">Get the directory in which uncommitted log entries are stored.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>configured log directory</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setNetwork(org.dellroad.stuff.net.Network)">
<h3>setNetwork</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setNetwork</span><wbr><span class="parameters">(<a href="https://archiecobbs.github.io/dellroad-stuff/site/apidocs/org/dellroad/stuff/net/Network.html" title="class or interface in org.dellroad.stuff.net" class="external-link">Network</a>&nbsp;network)</span></div>
<div class="block">Configure the <a href="https://archiecobbs.github.io/dellroad-stuff/site/apidocs/org/dellroad/stuff/net/Network.html" title="class or interface in org.dellroad.stuff.net" class="external-link"><code>Network</code></a> to use for inter-node communication.

 <p>
 By default, a <a href="https://archiecobbs.github.io/dellroad-stuff/site/apidocs/org/dellroad/stuff/net/TCPNetwork.html" title="class or interface in org.dellroad.stuff.net" class="external-link"><code>TCPNetwork</code></a> instance communicating on <a href="#DEFAULT_TCP_PORT"><code>DEFAULT_TCP_PORT</code></a> is used.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>network</code> - network implementation; must not be <a href="https://archiecobbs.github.io/dellroad-stuff/site/apidocs/org/dellroad/stuff/net/Network.html#start(org.dellroad.stuff.net.Network.Handler)" title="class or interface in org.dellroad.stuff.net" class="external-link">started</a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setIdentity(java.lang.String)">
<h3>setIdentity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setIdentity</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identity)</span></div>
<div class="block">Configure the Raft identity.

 <p>
 Required property.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>identity</code> - unique Raft identity of this node in its cluster</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIdentity()">
<h3>getIdentity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getIdentity</span>()</div>
<div class="block">Get this node's Raft identity.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the unique identity of this node in its cluster</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMinElectionTimeout(int)">
<h3>setMinElectionTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMinElectionTimeout</span><wbr><span class="parameters">(int&nbsp;timeout)</span></div>
<div class="block">Configure the minimum election timeout.

 <p>
 This must be set to a value greater than the <a href="#setHeartbeatTimeout(int)">heartbeat timeout</a>.

 <p>
 Default is <a href="#DEFAULT_MIN_ELECTION_TIMEOUT"><code>DEFAULT_MIN_ELECTION_TIMEOUT</code></a>.

 <p>
 <b>Warning:</b> currently all nodes must have the same configured minimum election timeout,
 otherwise read-only transactions are not guaranteed to be completely up-to-date.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - minimum election timeout in milliseconds</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>timeout &lt;= 0</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMinElectionTimeout()">
<h3>getMinElectionTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMinElectionTimeout</span>()</div>
<div class="block">Get the configured minimum election timeout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>minimum election timeout in milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMaxElectionTimeout(int)">
<h3>setMaxElectionTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMaxElectionTimeout</span><wbr><span class="parameters">(int&nbsp;timeout)</span></div>
<div class="block">Configure the maximum election timeout.

 <p>
 Default is <a href="#DEFAULT_MAX_ELECTION_TIMEOUT"><code>DEFAULT_MAX_ELECTION_TIMEOUT</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - maximum election timeout in milliseconds</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>timeout &lt;= 0</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMaxElectionTimeout()">
<h3>getMaxElectionTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMaxElectionTimeout</span>()</div>
<div class="block">Get the configured maximum election timeout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>maximum election timeout in milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHeartbeatTimeout(int)">
<h3>setHeartbeatTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setHeartbeatTimeout</span><wbr><span class="parameters">(int&nbsp;timeout)</span></div>
<div class="block">Configure the heartbeat timeout.

 <p>
 This must be set to a value less than the <a href="#setMinElectionTimeout(int)">minimum election timeout</a>.

 <p>
 Default is <a href="#DEFAULT_HEARTBEAT_TIMEOUT"><code>DEFAULT_HEARTBEAT_TIMEOUT</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - heartbeat timeout in milliseconds</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>timeout &lt;= 0</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHeartbeatTimeout()">
<h3>getHeartbeatTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getHeartbeatTimeout</span>()</div>
<div class="block">Get the configured heartbeat timeout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>heartbeat timeout in milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMaxTransactionDuration(int)">
<h3>setMaxTransactionDuration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMaxTransactionDuration</span><wbr><span class="parameters">(int&nbsp;duration)</span></div>
<div class="block">Configure the maximum supported duration for outstanding transactions.

 <p>
 This value may be changed while this instance is already running.

 <p>
 Default is <a href="#DEFAULT_MAX_TRANSACTION_DURATION"><code>DEFAULT_MAX_TRANSACTION_DURATION</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - maximum supported duration for outstanding transactions in milliseconds</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration &lt;= 0</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMaxTransactionDuration()">
<h3>getMaxTransactionDuration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMaxTransactionDuration</span>()</div>
<div class="block">Get the configured maximum supported duration for outstanding transactions.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>maximum supported duration for outstanding transactions in milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCommitTimeout(int)">
<h3>setCommitTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setCommitTimeout</span><wbr><span class="parameters">(int&nbsp;timeout)</span></div>
<div class="block">Configure the default transaction commit timeout.

 <p>
 This value determines how transactions will wait once <a href="RaftKVTransaction.html#commit()"><code>commit()</code></a>
 is invoked for the commit to succeed before failing with a <a href="../RetryKVTransactionException.html" title="class in io.permazen.kv"><code>RetryKVTransactionException</code></a>.
 This can be overridden on a per-transaction basis via <a href="RaftKVTransaction.html#setTimeout(long)"><code>RaftKVTransaction.setTimeout(long)</code></a>.

 <p>
 This value may be changed while this instance is already running.

 <p>
 Default is <a href="#DEFAULT_COMMIT_TIMEOUT"><code>DEFAULT_COMMIT_TIMEOUT</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - transaction commit timeout in milliseconds, or zero for unlimited</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>timeout</code> is negative</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="RaftKVTransaction.html#setTimeout(long)"><code>RaftKVTransaction.setTimeout(long)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCommitTimeout()">
<h3>getCommitTimeout</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getCommitTimeout</span>()</div>
<div class="block">Get the configured default transaction commit timeout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>transaction commit timeout in milliseconds, or zero for unlimited</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setFollowerProbingEnabled(boolean)">
<h3>setFollowerProbingEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFollowerProbingEnabled</span><wbr><span class="parameters">(boolean&nbsp;followerProbingEnabled)</span></div>
<div class="block">Configure whether followers should be required to probe for network connectivity with a majority of the
 cluster after an election timeout prior to becoming a candidate.

 <p>
 This value may be changed at any time.

 <p>
 The default is enabled.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>followerProbingEnabled</code> - true to enable, false to disable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isFollowerProbingEnabled()">
<h3>isFollowerProbingEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isFollowerProbingEnabled</span>()</div>
<div class="block">Determine whether follower probing prior to becoming a candidate is enabled.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if follower probing is enabled, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDisableSync(boolean)">
<h3>setDisableSync</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDisableSync</span><wbr><span class="parameters">(boolean&nbsp;disableSync)</span></div>
<div class="block">Disable filesystem data sync.

 <p>
 This gives higher performance in exchange for losing the guarantee of durability if the system crashes.
 Note: this feature is experimental and may violate consistency and/or durability guaratees.

 <p>
 Default is false.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>disableSync</code> - true to disable data sync</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDisableSync()">
<h3>isDisableSync</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDisableSync</span>()</div>
<div class="block">Determine whether filesystem sync is disabled.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if filesystem sync is disabled, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDumpConflicts(boolean)">
<h3>setDumpConflicts</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDumpConflicts</span><wbr><span class="parameters">(boolean&nbsp;dumpConflicts)</span></div>
<div class="block">Enable explicit logging of transaction conflicts.

 <p>
 If enabled, when a transaction fails to due to conflicts, the conflicting key ranges are logged.

 <p>
 Default is false.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dumpConflicts</code> - true to disable data sync</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDumpConflicts()">
<h3>isDumpConflicts</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDumpConflicts</span>()</div>
<div class="block">Determine whether explicit logging of transaction conflicts is enabled.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if  explicit logging of transaction conflicts is enabled, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setThreadPriority(int)">
<h3>setThreadPriority</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setThreadPriority</span><wbr><span class="parameters">(int&nbsp;threadPriority)</span></div>
<div class="block">Configure the priority of internal service threads.

 <p>
 Default is -1, which means do not change thread priority from its default.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>threadPriority</code> - internal service thread priority, or -1 to leave thread priority unchanged</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is already started</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>threadPriority</code> is not -1 and not in the range
  <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#MIN_PRIORITY" title="class or interface in java.lang" class="external-link"><code>Thread.MIN_PRIORITY</code></a> to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#MAX_PRIORITY" title="class or interface in java.lang" class="external-link"><code>Thread.MAX_PRIORITY</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getThreadPriority()">
<h3>getThreadPriority</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getThreadPriority</span>()</div>
<div class="block">Get the configured internal service thread priority.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>internal service thread priority, or -1 if not configured</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPerformanceLogging(boolean)">
<h3>setPerformanceLogging</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPerformanceLogging</span><wbr><span class="parameters">(boolean&nbsp;performanceLogging)</span></div>
<div class="block">Configure whether to increase the log level for certain performance-related events (e.g., "info" instead of "debug").

 <p>
 Performance-related events are events that affect performance and would be considered abnormal in a perfectly
 functioning Raft network, e.g., having to retransmit an acknowledgement.

 <p>
 Default false.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>performanceLogging</code> - true for higher level logging of performance-related events</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getClusterId()">
<h3>getClusterId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getClusterId</span>()</div>
<div class="block">Retrieve the unique 32-bit ID for this node's cluster.

 <p>
 A value of zero indicates an unconfigured system. Usually the reverse true, though an unconfigured system
 can have a non-zero cluster ID in the rare case where an error occurred persisting the initial log entry.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the unique ID of this node's cluster, or zero if this node is unconfigured</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentConfig()">
<h3>getCurrentConfig</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getCurrentConfig</span>()</div>
<div class="block">Retrieve the current cluster configuration as understood by this node.

 <p>
 Configuration changes are performed and committed in the context of a normal transaction; see
 <code>RaftKVTransaction.configChange()</code>.

 <p>
 If this system is unconfigured, an empty map is returned (and vice-versa).

 <p>
 The returned map is a copy; changes have no effect on this instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current configuration mapping from node identity to network address,
  or empty if this node is not started or unconfigured</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isConfigured()">
<h3>isConfigured</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isConfigured</span>()</div>
<div class="block">Determine whether this instance is configured.

 <p>
 A node is configured if and only if it has at least one log entry. The first log entry always
 includes a configuration change that adds the node that created it to the (previously empty) cluster.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is started and configured, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isClusterMember()">
<h3>isClusterMember</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isClusterMember</span>()</div>
<div class="block">Determine whether this node thinks that it is part of its cluster, as determined by its
 <a href="#getCurrentConfig()">current configuration</a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is started and part of the cluster, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isClusterMember(java.lang.String)">
<h3>isClusterMember</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isClusterMember</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;node)</span></div>
<div class="block">Determine whether this node thinks that the specified node is part of the cluster, as determined by its
 <a href="#getCurrentConfig()">current configuration</a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>node</code> - node identity</dd>
<dt>Returns:</dt>
<dd>true if this instance is started and the specified node is part of the cluster, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentRole()">
<h3>getCurrentRole</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Role.html" title="class in io.permazen.kv.raft">Role</a></span>&nbsp;<span class="element-name">getCurrentRole</span>()</div>
<div class="block">Get this instance's current role: leadeer, follower, or candidate.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current <a href="Role.html" title="class in io.permazen.kv.raft"><code>Role</code></a>, or null if not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentTerm()">
<h3>getCurrentTerm</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentTerm</span>()</div>
<div class="block">Get this instance's current term.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current term, or zero if not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentTermStartTime()">
<h3>getCurrentTermStartTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentTermStartTime</span>()</div>
<div class="block">Get the time at which this instance's current term advanced to its current value.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current term's start time in milliseconds since the epoch, or zero if unknown</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCommitIndex()">
<h3>getCommitIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCommitIndex</span>()</div>
<div class="block">Get this instance's current commit index..</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current commit index, or zero if not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastAppliedTerm()">
<h3>getLastAppliedTerm</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastAppliedTerm</span>()</div>
<div class="block">Get this instance's last applied log entry term.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>last applied term, or zero if not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastAppliedIndex()">
<h3>getLastAppliedIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastAppliedIndex</span>()</div>
<div class="block">Get this instance's last applied log entry index.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>last applied index, or zero if not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUnappliedLog()">
<h3>getUnappliedLog</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="LogEntry.html" title="class in io.permazen.kv.raft">LogEntry</a>&gt;</span>&nbsp;<span class="element-name">getUnappliedLog</span>()</div>
<div class="block">Get the unapplied <a href="LogEntry.html" title="class in io.permazen.kv.raft"><code>LogEntry</code></a>s in this instance's Raft log.

 <p>
 The returned list is a copy; changes have no effect on this instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>unapplied log entries; or null if this instance is not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUnappliedLogMemoryUsage()">
<h3>getUnappliedLogMemoryUsage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUnappliedLogMemoryUsage</span>()</div>
<div class="block">Get the estimated total memory used by unapplied log entries.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>unapplied log entry memory usage, or zero if this instance is not running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOpenTransactions()">
<h3>getOpenTransactions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a>&gt;</span>&nbsp;<span class="element-name">getOpenTransactions</span>()</div>
<div class="block">Get the set of open transactions associated with this database.

 <p>
 The returned set is a copy; changes have no effect on this instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>all open transactions</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLinearizableCommitTimestamp()">
<h3>getLinearizableCommitTimestamp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Timestamp.html" title="class in io.permazen.kv.raft">Timestamp</a></span>&nbsp;<span class="element-name">getLinearizableCommitTimestamp</span>()</div>
<div class="block">Get the timestamp of the most recently committed linearizable transaction.

 <p>
 This value can be used to confirm that the cluster is healthy.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>time of the most recent successful commit of a linearizable transaction, or null if none</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="annotations">@PostConstruct
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">start</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVDatabase.html#start()">KVDatabase</a></code></span></div>
<div class="block">Start this instance. This method must be called prior to creating any transactions.

 <p>
 This method is idempotent: if this instance is already started, nothing happens.

 <p>
 Whether an instance that has been started and stopped can be restarted is implementation-dependent.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVDatabase.html#start()">start</a></code>&nbsp;in interface&nbsp;<code><a href="../KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stop()">
<h3>stop</h3>
<div class="member-signature"><span class="annotations">@PreDestroy
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stop</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVDatabase.html#stop()">KVDatabase</a></code></span></div>
<div class="block">Stop this instance.

 <p>
 This method is idempotent: if this instance has not been started, or is already stopped, nothing happens.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVDatabase.html#stop()">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastInternalError()">
<h3>getLastInternalError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a></span>&nbsp;<span class="element-name">getLastInternalError</span>()</div>
<div class="block">Get the exception most recently thrown by the internal service thread, if any.
 This is used mainly during testing.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>most recent service exception, or null if none</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createTransaction()">
<h3>createTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></span>&nbsp;<span class="element-name">createTransaction</span>()</div>
<div class="block">Create a new transaction.

 <p>
 Equivalent to: <a href="#createTransaction(io.permazen.kv.raft.Consistency)"><code>createTransaction</code></a><code>(</code><a href="Consistency.html#LINEARIZABLE"><code>Consistency.LINEARIZABLE</code></a><code>)</code>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVDatabase.html#createTransaction()">createTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></dd>
<dt>Returns:</dt>
<dd>newly created transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is not <a href="#start()">started</a> or in the process of shutting down</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createTransaction(java.util.Map)">
<h3>createTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></span>&nbsp;<span class="element-name">createTransaction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>?&gt;&nbsp;options)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVDatabase.html#createTransaction(java.util.Map)">KVDatabase</a></code></span></div>
<div class="block">Create a new transaction with the specified options.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVDatabase.html#createTransaction(java.util.Map)">createTransaction</a></code>&nbsp;in interface&nbsp;<code><a href="../KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></dd>
<dt>Parameters:</dt>
<dd><code>options</code> - optional transaction options; may be null</dd>
<dt>Returns:</dt>
<dd>newly created transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createTransaction(io.permazen.kv.raft.Consistency)">
<h3>createTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></span>&nbsp;<span class="element-name">createTransaction</span><wbr><span class="parameters">(<a href="Consistency.html" title="enum class in io.permazen.kv.raft">Consistency</a>&nbsp;consistency)</span></div>
<div class="block">Create a new transaction with the specified consistency.

 <p>
 Equivalent to <a href="#createTransaction(io.permazen.kv.raft.Consistency,boolean)"><code>createTransaction(consistency, false)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>consistency</code> - consistency level</dd>
<dt>Returns:</dt>
<dd>newly created transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>consistency</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is not <a href="#start()">started</a> or in the process of shutting down</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createTransaction(io.permazen.kv.raft.Consistency,boolean)">
<h3>createTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RaftKVTransaction.html" title="class in io.permazen.kv.raft">RaftKVTransaction</a></span>&nbsp;<span class="element-name">createTransaction</span><wbr><span class="parameters">(<a href="Consistency.html" title="enum class in io.permazen.kv.raft">Consistency</a>&nbsp;consistency,
 boolean&nbsp;highPriority)</span></div>
<div class="block">Create a new transaction with the specified consistency and with optional high priority.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>consistency</code> - consistency level</dd>
<dd><code>highPriority</code> - true to make transaction <a href="RaftKVTransaction.html#setHighPriority(boolean)">high priority</a></dd>
<dt>Returns:</dt>
<dd>newly created transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>consistency</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this instance is not <a href="#start()">started</a> or in the process of shutting down</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
