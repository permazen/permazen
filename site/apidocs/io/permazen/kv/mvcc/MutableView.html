<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MutableView (Permazen 5.2.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.permazen.kv.mvcc, class: MutableView">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MutableView.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.permazen.kv.mvcc</a></div>
<h1 title="Class MutableView" class="title">Class MutableView</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../AbstractKVStore.html" title="class in io.permazen.kv">io.permazen.kv.AbstractKVStore</a>
<div class="inheritance">io.permazen.kv.mvcc.MutableView</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code>, <code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../spanner/ReadWriteSpannerView.html" title="class in io.permazen.kv.spanner">ReadWriteSpannerView</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@ThreadSafe
</span><span class="modifiers">public class </span><span class="element-name type-name-label">MutableView</span>
<span class="extends-implements">extends <a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a>
implements <a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></span></div>
<div class="block">Straightforward implementation of the <a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc"><code>DeltaKVStore</code></a> interface.

 <p>
 The amount of memory required scales in proportion to the number of distinct key ranges that are read
 or removed (if tracking reads) plus the total lengths of all keys and values written.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(io.permazen.kv.KVStore)" class="member-name-link">MutableView</a><wbr>(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(io.permazen.kv.KVStore,boolean)" class="member-name-link">MutableView</a><wbr>(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv,
 boolean&nbsp;trackReads)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor with optional read tracking.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(io.permazen.kv.KVStore,io.permazen.kv.mvcc.Reads,io.permazen.kv.mvcc.Writes)" class="member-name-link">MutableView</a><wbr>(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv,
 <a href="Reads.html" title="class in io.permazen.kv.mvcc">Reads</a>&nbsp;reads,
 <a href="Writes.html" title="class in io.permazen.kv.mvcc">Writes</a>&nbsp;writes)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor using caller-provided <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> (optional) and <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a>.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(io.permazen.kv.KVStore,io.permazen.kv.mvcc.Writes)" class="member-name-link">MutableView</a><wbr>(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv,
 <a href="Writes.html" title="class in io.permazen.kv.mvcc">Writes</a>&nbsp;writes)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor with no read tracking and caller-provided <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#adjustCounter(io.permazen.util.ByteData,long)" class="member-name-link">adjustCounter</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key,
 long&nbsp;amount)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adjust the counter at the given key by the given amount.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(io.permazen.kv.mvcc.Mutations)" class="member-name-link">apply</a><wbr>(<a href="Mutations.html" title="interface in io.permazen.kv.mvcc">Mutations</a>&nbsp;mutations)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Apply all the given <a href="Mutations.html" title="interface in io.permazen.kv.mvcc"><code>Mutations</code></a> to this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MutableView.html" title="class in io.permazen.kv.mvcc">MutableView</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clone()" class="member-name-link">clone</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clone this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#decodeCounter(io.permazen.util.ByteData)" class="member-name-link">decodeCounter</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;bytes)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decode a counter value previously encoded by <a href="../KVStore.html#encodeCounter(long)"><code>encodeCounter()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disableReadTracking()" class="member-name-link">disableReadTracking</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Permanently disable read tracking and discard the <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> associated with this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#encodeCounter(long)" class="member-name-link">encodeCounter</a><wbr>(long&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Encode a counter value into a <code>byte[]</code> value suitable for use with <a href="../KVStore.html#decodeCounter(io.permazen.util.ByteData)"><code>decodeCounter()</code></a>
 and/or <a href="../KVStore.html#adjustCounter(io.permazen.util.ByteData,long)"><code>adjustCounter()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(io.permazen.util.ByteData)" class="member-name-link">get</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the value associated with the given key, if any.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBaseKVStore()" class="member-name-link">getBaseKVStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> that underlies this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../util/CloseableIterator.html" title="interface in io.permazen.util">CloseableIterator</a>&lt;<a href="../KVPair.html" title="class in io.permazen.kv">KVPair</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRange(io.permazen.util.ByteData,io.permazen.util.ByteData,boolean)" class="member-name-link">getRange</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;minKey,
 <a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;maxKey,
 boolean&nbsp;reverse)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Iterate the key/value pairs in the specified range.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Reads.html" title="class in io.permazen.kv.mvcc">Reads</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReads()" class="member-name-link">getReads</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> associated with this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Writes.html" title="class in io.permazen.kv.mvcc">Writes</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWrites()" class="member-name-link">getWrites</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a> associated with this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isReadOnly()" class="member-name-link">isReadOnly</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine if this instance is read-only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#put(io.permazen.util.ByteData,io.permazen.util.ByteData)" class="member-name-link">put</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key,
 <a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the value associated with the given key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#remove(io.permazen.util.ByteData)" class="member-name-link">remove</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the key/value pair with the given key, if it exists.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeRange(io.permazen.util.ByteData,io.permazen.util.ByteData)" class="member-name-link">removeRange</a><wbr>(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;minKey,
 <a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;maxKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all key/value pairs whose keys are in a given range.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setKVStore(io.permazen.kv.KVStore)" class="member-name-link">setKVStore</a><wbr>(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Swap out the underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> associated with this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setReadOnly()" class="member-name-link">setReadOnly</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure this instance as read-only.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withoutReadTracking(boolean,java.lang.Runnable)" class="member-name-link">withoutReadTracking</a><wbr>(boolean&nbsp;allowWrites,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Temporarily disable read tracking in the current thread while performing the given action.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.permazen.kv.AbstractKVStore">Methods inherited from class&nbsp;io.permazen.kv.<a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></h3>
<code><a href="../AbstractKVStore.html#getAtLeast(io.permazen.util.ByteData,io.permazen.util.ByteData)">getAtLeast</a>, <a href="../AbstractKVStore.html#getAtMost(io.permazen.util.ByteData,io.permazen.util.ByteData)">getAtMost</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.permazen.kv.KVStore">Methods inherited from interface&nbsp;io.permazen.kv.<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></h3>
<code><a href="../KVStore.html#getAtLeast(io.permazen.util.ByteData,io.permazen.util.ByteData)">getAtLeast</a>, <a href="../KVStore.html#getAtMost(io.permazen.util.ByteData,io.permazen.util.ByteData)">getAtMost</a>, <a href="../KVStore.html#getRange(io.permazen.kv.KeyRange)">getRange</a>, <a href="../KVStore.html#getRange(io.permazen.util.ByteData,io.permazen.util.ByteData)">getRange</a>, <a href="../KVStore.html#removeRange(io.permazen.kv.KeyRange)">removeRange</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(io.permazen.kv.KVStore)">
<h3>MutableView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MutableView</span><wbr><span class="parameters">(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv)</span></div>
<div class="block">Constructor.

 <p>
 The instance will use a new, empty <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> instance for read tracking.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kv</code> - underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>kv</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(io.permazen.kv.KVStore,boolean)">
<h3>MutableView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MutableView</span><wbr><span class="parameters">(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv,
 boolean&nbsp;trackReads)</span></div>
<div class="block">Constructor with optional read tracking.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kv</code> - underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></dd>
<dd><code>trackReads</code> - true to enable read tracking, or false for none</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>kv</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(io.permazen.kv.KVStore,io.permazen.kv.mvcc.Writes)">
<h3>MutableView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MutableView</span><wbr><span class="parameters">(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv,
 <a href="Writes.html" title="class in io.permazen.kv.mvcc">Writes</a>&nbsp;writes)</span></div>
<div class="block">Constructor with no read tracking and caller-provided <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kv</code> - underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></dd>
<dd><code>writes</code> - recorded writes</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>kv</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>writes</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(io.permazen.kv.KVStore,io.permazen.kv.mvcc.Reads,io.permazen.kv.mvcc.Writes)">
<h3>MutableView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MutableView</span><wbr><span class="parameters">(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv,
 <a href="Reads.html" title="class in io.permazen.kv.mvcc">Reads</a>&nbsp;reads,
 <a href="Writes.html" title="class in io.permazen.kv.mvcc">Writes</a>&nbsp;writes)</span></div>
<div class="block">Constructor using caller-provided <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> (optional) and <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kv</code> - underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></dd>
<dd><code>reads</code> - recorded reads, or null for none</dd>
<dd><code>writes</code> - recorded writes</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>kv</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>writes</code> is null</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getBaseKVStore()">
<h3>getBaseKVStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></span>&nbsp;<span class="element-name">getBaseKVStore</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#getBaseKVStore()">DeltaKVStore</a></code></span></div>
<div class="block">Get the <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> that underlies this instance.

 <p>
 Note that in some implementations the returned object and/or its contents may change over time, for example,
 if this instance gets "rebased" on a newer underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#getBaseKVStore()">getBaseKVStore</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
<dt>Returns:</dt>
<dd>underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setKVStore(io.permazen.kv.KVStore)">
<h3>setKVStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setKVStore</span><wbr><span class="parameters">(<a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a>&nbsp;kv)</span></div>
<div class="block">Swap out the underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> associated with this instance.

 <p>
 Note: the new <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> should have a consistent encoding of counter values as the previous <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a>,
 otherwise a concurrent thread may read previously written counter values back incorrectly.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>kv</code> - new underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>kv</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReads()">
<h3>getReads</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Reads.html" title="class in io.permazen.kv.mvcc">Reads</a></span>&nbsp;<span class="element-name">getReads</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#getReads()">DeltaKVStore</a></code></span></div>
<div class="block">Get the <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> associated with this instance.

 <p>
 This includes all keys explicitly or implicitly read by calls to
 <a href="../KVStore.html#get(io.permazen.util.ByteData)"><code>get()</code></a>, <a href="../KVStore.html#getAtLeast(io.permazen.util.ByteData,io.permazen.util.ByteData)"><code>getAtLeast()</code></a>, <a href="../KVStore.html#getAtMost(io.permazen.util.ByteData,io.permazen.util.ByteData)"><code>getAtMost()</code></a>, and <a href="../KVStore.html#getRange(io.permazen.util.ByteData,io.permazen.util.ByteData,boolean)"><code>getRange()</code></a>.

 <p>
 The returned object is "live" and should only be accessed while synchronized on <i>this</i> instance.

 <p>
 The read tracking may be imprecise, as long as all actual reads are included. For example, if keys <code>10001</code>,
 <code>100002</code>, and <code>100003</code> were read, the returned <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> may contain those three keys, or it may
 contain the entire range <code>10001-10003</code>, even though some keys in that range were not actually read in order
 to save memory. This optimization is acceptable as long as the keys that were actually read are always included.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#getReads()">getReads</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
<dt>Returns:</dt>
<dd>reads recorded, or null if this instance is not configured to record reads or read tracking has
  been permanently disabled via <a href="DeltaKVStore.html#disableReadTracking()"><code>DeltaKVStore.disableReadTracking()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWrites()">
<h3>getWrites</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Writes.html" title="class in io.permazen.kv.mvcc">Writes</a></span>&nbsp;<span class="element-name">getWrites</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#getWrites()">DeltaKVStore</a></code></span></div>
<div class="block">Get the <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a> associated with this instance.

 <p>
 The returned object is "live" and should only be accessed while synchronized on <i>this</i> instance.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#getWrites()">getWrites</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
<dt>Returns:</dt>
<dd>writes recorded</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="disableReadTracking()">
<h3>disableReadTracking</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disableReadTracking</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#disableReadTracking()">DeltaKVStore</a></code></span></div>
<div class="block">Permanently disable read tracking and discard the <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> associated with this instance.

 <p>
 This can be used to save some memory when read tracking information is no longer needed.

 <p>
 Does nothing if read tracking is already disabled.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#disableReadTracking()">disableReadTracking</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withoutReadTracking(boolean,java.lang.Runnable)">
<h3>withoutReadTracking</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">withoutReadTracking</span><wbr><span class="parameters">(boolean&nbsp;allowWrites,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#withoutReadTracking(boolean,java.lang.Runnable)">DeltaKVStore</a></code></span></div>
<div class="block">Temporarily disable read tracking in the current thread while performing the given action.

 <p>
 If <code>allowWrites</code> is false, then any write attempts by <code>action</code> will provoke an
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a>.

 <p>
 Read tracking is disabled only for the current thread, and it ends when this method returns.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#withoutReadTracking(boolean,java.lang.Runnable)">withoutReadTracking</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>allowWrites</code> - whether to allow writes (usually this is a bad idea)</dd>
<dd><code>action</code> - the action to perform</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isReadOnly()">
<h3>isReadOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isReadOnly</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#isReadOnly()">DeltaKVStore</a></code></span></div>
<div class="block">Determine if this instance is read-only.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#isReadOnly()">isReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
<dt>Returns:</dt>
<dd>true if this instance is read-only, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setReadOnly()">
<h3>setReadOnly</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setReadOnly</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="DeltaKVStore.html#setReadOnly()">DeltaKVStore</a></code></span></div>
<div class="block">Configure this instance as read-only.

 <p>
 Any subsequent write attempts will result in an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a>.

 <p>
 This operation cannot be un-done.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DeltaKVStore.html#setReadOnly()">setReadOnly</a></code>&nbsp;in interface&nbsp;<code><a href="DeltaKVStore.html" title="interface in io.permazen.kv.mvcc">DeltaKVStore</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(io.permazen.util.ByteData)">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a></span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#get(io.permazen.util.ByteData)">KVStore</a></code></span></div>
<div class="block">Get the value associated with the given key, if any.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#get(io.permazen.util.ByteData)">get</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#get(io.permazen.util.ByteData)">get</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>key</code> - key</dd>
<dt>Returns:</dt>
<dd>value associated with key, or null if not found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRange(io.permazen.util.ByteData,io.permazen.util.ByteData,boolean)">
<h3>getRange</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../util/CloseableIterator.html" title="interface in io.permazen.util">CloseableIterator</a>&lt;<a href="../KVPair.html" title="class in io.permazen.kv">KVPair</a>&gt;</span>&nbsp;<span class="element-name">getRange</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;minKey,
 <a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;maxKey,
 boolean&nbsp;reverse)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#getRange(io.permazen.util.ByteData,io.permazen.util.ByteData,boolean)">KVStore</a></code></span></div>
<div class="block">Iterate the key/value pairs in the specified range. The returned <a href="../../util/CloseableIterator.html" title="interface in io.permazen.util"><code>CloseableIterator</code></a>'s
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html#remove()" title="class or interface in java.util" class="external-link"><code>remove()</code></a> method must be supported and should have the same effect as
 invoking <a href="../KVStore.html#remove(io.permazen.util.ByteData)"><code>remove()</code></a> on the corresponding key.

 <p>
 If keys starting with <code>0xff</code> are not supported by this instance, and <code>minKey</code> starts with <code>0xff</code>,
 then this method returns an empty iteration.

 <p>
 If keys starting with <code>0xff</code> are not supported by this instance, and <code>maxKey</code> starts with <code>0xff</code>,
 then this method behaves as if <code>maxKey</code> were null.

 <p>
 The returned <a href="../../util/CloseableIterator.html" title="interface in io.permazen.util"><code>CloseableIterator</code></a> is <i>weakly consistent</i> (see <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html" class="external-link"><code>java.util.concurrent</code></a>).
 In short, the returned <a href="../../util/CloseableIterator.html" title="interface in io.permazen.util"><code>CloseableIterator</code></a> must not throw <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ConcurrentModificationException.html" title="class or interface in java.util" class="external-link"><code>ConcurrentModificationException</code></a>;
 however, whether or not a "live" <a href="../../util/CloseableIterator.html" title="interface in io.permazen.util"><code>CloseableIterator</code></a> reflects any modifications made after its creation is
 implementation dependent. Implementations that do make post-creation updates visible in the <a href="../../util/CloseableIterator.html" title="interface in io.permazen.util"><code>CloseableIterator</code></a>,
 even if the update occurs after some delay, must preserve the order in which the modifications actually occurred.

 <p>
 The returned <a href="../../util/CloseableIterator.html" title="interface in io.permazen.util"><code>CloseableIterator</code></a> itself is not guaranteed to be thread safe; is should only be used
 in the thread that created it.

 <p>
 Invokers of this method are encouraged to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html#close()" title="class or interface in java.io" class="external-link"><code>close()</code></a> the returned iterators,
 though this is not required for correct behavior.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#getRange(io.permazen.util.ByteData,io.permazen.util.ByteData,boolean)">getRange</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>minKey</code> - minimum key (inclusive), or null for no minimum (start at the smallest key)</dd>
<dd><code>maxKey</code> - maximum key (exclusive), or null for no maximum (end at the largest key)</dd>
<dd><code>reverse</code> - true to return key/value pairs in reverse order (i.e., keys descending)</dd>
<dt>Returns:</dt>
<dd>iteration of key/value pairs in the range <code>minKey</code> (inclusive) to <code>maxKey</code> (exclusive)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="put(io.permazen.util.ByteData,io.permazen.util.ByteData)">
<h3>put</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key,
 <a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;value)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#put(io.permazen.util.ByteData,io.permazen.util.ByteData)">KVStore</a></code></span></div>
<div class="block">Set the value associated with the given key.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#put(io.permazen.util.ByteData,io.permazen.util.ByteData)">put</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#put(io.permazen.util.ByteData,io.permazen.util.ByteData)">put</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>key</code> - key</dd>
<dd><code>value</code> - value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="remove(io.permazen.util.ByteData)">
<h3>remove</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#remove(io.permazen.util.ByteData)">KVStore</a></code></span></div>
<div class="block">Remove the key/value pair with the given key, if it exists.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#remove(io.permazen.util.ByteData)">remove</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#remove(io.permazen.util.ByteData)">remove</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>key</code> - key</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeRange(io.permazen.util.ByteData,io.permazen.util.ByteData)">
<h3>removeRange</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeRange</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;minKey,
 <a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;maxKey)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#removeRange(io.permazen.util.ByteData,io.permazen.util.ByteData)">KVStore</a></code></span></div>
<div class="block">Remove all key/value pairs whose keys are in a given range.

 <p>
 The <code>minKey</code> must be less than or equal to <code>maxKey</code>; if they equal (and not null)
 then nothing happens; if they are both null then all entries are deleted.

 <p>
 If keys starting with <code>0xff</code> are not supported by this instance, then:
 <ul>
  <li>If <code>minKey</code> starts with <code>0xff</code>, then no change occurs</li>
  <li>If <code>maxKey</code> starts with <code>0xff</code>, then this method behaves as if <code>maxKey</code> were null</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#removeRange(io.permazen.util.ByteData,io.permazen.util.ByteData)">removeRange</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#removeRange(io.permazen.util.ByteData,io.permazen.util.ByteData)">removeRange</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>minKey</code> - minimum key (inclusive), or null for no minimum</dd>
<dd><code>maxKey</code> - maximum key (exclusive), or null for no maximum</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="encodeCounter(long)">
<h3>encodeCounter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a></span>&nbsp;<span class="element-name">encodeCounter</span><wbr><span class="parameters">(long&nbsp;value)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#encodeCounter(long)">KVStore</a></code></span></div>
<div class="block">Encode a counter value into a <code>byte[]</code> value suitable for use with <a href="../KVStore.html#decodeCounter(io.permazen.util.ByteData)"><code>decodeCounter()</code></a>
 and/or <a href="../KVStore.html#adjustCounter(io.permazen.util.ByteData,long)"><code>adjustCounter()</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#encodeCounter(long)">encodeCounter</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#encodeCounter(long)">encodeCounter</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>value</code> - desired counter value</dd>
<dt>Returns:</dt>
<dd>encoded counter value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decodeCounter(io.permazen.util.ByteData)">
<h3>decodeCounter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">decodeCounter</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;bytes)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#decodeCounter(io.permazen.util.ByteData)">KVStore</a></code></span></div>
<div class="block">Decode a counter value previously encoded by <a href="../KVStore.html#encodeCounter(long)"><code>encodeCounter()</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#decodeCounter(io.permazen.util.ByteData)">decodeCounter</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#decodeCounter(io.permazen.util.ByteData)">decodeCounter</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>bytes</code> - encoded counter value</dd>
<dt>Returns:</dt>
<dd>decoded counter value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="adjustCounter(io.permazen.util.ByteData,long)">
<h3>adjustCounter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">adjustCounter</span><wbr><span class="parameters">(<a href="../../util/ByteData.html" title="class in io.permazen.util">ByteData</a>&nbsp;key,
 long&nbsp;amount)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#adjustCounter(io.permazen.util.ByteData,long)">KVStore</a></code></span></div>
<div class="block">Adjust the counter at the given key by the given amount.

 <p>
 Ideally this operation should behave in a lock-free manner, so that concurrent transactions can invoke it without
 conflict. However, when lock-free behavior occurs (if at all) depends on the implementation.

 <p>
 If there is no value associated with <code>key</code>, or <code>key</code>'s value is not a valid counter encoding as
 would be acceptable to <a href="../KVStore.html#decodeCounter(io.permazen.util.ByteData)"><code>decodeCounter()</code></a>, then how this operation affects <code>key</code>'s
 value is undefined.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#adjustCounter(io.permazen.util.ByteData,long)">adjustCounter</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../AbstractKVStore.html#adjustCounter(io.permazen.util.ByteData,long)">adjustCounter</a></code>&nbsp;in class&nbsp;<code><a href="../AbstractKVStore.html" title="class in io.permazen.kv">AbstractKVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>key</code> - key</dd>
<dd><code>amount</code> - amount to adjust counter value by</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="apply(io.permazen.kv.mvcc.Mutations)">
<h3>apply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="Mutations.html" title="interface in io.permazen.kv.mvcc">Mutations</a>&nbsp;mutations)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../KVStore.html#apply(io.permazen.kv.mvcc.Mutations)">KVStore</a></code></span></div>
<div class="block">Apply all the given <a href="Mutations.html" title="interface in io.permazen.kv.mvcc"><code>Mutations</code></a> to this instance.

 <p>
 Mutations are always to be applied in this order: removes, puts, counter adjustments.

 <p>
 The implementation in <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a> simply iterates over the individual changes and applies them
 via <a href="../KVStore.html#remove(io.permazen.util.ByteData)"><code>remove()</code></a> (for removals of a single key), <a href="../KVStore.html#removeRange(io.permazen.util.ByteData,io.permazen.util.ByteData)"><code>removeRange()</code></a>,
 <a href="../KVStore.html#put(io.permazen.util.ByteData,io.permazen.util.ByteData)"><code>put()</code></a>, and/or <a href="../KVStore.html#adjustCounter(io.permazen.util.ByteData,long)"><code>adjustCounter()</code></a>. Implementations that can process
 batch updates more efficiently are encouraged to override this method.

 <p>
 Unlike <a href="AtomicKVStore.html#apply(io.permazen.kv.mvcc.Mutations,boolean)"><code>AtomicKVStore.apply()</code></a>, this method is
 <i>not</i> required to apply the mutations atomically.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../KVStore.html#apply(io.permazen.kv.mvcc.Mutations)">apply</a></code>&nbsp;in interface&nbsp;<code><a href="../KVStore.html" title="interface in io.permazen.kv">KVStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>mutations</code> - mutations to apply</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clone()">
<h3>clone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MutableView.html" title="class in io.permazen.kv.mvcc">MutableView</a></span>&nbsp;<span class="element-name">clone</span>()</div>
<div class="block">Clone this instance.

 <p>
 The clone will have the same underlying <a href="../KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a>, but its own <a href="Reads.html" title="class in io.permazen.kv.mvcc"><code>Reads</code></a> and <a href="Writes.html" title="class in io.permazen.kv.mvcc"><code>Writes</code></a>,
 which will themselves be cloned from this instance's copies.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>clone of this instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
