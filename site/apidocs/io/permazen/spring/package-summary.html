<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>io.permazen.spring (Permazen 5.2.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.permazen.spring">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package io.permazen.spring" class="title">Package io.permazen.spring</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">io.permazen.spring</span></div>
<section class="package-description" id="package-description">
<div class="block">Spring Framework integration classes.

 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-xml-doc.min.js"></script>
 <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism.min.css" rel="stylesheet"/>

 <p><b>Overview</b></p>

 <p>
 This package provides the following features to facilitate use with
 <a href="http://projects.spring.io/spring-framework/">Spring</a>:
 <ul>
  <li>Custom XML tags for Spring declarative XML (see below)</li>
  <li>A Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html" title="class or interface in org.springframework.transaction" class="external-link"><code>PlatformTransactionManager</code></a> that integrates
      into Spring's transaction infrastructure and enables the
      <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Transactional.html" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>&#64;Transactional</code></a> annotation for
      <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a> transactions.</li>
  <li>A <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/dao/support/PersistenceExceptionTranslator.html" title="class or interface in org.springframework.dao.support" class="external-link"><code>PersistenceExceptionTranslator</code></a>
      <a href="PermazenExceptionTranslator.html" title="class in io.permazen.spring">implementation</a> suitable for use with Permazen</li>
  <li>Various <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html" title="class or interface in org.springframework.http.converter" class="external-link"><code>HttpMessageConverter</code></a>'s that bring Permazen's encoding,
      indexing, and schema management features to data being sent over a network:
      <ul>
      <li><a href="KVStoreHttpMessageConverter.html" title="class in io.permazen.spring"><code>KVStoreHttpMessageConverter</code></a> for encoding/decoding a raw
          <a href="../kv/KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a></li>
      <li><a href="DetachedPermazenTransactionHttpMessageConverter.html" title="class in io.permazen.spring"><code>DetachedPermazenTransactionHttpMessageConverter</code></a> for encoding/decoding an entire
          <a href="../DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a></li>
      <li><a href="PermazenObjectHttpMessageConverter.html" title="class in io.permazen.spring"><code>PermazenObjectHttpMessageConverter</code></a> for encoding/decoding a specific
          <a href="../PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> within a <a href="../DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a></li>
      </ul>
  </li>
 </ul>

 <p><b>Permazen XML Tags</b></p>

 <p>
 Permazen makes available the following XML tags to Spring declarative XML. All elements live in the
 <code>http://permazen.io/schema/spring/permazen</code> XML namespace:

 <div style="margin-left: 20px;">
 <table class="striped">
 <caption>Supported Elements</caption>
 <tr style="bgcolor:#ccffcc">
  <th style="font-weight: bold; text-align: left">Element</th>
  <th style="font-weight: bold; text-align: left">Description</th>
 </tr>
 <tr>
  <td><code>&lt;permazen:scan-classes&gt;</code></td>
  <td>Works just like Spring's <code>&lt;context:component-scan&gt;</code> but finds
      <a href="../annotation/PermazenType.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenType</code></a>-annotated Java model classes.
      Returns the classes found in a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link"><code>List</code></a>.</td>
 </tr>
 <tr>
  <td><code>&lt;permazen:permazen&gt;</code></td>
  <td>Simplifies defining and configuring a <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a> database.</td>
 </tr>
 </table>
 </div>

 <p>
 The <code>&lt;permazen:permazen&gt;</code> element requires a nested <code>&lt;permazen:scan-classes&gt;</code> element to configure
 the Java model classes. The <code>&lt;permazen:permazen&gt;</code> element supports the following attributes:

 <div style="margin-left: 20px;">
 <table class="striped">
 <caption>Supported Attributes</caption>
 <tr style="bgcolor:#ccffcc">
  <th style="font-weight: bold; text-align: left">Attribute</th>
  <th style="font-weight: bold; text-align: left">Type</th>
  <th style="font-weight: bold; text-align: left">Required?</th>
  <th style="font-weight: bold; text-align: left">Description</th>
 </tr>
 <tr>
  <td><code>kvstore</code></td>
  <td>Bean reference</td>
  <td>No</td>
  <td>The underlying key/value store database. This should be the name of a Spring bean that implements
      the <a href="../kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> interface. If unset, defaults to a new
      <a href="../kv/simple/SimpleKVDatabase.html" title="class in io.permazen.kv.simple"><code>SimpleKVDatabase</code></a> instance.</td>
 </tr>
 </table>
 </div>

 <p>
 An example Spring XML configuration using an in-memory key/value store and supporting Spring's
 <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Transactional.html" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>&#64;Transactional</code></a> annotation:
 <pre><code class="language-xml">
 &lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   <b>xmlns:permazen="http://permazen.io/schema/spring/permazen"</b>
   xmlns:tx="http://www.springframework.org/schema/tx"
   xmlns:p="http://www.springframework.org/schema/p"
   xmlns:c="http://www.springframework.org/schema/c"
   xsi:schemaLocation="
      <b>http://permazen.io/schema/spring/permazen
        http://permazen.github.io/permazen/permazen-spring/src/main/resources/io/permazen/spring/permazen-1.1.xsd</b>
      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt;

     &lt;!-- Define the underlying key/value database --&gt;
     &lt;bean id="kvdb" class="io.permazen.kv.simple.SimpleKVDatabase" p:waitTimeout="5000" p:holdTimeout="10000"/&gt;

     &lt;!-- Define the Permazen database on top of that --&gt;
     &lt;<b>permazen:permazen</b> id="permazen" kvstore="kvdb"&gt;

         &lt;!-- These are our Java model classes --&gt;
         &lt;<b>permazen:scan-classes</b> base-package="com.example.myapp"&gt;
             &lt;<b>permazen:exclude-filter</b> type="regex" expression="com\.example\.myapp\.test\..*"/&gt;
         &lt;/<b>permazen:scan-classes</b>&gt;
     &lt;/<b>permazen:permazen</b>&gt;

     &lt;!-- Create a Permazen transaction manager --&gt;
     &lt;bean id="transactionManager" class="io.permazen.spring.PermazenTransactionManager"
       p:Permazen-ref="permazen"/&gt;

     &lt;!-- Enable @Transactional annotations --&gt;
     &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;

 &lt;/beans&gt;
 </code></pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="http://projects.spring.io/spring-framework/">Spring Framework</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">io.permazen</a></div>
<div class="col-last even-row-color">
<div class="block">Abstraction layer allowing access to a <a href="../core/Database.html" title="class in io.permazen.core"><code>Database</code></a> using normal Java objects.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="caption"><span>Classes</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="AnnotatedClassScanner.html" title="class in io.permazen.spring">AnnotatedClassScanner</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Scans the classpath for classes having one or more configured type annotations.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DetachedPermazenTransactionHttpMessageConverter.html" title="class in io.permazen.spring">DetachedPermazenTransactionHttpMessageConverter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html" title="class or interface in org.springframework.http.converter" class="external-link"><code>HttpMessageConverter</code></a> capable of
 encoding and decoding a graph of <a href="../PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s contained in a <a href="../DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> that is
 backed by a <a href="../kv/util/MemoryKVStore.html" title="class in io.permazen.kv.util"><code>MemoryKVStore</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="KVStoreHttpMessageConverter.html" title="class in io.permazen.spring">KVStoreHttpMessageConverter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html" title="class or interface in org.springframework.http.converter" class="external-link"><code>HttpMessageConverter</code></a>
 capable of encoding and decoding a <a href="../kv/KVStore.html" title="interface in io.permazen.kv"><code>KVStore</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PermazenClassScanner.html" title="class in io.permazen.spring">PermazenClassScanner</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Scans the classpath for types annotated as <a href="../annotation/PermazenType.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenType</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PermazenExceptionTranslator.html" title="class in io.permazen.spring">PermazenExceptionTranslator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Permazen implementation of Spring's <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/dao/support/PersistenceExceptionTranslator.html" title="class or interface in org.springframework.dao.support" class="external-link"><code>PersistenceExceptionTranslator</code></a> interface.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PermazenNamespaceHandler.html" title="class in io.permazen.spring">PermazenNamespaceHandler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/beans/factory/xml/NamespaceHandler.html" title="class or interface in org.springframework.beans.factory.xml" class="external-link"><code>NamespaceHandler</code></a>
 for the <code>permazen</code> XML namespace.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PermazenObjectHttpMessageConverter.html" title="class in io.permazen.spring">PermazenObjectHttpMessageConverter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html" title="class or interface in org.springframework.http.converter" class="external-link"><code>HttpMessageConverter</code></a> capable of
 encoding and decoding one or more <a href="../PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s contained in a <a href="../DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PermazenTransactionManager.html" title="class in io.permazen.spring">PermazenTransactionManager</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Permazen implementation of Spring's
 <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html" title="class or interface in org.springframework.transaction" class="external-link"><code>PlatformTransactionManager</code></a> interface,
 allowing methods annotated with Spring's <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/annotation/Transactional.html" title="class or interface in org.springframework.transaction.annotation" class="external-link"><code>&#64;Transactional</code></a>
 annotation to perform transactions on a <a href="../Permazen.html" title="class in io.permazen"><code>Permazen</code></a> database.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PermazenTransactionManager.TransactionSynchronizationCallback.html" title="class in io.permazen.spring">PermazenTransactionManager.TransactionSynchronizationCallback</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Adapter class that wraps a Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/transaction/support/TransactionSynchronization.html" title="class or interface in org.springframework.transaction.support" class="external-link"><code>TransactionSynchronization</code></a> in the
 <a href="../core/Transaction.Callback.html" title="interface in io.permazen.core"><code>Transaction.Callback</code></a> interface.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SpringXMLKVDatabase.html" title="class in io.permazen.spring">SpringXMLKVDatabase</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block"><a href="../kv/simple/XMLKVDatabase.html" title="class in io.permazen.kv.simple"><code>XMLKVDatabase</code></a> that adds support for loading the default initial content from any Spring <a href="https://docs.spring.io/spring-framework/docs/6.1.10/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link"><code>Resource</code></a>.</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
