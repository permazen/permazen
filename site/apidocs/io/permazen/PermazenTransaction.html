<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>PermazenTransaction (Permazen 5.2.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: io.permazen, class: PermazenTransaction">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PermazenTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.permazen</a></div>
<h1 title="Class PermazenTransaction" class="title">Class PermazenTransaction</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.permazen.PermazenTransaction</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@ThreadSafe
</span><span class="modifiers">public class </span><span class="element-name type-name-label">PermazenTransaction</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A transaction associated with a <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> instance.

 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-java.min.js"></script>
 <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism.min.css" rel="stylesheet"/>

 <p>
 Commonly used methods in this class can be divided into the following categories:

 <p>
 <b>Transaction Meta-Data</b>
 <ul>
  <li><a href="#getPermazen()"><code>getPermazen()</code></a> - Get the associated <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> instance</li>
  <li><a href="#getTransaction()"><code>getTransaction()</code></a> - Get the core API <a href="core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> underlying this instance</li>
 </ul>

 <p>
 <b>Transaction Lifecycle</b>
 <ul>
  <li><a href="#commit()"><code>commit()</code></a> - Commit transaction</li>
  <li><a href="#rollback()"><code>rollback()</code></a> - Roll back transaction</li>
  <li><a href="#getCurrent()"><code>getCurrent()</code></a> - Get the <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> instance associated with the current thread</li>
  <li><a href="#setCurrent(io.permazen.PermazenTransaction)"><code>setCurrent()</code></a> - Set the <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> instance associated with the current thread</li>
  <li><a href="#isOpen()"><code>isOpen()</code></a> - Test whether transaction is still open</li>
  <li><a href="#performAction(java.lang.Runnable)"><code>performAction()</code></a> - Perform action with this instance as the current transaction</li>
 </ul>

 <p>
 <b>Object Access</b>
 <ul>
  <li><a href="#get(io.permazen.core.ObjId,java.lang.Class)"><code>get()</code></a> - Get the Java model object in this transaction corresponding to a
      specific database object ID</li>
  <li><a href="#getSingleton(java.lang.Class)"><code>getSingleton()</code></a> - Get a singleton instance in this transaction, creating it on demand
      if needed</li>
  <li><a href="#getAll(java.lang.Class)"><code>getAll()</code></a> - Get all Java model objects in this transaction that are instances of a given Java type</li>
  <li><a href="#create(java.lang.Class)"><code>create()</code></a> - Create a new Java model object in this transaction</li>
  <li><a href="#cascade(io.permazen.core.ObjId,int,io.permazen.core.util.ObjIdSet,java.lang.String...)"><code>cascade()</code></a> - Find all objects reachable through a reference cascade</li>
 </ul>

 <p>
 <b>Copying Objects</b>
 <ul>
  <li><a href="#copyTo(io.permazen.PermazenTransaction,io.permazen.CopyState,java.util.stream.Stream)"><code>copyTo()</code></a> - Copy a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link"><code>Stream</code></a> of objects into another
      transaction</li>
  <li><a href="ImportContext.html" title="class in io.permazen"><code>ImportContext</code></a> - Import plain (POJO) model objects</li>
  <li><a href="ExportContext.html" title="class in io.permazen"><code>ExportContext</code></a> - Export plain (POJO) model objects</li>
 </ul>

 <p>
 <b>Validation</b>
 <ul>
  <li><a href="#validate()"><code>validate()</code></a> - Validate objects in the validation queue</li>
  <li><a href="#resetValidationQueue()"><code>resetValidationQueue()</code></a> - Clear the validation queue</li>
 </ul>

 <p>
 <b>Index Queries</b>
 <ul>
  <li><a href="#querySimpleIndex(java.lang.Class,java.lang.String,java.lang.Class)"><code>querySimpleIndex()</code></a>
      - Access the index associated with a simple field</li>
  <li><a href="#queryListElementIndex(java.lang.Class,java.lang.String,java.lang.Class)"><code>queryListElementIndex()</code></a>
      - Access the composite index associated with a list field that includes corresponding list indices</li>
  <li><a href="#queryMapValueIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class)"><code>queryMapValueIndex()</code></a>
      - Access the composite index associated with a map value field that includes corresponding map keys</li>
  <li><a href="#queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class)"><code>queryCompositeIndex()</code></a>
      - Access a composite index defined on two fields</li>
  <li><a href="#queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class,java.lang.Class)"><code>queryCompositeIndex()</code></a>
      - Access a composite index defined on three fields</li>
  <li><a href="#queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class,java.lang.Class,java.lang.Class)"><code>queryCompositeIndex()</code></a>
      - Access a composite index defined on four fields</li>
  <!-- COMPOSITE-INDEX -->
  <li><a href="#querySchemaIndex(java.lang.Class)"><code>querySchemaIndex()</code></a> - Get database objects grouped by schema</li>
 </ul>

 <p>
 <b>Reference Paths</b>
 <ul>
  <li><a href="#followReferencePath(io.permazen.ReferencePath,java.util.stream.Stream)"><code>followReferencePath()</code></a> - Find all objects reachable by traversing a <a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a></li>
  <li><a href="#invertReferencePath(io.permazen.ReferencePath,java.util.stream.Stream)"><code>invertReferencePath()</code></a> - Find all objects reachable by traversing a <a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a>
      in the reverse direction</li>
 </ul>

 <p>
 <b>Detached Transactions</b>
 <ul>
  <li><a href="#getDetachedTransaction()"><code>getDetachedTransaction()</code></a> - Get the default in-memory detached transaction
      associated with this regular transaction</li>
  <li><a href="#createDetachedTransaction(io.permazen.ValidationMode)"><code>createDetachedTransaction()</code></a> - Create a new in-memory detached transaction</li>
  <li><a href="#createSnapshotTransaction(io.permazen.ValidationMode)"><code>createSnapshotTransaction()</code></a> - Create a new in-memory detached transaction
      pre-populated with a snapshot of this transaction</li>
  <li><a href="#isDetached()"><code>isDetached()</code></a> - Determine whether this transaction is a detached transaction</li>
 </ul>

 <p>
 <b>Lower Layer Access</b>
 <ul>
  <li><a href="#getKey(io.permazen.PermazenObject)"><code>getKey()</code></a> - Get the <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key prefix for an object</li>
  <li><a href="PermazenField.html#getKey(io.permazen.PermazenObject)"><code>PermazenField.getKey()</code></a> - Get the <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key for one field
      in an object</li>
  <li><a href="#withWeakConsistency(java.lang.Runnable)"><code>withWeakConsistency()</code></a> - Perform an operation with weaker transaction consistency</li>
 </ul>

 <p>
 The remaining methods in this class are normally only used by generated Java model object subclasses.
 Instead of using these methods directly, using the appropriately annotated Java model object method
 or <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> interface method is recommended.

 <p>
 <b>Java Model Object Methods</b>
 <ul>
  <li><a href="#readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readSimpleField()</code></a> - Read the value of a simple field</li>
  <li><a href="#writeSimpleField(io.permazen.PermazenObject,java.lang.String,java.lang.Object,boolean)"><code>writeSimpleField()</code></a> - Write the value of a simple field</li>
  <li><a href="#readCounterField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readCounterField()</code></a> - Access a <a href="Counter.html" title="class in io.permazen"><code>Counter</code></a> field</li>
  <li><a href="#readSetField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readSetField()</code></a> - Access a set field</li>
  <li><a href="#readListField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readListField()</code></a> - Access a list field</li>
  <li><a href="#readMapField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>readMapField()</code></a> - Access a map field</li>
  <li><a href="#registerPermazenObject(io.permazen.PermazenObject)"><code>registerPermazenObject()</code></a> - Ensure a <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> is registered
  in the internal object cache</li>
 </ul>

 <p>
 <b><a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> Methods</b>
 <ul>
  <li><a href="#delete(io.permazen.PermazenObject)"><code>delete()</code></a> - Delete an object from this transaction</li>
  <li><a href="#exists(io.permazen.core.ObjId)"><code>exists()</code></a> - Test whether an object exists in this transaction</li>
  <li><a href="#recreate(io.permazen.PermazenObject)"><code>recreate()</code></a> - Recreate an object in this transaction</li>
  <li><a href="#revalidate(io.permazen.core.ObjId,java.lang.Class...)"><code>revalidate()</code></a> - Manually add an object to the validation queue</li>
  <li><a href="#migrateSchema(io.permazen.PermazenObject)"><code>migrateSchema()</code></a> - Migrate an object's schema to match this transaction's data model</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cascade(io.permazen.core.ObjId,int,io.permazen.core.util.ObjIdSet,java.lang.String...)" class="member-name-link">cascade</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 int&nbsp;maxDistance,
 <a href="core/util/ObjIdSet.html" title="class in io.permazen.core.util">ObjIdSet</a>&nbsp;visited,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;cascades)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find all objects reachable through the specified reference cascades.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#commit()" class="member-name-link">commit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Commit this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copyTo(io.permazen.PermazenTransaction,io.permazen.CopyState,io.permazen.core.util.ObjIdSet)" class="member-name-link">copyTo</a><wbr>(<a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a>&nbsp;dest,
 <a href="CopyState.html" title="class in io.permazen">CopyState</a>&nbsp;copyState,
 <a href="core/util/ObjIdSet.html" title="class in io.permazen.core.util">ObjIdSet</a>&nbsp;ids)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Copy the specified objects into the specified destination transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copyTo(io.permazen.PermazenTransaction,io.permazen.CopyState,java.util.stream.Stream)" class="member-name-link">copyTo</a><wbr>(<a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a>&nbsp;dest,
 <a href="CopyState.html" title="class in io.permazen">CopyState</a>&nbsp;copyState,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;&nbsp;pobjs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Copy the specified objects into the specified destination transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(io.permazen.PermazenClass)" class="member-name-link">create</a><wbr>(<a href="PermazenClass.html" title="class in io.permazen">PermazenClass</a>&lt;T&gt;&nbsp;pclass)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new instance of the given type in this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(java.lang.Class)" class="member-name-link">create</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new instance of the given model class in this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createDetachedTransaction(io.permazen.ValidationMode)" class="member-name-link">createDetachedTransaction</a><wbr>(<a href="ValidationMode.html" title="enum class in io.permazen">ValidationMode</a>&nbsp;validationMode)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new, empty detached transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSnapshotTransaction(io.permazen.ValidationMode)" class="member-name-link">createSnapshotTransaction</a><wbr>(<a href="ValidationMode.html" title="enum class in io.permazen">ValidationMode</a>&nbsp;validationMode)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new detached transaction pre-populated with a snapshot of this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(io.permazen.PermazenObject)" class="member-name-link">delete</a><wbr>(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Delete the object with the given object ID in this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#exists(io.permazen.core.ObjId)" class="member-name-link">exists</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether the object with the given object ID exists in this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#followReferencePath(io.permazen.ReferencePath,java.util.stream.Stream)" class="member-name-link">followReferencePath</a><wbr>(<a href="ReferencePath.html" title="class in io.permazen">ReferencePath</a>&nbsp;path,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;&nbsp;startObjects)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find all target objects that are reachable from the given starting object set through the specified <a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(io.permazen.core.ObjId)" class="member-name-link">get</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the Java model object that is associated with this transaction and has the given ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(io.permazen.core.ObjId,java.lang.Class)" class="member-name-link">get</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the Java model object that is associated with this transaction and has the given ID, cast to the given type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;<br>T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(T)" class="member-name-link">get</a><wbr>(T&nbsp;pobj)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the Java model object with the same object ID as the given <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> and whose state derives from
 this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAll(java.lang.Class)" class="member-name-link">getAll</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get all instances of the given type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getCurrent()" class="member-name-link">getCurrent</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> associated with the current thread, if any, otherwise throw an exception.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDetachedTransaction()" class="member-name-link">getDetachedTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the default <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> associated with this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="util/ByteData.html" title="class in io.permazen.util">ByteData</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKey(io.permazen.PermazenObject)" class="member-name-link">getKey</a><wbr>(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <code>byte[]</code> key in the underlying key/value store corresponding to the specified object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Permazen.html" title="class in io.permazen">Permazen</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPermazen()" class="member-name-link">getPermazen</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> associated with this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSingleton(java.lang.Class)" class="member-name-link">getSingleton</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the singleton instance of the given type, creating it on demand if needed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="core/Transaction.html" title="class in io.permazen.core">Transaction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransaction()" class="member-name-link">getTransaction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> associated with this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ValidationMode.html" title="enum class in io.permazen">ValidationMode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getValidationMode()" class="member-name-link">getValidationMode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="ValidationMode.html" title="enum class in io.permazen"><code>ValidationMode</code></a> configured for this instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#hasCurrent()" class="member-name-link">hasCurrent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Determine if there is a <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> associated with the current thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invertReferencePath(io.permazen.ReferencePath,java.util.stream.Stream)" class="member-name-link">invertReferencePath</a><wbr>(<a href="ReferencePath.html" title="class in io.permazen">ReferencePath</a>&nbsp;path,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;&nbsp;targetObjects)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find all starting objects that refer to any object in the given target set through the specified <a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDetached()" class="member-name-link">isDetached</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this instance is a <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOpen()" class="member-name-link">isOpen</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether this transaction is still usable.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#migrateSchema(io.permazen.PermazenObject)" class="member-name-link">migrateSchema</a><wbr>(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update the schema of the specified object, if necessary, so that it matches
 the schema associated with this instance's <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#performAction(java.lang.Runnable)" class="member-name-link">performAction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoke the given <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> with this instance as the <a href="#getCurrent()">current transaction</a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#performAction(java.util.function.Supplier)" class="member-name-link">performAction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;T&gt;&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoke the given <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> with this instance as the <a href="#getCurrent()">current transaction</a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;V1,<wbr>
V2,<wbr>
T&gt;&nbsp;<a href="index/Index2.html" title="interface in io.permazen.index">Index2</a>&lt;V1,<wbr>V2,<wbr>T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class)" class="member-name-link">queryCompositeIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indexName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V1&gt;&nbsp;value1Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V2&gt;&nbsp;value2Type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Access a composite index on two fields.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;V1,<wbr>
V2,<wbr>
V3,<wbr>
T&gt;<br><a href="index/Index3.html" title="interface in io.permazen.index">Index3</a>&lt;V1,<wbr>V2,<wbr>V3,<wbr>T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class,java.lang.Class)" class="member-name-link">queryCompositeIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indexName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V1&gt;&nbsp;value1Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V2&gt;&nbsp;value2Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V3&gt;&nbsp;value3Type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Access a composite index on three fields.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;V1,<wbr>
V2,<wbr>
V3,<wbr>
V4,<wbr>
T&gt;<br><a href="index/Index4.html" title="interface in io.permazen.index">Index4</a>&lt;V1,<wbr>V2,<wbr>V3,<wbr>V4,<wbr>T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class,java.lang.Class,java.lang.Class)" class="member-name-link">queryCompositeIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indexName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V1&gt;&nbsp;value1Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V2&gt;&nbsp;value2Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V3&gt;&nbsp;value3Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V4&gt;&nbsp;value4Type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Access a composite index on four fields.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="index/Index.html" title="interface in io.permazen.index">Index</a>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryIndex(int)" class="member-name-link">queryIndex</a><wbr>(int&nbsp;storageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Query an index by storage ID.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;V,<wbr>
T&gt;&nbsp;<a href="index/Index2.html" title="interface in io.permazen.index">Index2</a>&lt;V,<wbr>T,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryListElementIndex(java.lang.Class,java.lang.String,java.lang.Class)" class="member-name-link">queryListElementIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V&gt;&nbsp;valueType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the composite index on a list field that includes list indices.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;V,<wbr>
T,<wbr>
K&gt;&nbsp;<a href="index/Index2.html" title="interface in io.permazen.index">Index2</a>&lt;V,<wbr>T,<wbr>K&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queryMapValueIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class)" class="member-name-link">queryMapValueIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V&gt;&nbsp;valueType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;K&gt;&nbsp;keyType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the composite index on a map value field that includes map keys.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;<a href="schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;T&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#querySchemaIndex(java.lang.Class)" class="member-name-link">querySchemaIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get all instances of the given type, grouped according to schema index.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;V,<wbr>
T&gt;&nbsp;<a href="index/Index1.html" title="interface in io.permazen.index">Index1</a>&lt;V,<wbr>T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#querySimpleIndex(java.lang.Class,java.lang.String,java.lang.Class)" class="member-name-link">querySimpleIndex</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V&gt;&nbsp;valueType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the index on a simple field.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Counter.html" title="class in io.permazen">Counter</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readCounterField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readCounterField</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a counter field.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readListField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readListField</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a list field.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;?,<wbr>?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readMapField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readMapField</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a map field.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readSetField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readSetField</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a set field.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)" class="member-name-link">readSimpleField</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a simple field.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recreate(io.permazen.PermazenObject)" class="member-name-link">recreate</a><wbr>(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recreate the given instance in this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#registerPermazenObject(io.permazen.PermazenObject)" class="member-name-link">registerPermazenObject</a><wbr>(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Ensure the given <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> is registered in its associated transaction's object cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetValidationQueue()" class="member-name-link">resetValidationQueue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clear the validation queue associated with this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#revalidate(io.permazen.core.ObjId,java.lang.Class...)" class="member-name-link">revalidate</a><wbr>(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;groups)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add the given instance to the validation queue for validation, which will occur either at <a href="#commit()"><code>commit()</code></a> time
 or at the next invocation of <a href="#validate()"><code>validate()</code></a>, whichever occurs first.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rollback()" class="member-name-link">rollback</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Roll back this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setCurrent(io.permazen.PermazenTransaction)" class="member-name-link">setCurrent</a><wbr>(<a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a>&nbsp;ptx)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Set the <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> associated with the current thread.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validate()" class="member-name-link">validate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform validation checks on all objects currently in the validation queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withWeakConsistency(java.lang.Runnable)" class="member-name-link">withWeakConsistency</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Apply weaker transaction consistency while performing the given action, if supported.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeSimpleField(io.permazen.PermazenObject,java.lang.String,java.lang.Object,boolean)" class="member-name-link">writeSimpleField</a><wbr>(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 boolean&nbsp;migrateSchema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write a simple field.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getCurrent()">
<h3>getCurrent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a></span>&nbsp;<span class="element-name">getCurrent</span>()</div>
<div class="block">Get the <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> associated with the current thread, if any, otherwise throw an exception.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>instance previously associated with the current thread via <a href="#setCurrent(io.permazen.PermazenTransaction)"><code>setCurrent()</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if there is no such instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCurrent(io.permazen.PermazenTransaction)">
<h3>setCurrent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setCurrent</span><wbr><span class="parameters">(<a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a>&nbsp;ptx)</span></div>
<div class="block">Set the <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> associated with the current thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ptx</code> - transaction to associate with the current thread</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasCurrent()">
<h3>hasCurrent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasCurrent</span>()</div>
<div class="block">Determine if there is a <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a> associated with the current thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if there is a current <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a>, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPermazen()">
<h3>getPermazen</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Permazen.html" title="class in io.permazen">Permazen</a></span>&nbsp;<span class="element-name">getPermazen</span>()</div>
<div class="block">Get the <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> associated with this instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the associated database</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransaction()">
<h3>getTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="core/Transaction.html" title="class in io.permazen.core">Transaction</a></span>&nbsp;<span class="element-name">getTransaction</span>()</div>
<div class="block">Get the <a href="core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> associated with this instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the associated core API transaction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getValidationMode()">
<h3>getValidationMode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ValidationMode.html" title="enum class in io.permazen">ValidationMode</a></span>&nbsp;<span class="element-name">getValidationMode</span>()</div>
<div class="block">Get the <a href="ValidationMode.html" title="enum class in io.permazen"><code>ValidationMode</code></a> configured for this instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the configured validation mode</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAll(java.lang.Class)">
<h3>getAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;T&gt;</span>&nbsp;<span class="element-name">getAll</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</span></div>
<div class="block">Get all instances of the given type.

 <p>
 The returned set includes objects from all schemas. Use <a href="#querySchemaIndex(java.lang.Class)"><code>querySchemaIndex()</code></a> to
 find objects with a specific schema.

 <p>
 The returned set is mutable, with the exception that <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#add(E)" title="class or interface in java.util" class="external-link"><code>add()</code></a> is not supported.
 Deleting an element results in <a href="PermazenObject.html#delete()">deleting</a> the corresponding object.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - containing Java type</dd>
<dt>Parameters:</dt>
<dd><code>type</code> - any Java type; use <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object.class</code></a> to return all database objects</dd>
<dt>Returns:</dt>
<dd>a live view of all instances of <code>type</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>type</code> is null</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSingleton(java.lang.Class)">
<h3>getSingleton</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">getSingleton</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</span></div>
<div class="block">Get the singleton instance of the given type, creating it on demand if needed.

 <p>
 This is a convenience method for accessing the singleton instances of any type annotated with
 <a href="annotation/PermazenType.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenType</code></a><code>(singleton = true)</code>. If <code>type</code> is not a
 singleton type, an exception is thrown.

 <p>
 If no instance exists yet, one is created. So this method is essentially shorthand for:

 <pre><code class="language-java">
  try {
      return this.getAll(type).first();
  } catch (NoSuchElementException e) {
      return this.create(type);
  }
 </code></pre></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - singleton type</dd>
<dt>Parameters:</dt>
<dd><code>type</code> - singleton model class</dd>
<dt>Returns:</dt>
<dd>the singleton instance of type <code>type</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>type</code> is not a singleton type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>type</code> is null</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="annotation/PermazenType.html#singleton()"><code>PermazenType.singleton()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="querySchemaIndex(java.lang.Class)">
<h3>querySchemaIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;<a href="schema/SchemaId.html" title="class in io.permazen.schema">SchemaId</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;T&gt;&gt;</span>&nbsp;<span class="element-name">querySchemaIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</span></div>
<div class="block">Get all instances of the given type, grouped according to schema index.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - containing Java type</dd>
<dt>Parameters:</dt>
<dd><code>type</code> - any Java type; use <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object.class</code></a> to return all database objects</dd>
<dt>Returns:</dt>
<dd>live, read-only mapping from <a href="schema/SchemaId.html" title="class in io.permazen.schema"><code>SchemaId</code></a> to objects having that schema</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>type</code> is null</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getKey(io.permazen.PermazenObject)">
<h3>getKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="util/ByteData.html" title="class in io.permazen.util">ByteData</a></span>&nbsp;<span class="element-name">getKey</span><wbr><span class="parameters">(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</span></div>
<div class="block">Get the <code>byte[]</code> key in the underlying key/value store corresponding to the specified object.

 <p>
 Notes:
 <ul>
  <li>Objects utilize multiple keys; the return value is the common prefix of all such keys.</li>
  <li>The <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> should not be modified directly, otherwise behavior is undefined</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pobj</code> - Java model object</dd>
<dt>Returns:</dt>
<dd>the <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a> key corresponding to <code>pobj</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="kv/KVTransaction.html#watchKey(io.permazen.util.ByteData)"><code>KVTransaction.watchKey()</code></a></li>
<li><a href="core/Transaction.html#getKey(io.permazen.core.ObjId)"><code>Transaction.getKey()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDetached()">
<h3>isDetached</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDetached</span>()</div>
<div class="block">Determine whether this instance is a <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this instance is a <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a>, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDetachedTransaction()">
<h3>getDetachedTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></span>&nbsp;<span class="element-name">getDetachedTransaction</span>()</div>
<div class="block">Get the default <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> associated with this instance.

 <p>
 The default <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> uses <a href="ValidationMode.html#MANUAL"><code>ValidationMode.MANUAL</code></a>.

 <p>
 This instance must not itself be a <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a>; use
 <a href="#createDetachedTransaction(io.permazen.ValidationMode)"><code>createDetachedTransaction()</code></a> to create additional detached transactions.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the associated detached transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if this instance is itself a <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="PermazenObject.html#copyOut(java.lang.String...)"><code>PermazenObject.copyOut()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createDetachedTransaction(io.permazen.ValidationMode)">
<h3>createDetachedTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></span>&nbsp;<span class="element-name">createDetachedTransaction</span><wbr><span class="parameters">(<a href="ValidationMode.html" title="enum class in io.permazen">ValidationMode</a>&nbsp;validationMode)</span></div>
<div class="block">Create a new, empty detached transaction.

 <p>
 The returned transaction will have the same schema meta-data as this instance.
 It will be a mutable transaction, but being detached, changes can't be committed.

 <p>
 The returned <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> does not support <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>.
 It can be used indefinitely after this transaction closes, but it must be
 <a href="DetachedPermazenTransaction.html#close()"><code>close()</code></a>'d when no longer needed to release any associated resources.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>validationMode</code> - the <a href="ValidationMode.html" title="enum class in io.permazen"><code>ValidationMode</code></a> to use for the new transaction</dd>
<dt>Returns:</dt>
<dd>newly created detached transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>validationMode</code> is null</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this instance is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSnapshotTransaction(io.permazen.ValidationMode)">
<h3>createSnapshotTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DetachedPermazenTransaction.html" title="class in io.permazen">DetachedPermazenTransaction</a></span>&nbsp;<span class="element-name">createSnapshotTransaction</span><wbr><span class="parameters">(<a href="ValidationMode.html" title="enum class in io.permazen">ValidationMode</a>&nbsp;validationMode)</span></div>
<div class="block">Create a new detached transaction pre-populated with a snapshot of this transaction.

 <p>
 The returned transaction will have the same schema meta-data and object content as this instance.
 It will be a mutable transaction, but being detached, changes can't be committed.

 <p>
 The returned <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> does not support <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>.
 It can be used indefinitely after this transaction closes, but it must be
 <a href="DetachedPermazenTransaction.html#close()"><code>close()</code></a>'d when no longer needed to release any associated resources.

 <p>
 This method requires the underlying key/value transaction to support <a href="kv/KVTransaction.html#readOnlySnapshot()"><code>KVTransaction.readOnlySnapshot()</code></a>.
 As with any other information extracted from this transaction, the returned content is not guaranteed to be
 valid until this transaction has been successfully committed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>validationMode</code> - the <a href="ValidationMode.html" title="enum class in io.permazen"><code>ValidationMode</code></a> to use for the new transaction</dd>
<dt>Returns:</dt>
<dd>newly created detached transaction</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>validationMode</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if they underlying key/value transaction doesn't support
  <a href="kv/KVTransaction.html#readOnlySnapshot()"><code>KVTransaction.readOnlySnapshot()</code></a></dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this instance is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copyTo(io.permazen.PermazenTransaction,io.permazen.CopyState,io.permazen.core.util.ObjIdSet)">
<h3>copyTo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">copyTo</span><wbr><span class="parameters">(<a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a>&nbsp;dest,
 <a href="CopyState.html" title="class in io.permazen">CopyState</a>&nbsp;copyState,
 <a href="core/util/ObjIdSet.html" title="class in io.permazen.core.util">ObjIdSet</a>&nbsp;ids)</span></div>
<div class="block">Copy the specified objects into the specified destination transaction.

 <p>
 This is a convenience method; equivalent to <a href="#copyTo(io.permazen.PermazenTransaction,io.permazen.CopyState,java.util.stream.Stream)"><code>copyTo(PermazenTransaction, CopyState, Stream)</code></a>}
 but with the objects specified by object ID.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dest</code> - destination transaction</dd>
<dd><code>copyState</code> - tracks which objects have already been copied and whether to remap object ID's</dd>
<dd><code>ids</code> - the object ID's of the objects to copy</dd>
<dt>Throws:</dt>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if any object to be copied does not actually exist</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if any copied object ends up with a reference to an object that does not exist
  in <code>dest</code> through a reference field configured to disallow deleted assignment</dd>
<dd><code><a href="core/SchemaMismatchException.html" title="class in io.permazen.core">SchemaMismatchException</a></code> - if the schema corresponding to any copied object is not identical
  in both this instance and <code>dest</code></dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction or <code>dest</code> is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copyTo(io.permazen.PermazenTransaction,io.permazen.CopyState,java.util.stream.Stream)">
<h3>copyTo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">copyTo</span><wbr><span class="parameters">(<a href="PermazenTransaction.html" title="class in io.permazen">PermazenTransaction</a>&nbsp;dest,
 <a href="CopyState.html" title="class in io.permazen">CopyState</a>&nbsp;copyState,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;&nbsp;pobjs)</span></div>
<div class="block">Copy the specified objects into the specified destination transaction.

 <p>
 If a target object does not exist, it will be created, otherwise its schema will be migrated to match the source
 object if necessary (with resulting <a href="annotation/OnSchemaChange.html" title="annotation interface in io.permazen.annotation"><code>&#64;OnSchemaChange</code></a> notifications).
 If <a href="CopyState.html#isSuppressNotifications()"><code>CopyState.isSuppressNotifications()</code></a> returns false, <a href="annotation/OnCreate.html" title="annotation interface in io.permazen.annotation"><code>&#64;OnCreate</code></a>
 and <a href="annotation/OnChange.html" title="annotation interface in io.permazen.annotation"><code>&#64;OnChange</code></a> notifications will also be delivered.

 <p>
 The <code>copyState</code> tracks which objects have already been copied. For a "fresh" copy operation,
 pass a newly created <a href="CopyState.html" title="class in io.permazen"><code>CopyState</code></a>; for a copy operation that is a continuation of a previous copy,
 reuse the previous <a href="CopyState.html" title="class in io.permazen"><code>CopyState</code></a>. The <a href="CopyState.html" title="class in io.permazen"><code>CopyState</code></a> may also be configured to remap object ID's.

 <p>
 This instance and <code>dest</code> must be compatible in that for any schemas encountered, those schemas
 must be identical in both transactions.

 <p>
 If <code>dest</code> is not a <a href="DetachedPermazenTransaction.html" title="class in io.permazen"><code>DetachedPermazenTransaction</code></a> and any copied objects contain reference fields configured with
 <a href="annotation/PermazenField.html#allowDeleted()"><code>PermazenField.allowDeleted()</code></a><code>= false</code>, then any objects referenced by those fields must
 also be copied, or else must already exist in <code>dest</code>. Otherwise, a <a href="core/DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a> is thrown
 and it is indeterminate which objects were copied.

 <p>
 Note: if two threads attempt to copy objects between the same two transactions at the same time but in opposite directions,
 deadlock could result.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dest</code> - destination transaction</dd>
<dd><code>pobjs</code> - the objects to copy; null values are ignored</dd>
<dd><code>copyState</code> - tracks which objects have already been copied and whether to remap object ID's</dd>
<dt>Throws:</dt>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if any object to be copied does not actually exist</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if any copied object ends up with a reference to an object that does not exist
  in <code>dest</code> through a reference field configured to disallow deleted assignment</dd>
<dd><code><a href="core/UnknownTypeException.html" title="class in io.permazen.core">UnknownTypeException</a></code> - if any source object's type does not exist in <code>dest</code></dd>
<dd><code><a href="core/SchemaMismatchException.html" title="class in io.permazen.core">SchemaMismatchException</a></code> - if the schema corresponding to any copied object is not identical
  in both this instance and <code>dest</code></dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction or <code>dest</code> is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cascade(io.permazen.core.ObjId,int,io.permazen.core.util.ObjIdSet,java.lang.String...)">
<h3>cascade</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html" title="class or interface in java.util" class="external-link">Iterator</a>&lt;<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&gt;</span>&nbsp;<span class="element-name">cascade</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 int&nbsp;maxDistance,
 <a href="core/util/ObjIdSet.html" title="class in io.permazen.core.util">ObjIdSet</a>&nbsp;visited,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;cascades)</span></div>
<div class="block">Find all objects reachable through the specified reference cascades.

 <p>
 This method finds all objects reachable from the given starting object through
 <a href="annotation/PermazenField.html#forwardCascades()">forward</a> and
 <a href="annotation/PermazenField.html#inverseCascades()">inverse</a> reference field cascades with the specified names.
 In other words, a reference field is traversed in the forward or inverse direction if any of the given <code>cascades</code>
 are found in the field's
 <a href="annotation/PermazenField.html#forwardCascades()">&#64;PermazenField.forwardCascades()</a> or
 <a href="annotation/PermazenField.html#inverseCascades()">&#64;PermazenField.inverseCascades()</a> annotation
 property, respectively.

 <p>
 The <code>visited</code> set contains the ID's of objects already visited (or is empty if none); these objects will not
 be traversed. In particular, if <code>id</code> is in <code>visited</code>, then this method does nothing.
 Upon return, <code>visited</code> will have had all of the new objects found added.

 <p>
 All new objects found will be <a href="#migrateSchema(io.permazen.PermazenObject)">migrated</a> to the this transaction's schema if necessary.

 <p>
 The <code>maxDistance</code> parameter can be used to limit the maximum distance of any reachable object, measured
 in the number of reference field hops from the starting object. If a value other than -1 is given, objects will
 be visited in breadth-first manner (i.e., ordered by distance) and the search is truncated at <code>maxDistance</code>
 hops. If -1 is given, there is no limit and also no implied ordering of the objects in the iteration.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - starting object ID</dd>
<dd><code>maxDistance</code> - the maximum number of reference fields to hop through, or -1 for no limit</dd>
<dd><code>visited</code> - on entry objects already visited, on return all objects reached</dd>
<dd><code>cascades</code> - zero or more reference cascade names</dd>
<dt>Returns:</dt>
<dd>iteration of reachable objects</dd>
<dt>Throws:</dt>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if any object containing a traversed reference field does not actually exist</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>maxDistance</code> is less than -1</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="PermazenObject.html#cascade(int,java.lang.String...)"><code>PermazenObject.cascade()</code></a></li>
<li><a href="annotation/PermazenField.html#forwardCascades()"><code>&#64;PermazenField.forwardCascades()</code></a></li>
<li><a href="annotation/PermazenField.html#inverseCascades()"><code>&#64;PermazenField.inverseCascades()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(io.permazen.core.ObjId)">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a></span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Get the Java model object that is associated with this transaction and has the given ID.

 <p>
 This method guarantees that for any particular <code>id</code>, the same Java instance will always be returned
 by this transaction.

 <p>
 <b>A non-null object is always returned, but the corresponding object may not actually exist in this transaction.</b>
 If not, attempts to access its fields will throw <a href="core/DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a>.
 Use <a href="PermazenObject.html#exists()"><code>PermazenObject.exists()</code></a> to check.

 <p>
 Also, it's possible that <code>id</code> corresponds to an object type that no longer exists in the schema
 version associated with this transaction. In that case, an <a href="UntypedPermazenObject.html" title="class in io.permazen"><code>UntypedPermazenObject</code></a> is returned.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dt>Returns:</dt>
<dd>Java model object</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#get(io.permazen.core.ObjId,java.lang.Class)"><code>get(ObjId, Class)</code></a></li>
<li><a href="#get(T)"><code>get(PermazenObject)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(io.permazen.core.ObjId,java.lang.Class)">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</span></div>
<div class="block">Get the Java model object that is associated with this transaction and has the given ID, cast to the given type.

 <p>
 This method guarantees that for any particular <code>id</code>, the same Java instance will always be returned
 by this transaction.

 <p>
 <b>A non-null object is always returned, but the corresponding object may not actually exist in this transaction.</b>
 If not, attempts to access its fields will throw <a href="core/DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a>.
 Use <a href="PermazenObject.html#exists()"><code>PermazenObject.exists()</code></a> to check.

 <p>
 This method just invokes <a href="#get(io.permazen.core.ObjId)"><code>get(ObjId)</code></a> and then casts the result.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - expected Java model type</dd>
<dt>Parameters:</dt>
<dd><code>id</code> - object ID</dd>
<dd><code>type</code> - expected type</dd>
<dt>Returns:</dt>
<dd>Java model object</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link">ClassCastException</a></code> - if the Java model object does not have type <code>type</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if either parameter is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#get(io.permazen.core.ObjId)"><code>get(ObjId)</code></a></li>
<li><a href="#get(T)"><code>get(PermazenObject)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(T)">
<h3 id="get(io.permazen.PermazenObject)">get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(T&nbsp;pobj)</span></div>
<div class="block">Get the Java model object with the same object ID as the given <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> and whose state derives from
 this transaction.

 <p>
 This method can be thought of as a "refresh" operation for objects being imported from other transactions into this one.

 <p>
 <b>A non-null object is always returned, but the corresponding object may not actually exist in this transaction.</b>
 If not, attempts to access its fields will throw <a href="core/DeletedObjectException.html" title="class in io.permazen.core"><code>DeletedObjectException</code></a>.
 Use <a href="PermazenObject.html#exists()"><code>PermazenObject.exists()</code></a> to check.

 <p>
 This method is equivalent to <code>get(pobj.getObjId())</code> followed by an appropriate cast to type <code>T</code>.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - expected Java type</dd>
<dt>Parameters:</dt>
<dd><code>pobj</code> - Java model object</dd>
<dt>Returns:</dt>
<dd>Java model object in this transaction with the same object ID (possibly <code>pobj</code> itself)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> is null, or not a <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> database object</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link">ClassCastException</a></code> - if the Java model object in this transaction somehow does not have the same type as <code>pobj</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#get(io.permazen.core.ObjId)"><code>get(ObjId)</code></a></li>
<li><a href="#get(io.permazen.core.ObjId,java.lang.Class)"><code>get(ObjId, Class)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(java.lang.Class)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type)</span></div>
<div class="block">Create a new instance of the given model class in this transaction.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java model type</dd>
<dt>Parameters:</dt>
<dd><code>type</code> - Java object model type</dd>
<dt>Returns:</dt>
<dd>newly created instance</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>type</code> is not a known Java object model type</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="create(io.permazen.PermazenClass)">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="PermazenClass.html" title="class in io.permazen">PermazenClass</a>&lt;T&gt;&nbsp;pclass)</span></div>
<div class="block">Create a new instance of the given type in this transaction.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java model type</dd>
<dt>Parameters:</dt>
<dd><code>pclass</code> - object type</dd>
<dt>Returns:</dt>
<dd>newly created instance</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pclass</code> is null or not valid for this instance</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(io.permazen.PermazenObject)">
<h3>delete</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</span></div>
<div class="block">Delete the object with the given object ID in this transaction.

 <p>
 This method is typically only used by generated classes; normally, <a href="PermazenObject.html#delete()"><code>PermazenObject.delete()</code></a> would be used instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pobj</code> - the object to delete</dd>
<dt>Returns:</dt>
<dd>true if object was found and deleted, false if object was not found</dd>
<dt>Throws:</dt>
<dd><code><a href="core/ReferencedObjectException.html" title="class in io.permazen.core">ReferencedObjectException</a></code> - if the object is referenced by some other object
  through a reference field configured for <a href="core/DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a></dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="exists(io.permazen.core.ObjId)">
<h3>exists</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">exists</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id)</span></div>
<div class="block">Determine whether the object with the given object ID exists in this transaction.

 <p>
 This method is typically only used by generated classes; normally, <a href="PermazenObject.html#exists()"><code>PermazenObject.exists()</code></a> would be used instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object to test for existence</dd>
<dt>Returns:</dt>
<dd>true if object was found, false if object was not found</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recreate(io.permazen.PermazenObject)">
<h3>recreate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">recreate</span><wbr><span class="parameters">(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</span></div>
<div class="block">Recreate the given instance in this transaction.

 <p>
 This method is typically only used by generated classes; normally, <a href="PermazenObject.html#recreate()"><code>PermazenObject.recreate()</code></a> would be used instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pobj</code> - the object to recreate</dd>
<dt>Returns:</dt>
<dd>true if the object was recreated, false if the object already existed</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="revalidate(io.permazen.core.ObjId,java.lang.Class...)">
<h3>revalidate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">revalidate</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;groups)</span></div>
<div class="block">Add the given instance to the validation queue for validation, which will occur either at <a href="#commit()"><code>commit()</code></a> time
 or at the next invocation of <a href="#validate()"><code>validate()</code></a>, whichever occurs first.

 <p>
 This method is typically only used by generated classes; normally, <a href="PermazenObject.html#revalidate(java.lang.Class...)"><code>PermazenObject.revalidate(java.lang.Class&lt;?&gt;...)</code></a> would be used instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object to revalidate</dd>
<dd><code>groups</code> - validation group(s) to use for validation; if empty, <code>Default</code> is assumed</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if transaction commit is already in progress</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if the object does not exist in this transaction</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if either parameter is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any group in <code>groups</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetValidationQueue()">
<h3>resetValidationQueue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetValidationQueue</span>()</div>
<div class="block">Clear the validation queue associated with this transaction. Any previously enqueued objects that have not
 yet been validated will no longer receive validation.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if transaction commit is already in progress</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="migrateSchema(io.permazen.PermazenObject)">
<h3>migrateSchema</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">migrateSchema</span><wbr><span class="parameters">(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</span></div>
<div class="block">Update the schema of the specified object, if necessary, so that it matches
 the schema associated with this instance's <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a>.

 <p>
 If a schema change occurs, <a href="annotation/OnSchemaChange.html" title="annotation interface in io.permazen.annotation"><code>&#64;OnSchemaChange</code></a> methods will be invoked
 prior to this method returning.

 <p>
 This method is typically only used by generated classes; normally, <a href="PermazenObject.html#migrateSchema()"><code>PermazenObject.migrateSchema()</code></a>
 would be used instead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pobj</code> - object to update</dd>
<dt>Returns:</dt>
<dd>true if the object's schema was migrated, false if it was already updated</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if <code>pobj</code> does not exist in this transaction</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if the current schema does not contain the object's type</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerPermazenObject(io.permazen.PermazenObject)">
<h3>registerPermazenObject</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerPermazenObject</span><wbr><span class="parameters">(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj)</span></div>
<div class="block">Ensure the given <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> is registered in its associated transaction's object cache.

 <p>
 This method is used internally, to handle mutations in model class superclass constructors, which will occur
 before the newly created <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a> is fully constructed and associated with its <a href="PermazenTransaction.html" title="class in io.permazen"><code>PermazenTransaction</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pobj</code> - object to register</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readSimpleField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">readSimpleField</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read a simple field.

 <p>
 This returns the value returned by <a href="core/Transaction.html#readSimpleField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>Transaction.readSimpleField()</code></a>
 with <a href="core/ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>s converted into <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s, etc.

 <p>
 This method is used by generated <a href="annotation/PermazenField.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenField</code></a> getter override methods
 and not normally invoked directly by user code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object containing the field</dd>
<dd><code>fieldName</code> - the name of the <a href="PermazenSimpleField.html" title="class in io.permazen"><code>PermazenSimpleField</code></a></dd>
<dd><code>migrateSchema</code> - true to automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>the value of the field in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if the object does not exist in this transaction</dd>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="PermazenSimpleField.html" title="class in io.permazen"><code>PermazenSimpleField</code></a> corresponding to <code>fieldName</code> in <code>id</code> exists</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if <code>migrateSchema</code> is true but the object has a type
  that does not exist in this instance's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>fieldName</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeSimpleField(io.permazen.PermazenObject,java.lang.String,java.lang.Object,boolean)">
<h3>writeSimpleField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeSimpleField</span><wbr><span class="parameters">(<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&nbsp;pobj,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Write a simple field.

 <p>
 This writes the value via <a href="core/Transaction.html#writeSimpleField(io.permazen.core.ObjId,java.lang.String,java.lang.Object,boolean)"><code>Transaction.writeSimpleField()</code></a>
 after converting <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s into <a href="core/ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>s, etc.

 <p>
 This method is used by generated <a href="annotation/PermazenField.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenField</code></a> setter override methods
 and not normally invoked directly by user code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pobj</code> - object containing the field</dd>
<dd><code>fieldName</code> - the name of the <a href="PermazenSimpleField.html" title="class in io.permazen"><code>PermazenSimpleField</code></a></dd>
<dd><code>value</code> - new value for the field</dd>
<dd><code>migrateSchema</code> - true to automatically migrate the object's schema, false to not change it</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if <code>pobj</code> does not exist in this transaction</dd>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="PermazenSimpleField.html" title="class in io.permazen"><code>PermazenSimpleField</code></a> corresponding to <code>fieldName</code> exists</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if <code>migrateSchema</code> is true but <code>pobj</code> has a type
  that does not exist in this instance's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>value</code> is not an appropriate value for the field</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>pobj</code> or <code>fieldName</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readCounterField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readCounterField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Counter.html" title="class in io.permazen">Counter</a></span>&nbsp;<span class="element-name">readCounterField</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read a counter field.

 <p>
 This method is used by generated <a href="annotation/PermazenField.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenField</code></a> getter override methods
 and not normally invoked directly by user code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object containing the field</dd>
<dd><code>fieldName</code> - the name of the <a href="PermazenCounterField.html" title="class in io.permazen"><code>PermazenCounterField</code></a></dd>
<dd><code>migrateSchema</code> - true to automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>the value of the field in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if the object does not exist in this transaction</dd>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="PermazenCounterField.html" title="class in io.permazen"><code>PermazenCounterField</code></a> corresponding to <code>fieldName</code> exists</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if <code>migrateSchema</code> is true but the object has a type
  that does not exist in this instance's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>fieldName</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readSetField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readSetField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;?&gt;</span>&nbsp;<span class="element-name">readSetField</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read a set field.

 <p>
 This returns the set returned by <a href="core/Transaction.html#readSetField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>Transaction.readSetField()</code></a> with
 <a href="core/ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>s converted into <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s, etc.

 <p>
 This method is used by generated <a href="annotation/PermazenSetField.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenSetField</code></a>
 getter override methods and not normally invoked directly by user code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object containing the field</dd>
<dd><code>fieldName</code> - the name of the <a href="PermazenSetField.html" title="class in io.permazen"><code>PermazenSetField</code></a></dd>
<dd><code>migrateSchema</code> - true to automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>the value of the field in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if the object does not exist in this transaction</dd>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="PermazenSetField.html" title="class in io.permazen"><code>PermazenSetField</code></a> corresponding to <code>fieldName</code> exists</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if <code>migrateSchema</code> is true but the object has a type
  that does not exist in this instance's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>fieldName</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readListField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readListField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;?&gt;</span>&nbsp;<span class="element-name">readListField</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read a list field.

 <p>
 This returns the list returned by <a href="core/Transaction.html#readListField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>Transaction.readListField()</code></a> with
 <a href="core/ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>s converted into <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s, etc.

 <p>
 This method is used by generated <a href="annotation/PermazenListField.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenListField</code></a>
 getter override methods and not normally invoked directly by user code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object containing the field</dd>
<dd><code>fieldName</code> - the name of the <a href="PermazenListField.html" title="class in io.permazen"><code>PermazenListField</code></a></dd>
<dd><code>migrateSchema</code> - true to automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>the value of the field in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if the object does not exist in this transaction</dd>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="PermazenListField.html" title="class in io.permazen"><code>PermazenListField</code></a> corresponding to <code>fieldName</code> exists</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if <code>migrateSchema</code> is true but the object has a type
  that does not exist in this instance's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>fieldName</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readMapField(io.permazen.core.ObjId,java.lang.String,boolean)">
<h3>readMapField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html" title="class or interface in java.util" class="external-link">NavigableMap</a>&lt;?,<wbr>?&gt;</span>&nbsp;<span class="element-name">readMapField</span><wbr><span class="parameters">(<a href="core/ObjId.html" title="class in io.permazen.core">ObjId</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 boolean&nbsp;migrateSchema)</span></div>
<div class="block">Read a map field.

 <p>
 This returns the map returned by <a href="core/Transaction.html#readMapField(io.permazen.core.ObjId,java.lang.String,boolean)"><code>Transaction.readMapField()</code></a> with
 <a href="core/ObjId.html" title="class in io.permazen.core"><code>ObjId</code></a>s converted into <a href="PermazenObject.html" title="interface in io.permazen"><code>PermazenObject</code></a>s, etc.

 <p>
 This method is used by generated <a href="annotation/PermazenMapField.html" title="annotation interface in io.permazen.annotation"><code>&#64;PermazenMapField</code></a>
 getter override methods and not normally invoked directly by user code.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID of the object containing the field</dd>
<dd><code>fieldName</code> - the name of the <a href="PermazenMapField.html" title="class in io.permazen"><code>PermazenMapField</code></a></dd>
<dd><code>migrateSchema</code> - true to automatically migrate the object's schema, false to not change it</dd>
<dt>Returns:</dt>
<dd>the value of the field in the object</dd>
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="core/DeletedObjectException.html" title="class in io.permazen.core">DeletedObjectException</a></code> - if the object does not exist in this transaction</dd>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if no <a href="PermazenMapField.html" title="class in io.permazen"><code>PermazenMapField</code></a> corresponding to <code>fieldName</code> exists</dd>
<dd><code><a href="core/TypeNotInSchemaException.html" title="class in io.permazen.core">TypeNotInSchemaException</a></code> - if <code>migrateSchema</code> is true but the object has a type
  that does not exist in this instance's schema</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> or <code>fieldName</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="followReferencePath(io.permazen.ReferencePath,java.util.stream.Stream)">
<h3>followReferencePath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;</span>&nbsp;<span class="element-name">followReferencePath</span><wbr><span class="parameters">(<a href="ReferencePath.html" title="class in io.permazen">ReferencePath</a>&nbsp;path,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;&nbsp;startObjects)</span></div>
<div class="block">Find all target objects that are reachable from the given starting object set through the specified <a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - reference path</dd>
<dd><code>startObjects</code> - starting objects</dd>
<dt>Returns:</dt>
<dd>read-only set of objects reachable from <code>startObjects</code> via <code>path</code></dd>
<dt>Throws:</dt>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains an unknown field</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if either parameter is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invertReferencePath(io.permazen.ReferencePath,java.util.stream.Stream)">
<h3>invertReferencePath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html" title="class or interface in java.util" class="external-link">NavigableSet</a>&lt;<a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;</span>&nbsp;<span class="element-name">invertReferencePath</span><wbr><span class="parameters">(<a href="ReferencePath.html" title="class in io.permazen">ReferencePath</a>&nbsp;path,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;? extends <a href="PermazenObject.html" title="interface in io.permazen">PermazenObject</a>&gt;&nbsp;targetObjects)</span></div>
<div class="block">Find all starting objects that refer to any object in the given target set through the specified <a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - reference path</dd>
<dd><code>targetObjects</code> - target objects</dd>
<dt>Returns:</dt>
<dd>read-only set of objects that refer to any of the <code>targetObjects</code> via <code>path</code></dd>
<dt>Throws:</dt>
<dd><code><a href="core/UnknownFieldException.html" title="class in io.permazen.core">UnknownFieldException</a></code> - if <code>path</code> contains an unknown field</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if either parameter is null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="ReferencePath.html" title="class in io.permazen"><code>ReferencePath</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="querySimpleIndex(java.lang.Class,java.lang.String,java.lang.Class)">
<h3>querySimpleIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;V,<wbr>
T&gt;</span>&nbsp;<span class="return-type"><a href="index/Index1.html" title="interface in io.permazen.index">Index1</a>&lt;V,<wbr>T&gt;</span>&nbsp;<span class="element-name">querySimpleIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V&gt;&nbsp;valueType)</span></div>
<div class="block">Get the index on a simple field. The simple field may be a sub-field of a complex field.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java type containing the field</dd>
<dd><code>V</code> - Java type corresponding to the indexed field</dd>
<dt>Parameters:</dt>
<dd><code>targetType</code> - Java type containing the indexed field; may also be any super-type (e.g., an interface type),
  as long as <code>fieldName</code> is not ambiguous among all sub-types</dd>
<dd><code>fieldName</code> - name of the indexed field; for complex fields,
  must include the sub-field name (e.g., <code>"mylist.element"</code>, <code>"mymap.key"</code>)
  unless there is only one sub-field (i.e., sets and lists but not maps)</dd>
<dd><code>valueType</code> - the Java type corresponding to the field value</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of field values mapped to sets of objects having that value in the field</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null, or invalid</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryListElementIndex(java.lang.Class,java.lang.String,java.lang.Class)">
<h3>queryListElementIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;V,<wbr>
T&gt;</span>&nbsp;<span class="return-type"><a href="index/Index2.html" title="interface in io.permazen.index">Index2</a>&lt;V,<wbr>T,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</span>&nbsp;<span class="element-name">queryListElementIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V&gt;&nbsp;valueType)</span></div>
<div class="block">Get the composite index on a list field that includes list indices.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java type containing the field</dd>
<dd><code>V</code> - Java type corresponding to the indexed list's element field</dd>
<dt>Parameters:</dt>
<dd><code>targetType</code> - type containing the indexed field; may also be any super-type (e.g., an interface type),
  as long as <code>fieldName</code> is not ambiguous among all sub-types</dd>
<dd><code>fieldName</code> - name of the indexed field; must include <code>"element"</code> sub-field name (e.g., <code>"mylist.element"</code>)</dd>
<dd><code>valueType</code> - the Java type corresponding to list elements</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of field values, objects having that value in the field, and corresponding list indices</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null, or invalid</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryMapValueIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class)">
<h3>queryMapValueIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;V,<wbr>
T,<wbr>
K&gt;</span>&nbsp;<span class="return-type"><a href="index/Index2.html" title="interface in io.permazen.index">Index2</a>&lt;V,<wbr>T,<wbr>K&gt;</span>&nbsp;<span class="element-name">queryMapValueIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fieldName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V&gt;&nbsp;valueType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;K&gt;&nbsp;keyType)</span></div>
<div class="block">Get the composite index on a map value field that includes map keys.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java type containing the field</dd>
<dd><code>V</code> - Java type corresponding to the indexed map's value field</dd>
<dd><code>K</code> - Java type corresponding to the indexed map's key field</dd>
<dt>Parameters:</dt>
<dd><code>targetType</code> - type containing the indexed field; may also be any super-type (e.g., an interface type),
  as long as <code>fieldName</code> is not ambiguous among all sub-types</dd>
<dd><code>fieldName</code> - name of the indexed field; must include <code>"value"</code> sub-field name (e.g., <code>"mymap.value"</code>)</dd>
<dd><code>valueType</code> - the Java type corresponding to map values</dd>
<dd><code>keyType</code> - the Java type corresponding to map keys</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of map values, objects having that value in the map field, and corresponding map keys</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null, or invalid</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class)">
<h3>queryCompositeIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;V1,<wbr>
V2,<wbr>
T&gt;</span>&nbsp;<span class="return-type"><a href="index/Index2.html" title="interface in io.permazen.index">Index2</a>&lt;V1,<wbr>V2,<wbr>T&gt;</span>&nbsp;<span class="element-name">queryCompositeIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indexName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V1&gt;&nbsp;value1Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V2&gt;&nbsp;value2Type)</span></div>
<div class="block">Access a composite index on two fields.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java type containing the field</dd>
<dd><code>V1</code> - Java type corresponding to the first indexed field</dd>
<dd><code>V2</code> - Java type corresponding to the second indexed field</dd>
<dt>Parameters:</dt>
<dd><code>targetType</code> - type containing the indexed fields; may also be any super-type (e.g., an interface type)</dd>
<dd><code>indexName</code> - the name of the composite index</dd>
<dd><code>value1Type</code> - the Java type corresponding to the first field value</dd>
<dd><code>value2Type</code> - the Java type corresponding to the second field value</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null, or invalid</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class,java.lang.Class)">
<h3>queryCompositeIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;V1,<wbr>
V2,<wbr>
V3,<wbr>
T&gt;</span>&nbsp;<span class="return-type"><a href="index/Index3.html" title="interface in io.permazen.index">Index3</a>&lt;V1,<wbr>V2,<wbr>V3,<wbr>T&gt;</span>&nbsp;<span class="element-name">queryCompositeIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indexName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V1&gt;&nbsp;value1Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V2&gt;&nbsp;value2Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V3&gt;&nbsp;value3Type)</span></div>
<div class="block">Access a composite index on three fields.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java type containing the field</dd>
<dd><code>V1</code> - Java type corresponding to the first indexed field</dd>
<dd><code>V2</code> - Java type corresponding to the second indexed field</dd>
<dd><code>V3</code> - Java type corresponding to the third indexed field</dd>
<dt>Parameters:</dt>
<dd><code>targetType</code> - type containing the indexed fields; may also be any super-type (e.g., an interface type)</dd>
<dd><code>indexName</code> - the name of the composite index</dd>
<dd><code>value1Type</code> - the Java type corresponding to the first field value</dd>
<dd><code>value2Type</code> - the Java type corresponding to the second field value</dd>
<dd><code>value3Type</code> - the Java type corresponding to the third field value</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null, or invalid</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryCompositeIndex(java.lang.Class,java.lang.String,java.lang.Class,java.lang.Class,java.lang.Class,java.lang.Class)">
<h3>queryCompositeIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;V1,<wbr>
V2,<wbr>
V3,<wbr>
V4,<wbr>
T&gt;</span>&nbsp;<span class="return-type"><a href="index/Index4.html" title="interface in io.permazen.index">Index4</a>&lt;V1,<wbr>V2,<wbr>V3,<wbr>V4,<wbr>T&gt;</span>&nbsp;<span class="element-name">queryCompositeIndex</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;targetType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indexName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V1&gt;&nbsp;value1Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V2&gt;&nbsp;value2Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V3&gt;&nbsp;value3Type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;V4&gt;&nbsp;value4Type)</span></div>
<div class="block">Access a composite index on four fields.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - Java type containing the field</dd>
<dd><code>V1</code> - Java type corresponding to the first indexed field</dd>
<dd><code>V2</code> - Java type corresponding to the second indexed field</dd>
<dd><code>V3</code> - Java type corresponding to the third indexed field</dd>
<dd><code>V4</code> - Java type corresponding to the fourth indexed field</dd>
<dt>Parameters:</dt>
<dd><code>targetType</code> - type containing the indexed fields; may also be any super-type (e.g., an interface type)</dd>
<dd><code>indexName</code> - the name of the composite index</dd>
<dd><code>value1Type</code> - the Java type corresponding to the first field value</dd>
<dd><code>value2Type</code> - the Java type corresponding to the second field value</dd>
<dd><code>value3Type</code> - the Java type corresponding to the third field value</dd>
<dd><code>value4Type</code> - the Java type corresponding to the fourth field value</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if any parameter is null, or invalid</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queryIndex(int)">
<h3>queryIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="index/Index.html" title="interface in io.permazen.index">Index</a>&lt;?&gt;</span>&nbsp;<span class="element-name">queryIndex</span><wbr><span class="parameters">(int&nbsp;storageId)</span></div>
<div class="block">Query an index by storage ID. For storage ID's corresponding to simple fields, this method returns an
 <a href="index/Index.html" title="interface in io.permazen.index"><code>Index</code></a>, except for list element and map value fields, for which an <a href="index/Index2.html" title="interface in io.permazen.index"><code>Index2</code></a> is returned.
 For storage ID's corresponding to composite indexes, this method returns an <a href="index/Index2.html" title="interface in io.permazen.index"><code>Index2</code></a>, <a href="index/Index3.html" title="interface in io.permazen.index"><code>Index3</code></a>,
 etc. as appropriate.

 <p>
 This method exists mainly for the convenience of programmatic tools, etc.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storageId</code> - indexed <a href="PermazenSimpleField.html" title="class in io.permazen"><code>PermazenSimpleField</code></a>'s storage ID</dd>
<dt>Returns:</dt>
<dd>read-only, real-time view of the fields' values and the objects having those values in the fields</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>storageId</code> does not correspond to an indexed field or composite index</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commit()">
<h3>commit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">commit</span>()</div>
<div class="block">Commit this transaction.

 <p>
 Prior to actual commit, if this transaction was created with a validation mode other than <a href="ValidationMode.html#DISABLED"><code>ValidationMode.DISABLED</code></a>,
 <a href="#validate()">validation</a> of outstanding objects in the validation queue is performed.

 <p>
 If a <a href="ValidationException.html" title="class in io.permazen"><code>ValidationException</code></a> is thrown, the transaction is no longer usable. To perform validation and leave
 the transaction open, invoke <a href="#validate()"><code>validate()</code></a> prior to commit.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dd><code><a href="kv/RetryKVTransactionException.html" title="class in io.permazen.kv">RetryKVTransactionException</a></code> - from <a href="kv/KVTransaction.html#commit()"><code>KVTransaction.commit()</code></a></dd>
<dd><code><a href="ValidationException.html" title="class in io.permazen">ValidationException</a></code> - if a validation error is detected</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this method is invoked re-entrantly from within a validation check</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollback()">
<h3>rollback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rollback</span>()</div>
<div class="block">Roll back this transaction.

 <p>
 This method may be invoked at any time, even after a previous invocation of
 <a href="#commit()"><code>commit()</code></a> or <a href="#rollback()"><code>rollback()</code></a>, in which case the invocation will be ignored.</div>
</section>
</li>
<li>
<section class="detail" id="isOpen()">
<h3>isOpen</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOpen</span>()</div>
<div class="block">Determine whether this transaction is still usable.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this transaction is still valid</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="core/Transaction.html#isOpen()"><code>Transaction.isOpen()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validate()">
<h3>validate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">validate</span>()</div>
<div class="block">Perform validation checks on all objects currently in the validation queue.
 This method may be called at any time prior to <a href="#commit()"><code>commit()</code></a> to
 process and clear the queue of validatable objects.

 <p>
 If validation fails, validation stops, all remaining unvalidated objects are left on the validation queue,
 and a <a href="ValidationException.html" title="class in io.permazen"><code>ValidationException</code></a> is thrown. The transaction will remain usable.

 <p>
 <b>Note:</b> if this transaction was created with <a href="ValidationMode.html#DISABLED"><code>ValidationMode.DISABLED</code></a>, then this method does nothing.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="kv/RetryKVTransactionException.html" title="class in io.permazen.kv">RetryKVTransactionException</a></code> - from <a href="kv/KVTransaction.html#commit()"><code>KVTransaction.commit()</code></a></dd>
<dd><code><a href="ValidationException.html" title="class in io.permazen">ValidationException</a></code> - if a validation error is detected</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if transaction commit is already in progress</dd>
<dd><code><a href="core/StaleTransactionException.html" title="class in io.permazen.core">StaleTransactionException</a></code> - if this transaction is no longer usable</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="PermazenObject.html#revalidate(java.lang.Class...)"><code>PermazenObject.revalidate(java.lang.Class&lt;?&gt;...)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="performAction(java.lang.Runnable)">
<h3>performAction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">performAction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</span></div>
<div class="block">Invoke the given <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> with this instance as the <a href="#getCurrent()">current transaction</a>.

 <p>
 If another instance is currently associated with the current thread, it is set aside for the duration of
 <code>action</code>'s execution, and then restored when <code>action</code> is finished (regardless of outcome).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - action to perform</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="performAction(java.util.function.Supplier)">
<h3>performAction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">performAction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;T&gt;&nbsp;action)</span></div>
<div class="block">Invoke the given <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> with this instance as the <a href="#getCurrent()">current transaction</a>.

 <p>
 If another instance is currently associated with the current thread, it is set aside for the duration of
 <code>action</code>'s execution, and then restored when <code>action</code> is finished (regardless of outcome).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - action to perform</dd>
<dt>Returns:</dt>
<dd>result from action</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withWeakConsistency(java.lang.Runnable)">
<h3>withWeakConsistency</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">withWeakConsistency</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action)</span></div>
<div class="block">Apply weaker transaction consistency while performing the given action, if supported.

 <p>
 Some key/value implementations support reads with weaker consistency guarantees. These reads generate fewer
 transaction conflicts but return possibly out-of-date information. Depending on the implementation, when operating
 in this mode writes may not be supported and may generate a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a> or just be ignored.

 <p>
 The weaker consistency is only applied for the current thread, and it ends when this method returns.

 <p>
 <b>This method is for experts only</b>; inappropriate use can result in a corrupted database.
 You should not make any changes to the database after this method returns based on any information
 read by the <code>action</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - the action to perform</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
