<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Session (Permazen 4.1.9 API)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Session (Permazen 4.1.9 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Session.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../io/permazen/ReferencePath.html" title="class in io.permazen"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../io/permazen/Session.Action.html" title="interface in io.permazen"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?io/permazen/Session.html" target="_top">Frames</a></li>
<li><a href="Session.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.permazen</div>
<h2 title="Class Session" class="title">Class Session</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.permazen.Session</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../io/permazen/parse/ParseSession.html" title="class in io.permazen.parse">ParseSession</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Session</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility class for programmatic <a href="../../io/permazen/Permazen.html" title="class in io.permazen"><code>Permazen</code></a> database access.

 <p>
 Instances operate in one of three modes; see <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.

 <p>
 Instances are <b>not</b> thread safe.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.Action.html" title="interface in io.permazen">Session.Action</a></span></code>
<div class="block">Callback interface used by <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>Session.performSessionAction()</code></a>
 and <a href="../../io/permazen/Session.html#performSessionActionWithCurrentTransaction-io.permazen.Session.Action-"><code>Session.performSessionActionWithCurrentTransaction()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.HasTransactionOptions.html" title="interface in io.permazen">Session.HasTransactionOptions</a></span></code>
<div class="block">Interface implemented by <a href="../../io/permazen/Session.TransactionalAction.html" title="interface in io.permazen"><code>Session.TransactionalAction</code></a>'s that want to provide custom transaction options.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen">Session.RetryableAction</a></span></code>
<div class="block">Tagging interface indicating a <a href="../../io/permazen/Session.TransactionalAction.html" title="interface in io.permazen"><code>Session.TransactionalAction</code></a> that should be retried if a
 <a href="../../io/permazen/kv/RetryTransactionException.html" title="class in io.permazen.kv"><code>RetryTransactionException</code></a> is thrown.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.TransactionalAction.html" title="interface in io.permazen">Session.TransactionalAction</a></span></code>
<div class="block">Tagging interface indicating an <a href="../../io/permazen/Session.Action.html" title="interface in io.permazen"><code>Session.Action</code></a> that requires there to be an open transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#DEFAULT_INITIAL_RETRY_DELAY">DEFAULT_INITIAL_RETRY_DELAY</a></span></code>
<div class="block">Default value for the <a href="../../io/permazen/Session.html#getInitialRetryDelay--">initial retry delay</a> (in milliseconds).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#DEFAULT_MAX_RETRIES">DEFAULT_MAX_RETRIES</a></span></code>
<div class="block">Default value for the <a href="../../io/permazen/Session.html#getMaxRetries--">maximum number of retry attempts</a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#DEFAULT_MAXIMUM_RETRY_DELAY">DEFAULT_MAXIMUM_RETRY_DELAY</a></span></code>
<div class="block">Default value for the <a href="../../io/permazen/Session.html#getMaximumRetryDelay--">maximum retry delay</a> (in milliseconds).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://www.slf4j.org/apidocs/org/slf4j/Logger.html?is-external=true" title="class or interface in org.slf4j">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#log">log</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#Session-io.permazen.core.Database-">Session</a></span>(<a href="../../io/permazen/core/Database.html" title="class in io.permazen.core">Database</a>&nbsp;db)</code>
<div class="block">Constructor for <a href="../../io/permazen/SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#Session-io.permazen.kv.KVDatabase-">Session</a></span>(<a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a>&nbsp;kvdb)</code>
<div class="block">Constructor for <a href="../../io/permazen/SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#Session-io.permazen.Permazen-">Session</a></span>(<a href="../../io/permazen/Permazen.html" title="class in io.permazen">Permazen</a>&nbsp;jdb)</code>
<div class="block">Constructor for <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../io/permazen/core/Database.html" title="class in io.permazen.core">Database</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getDatabase--">getDatabase</a></span>()</code>
<div class="block">Get the associated <a href="../../io/permazen/core/Database.html" title="class in io.permazen.core"><code>Database</code></a>, if any.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getDatabaseDescription--">getDatabaseDescription</a></span>()</code>
<div class="block">Get a description of the database.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getInitialRetryDelay--">getInitialRetryDelay</a></span>()</code>
<div class="block">Get the initial retry delay when a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../io/permazen/JTransaction.html" title="class in io.permazen">JTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getJTransaction--">getJTransaction</a></span>()</code>
<div class="block">Get the open <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> currently associated with this instance.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getKVDatabase--">getKVDatabase</a></span>()</code>
<div class="block">Get the associated <a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../io/permazen/kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getKVTransaction--">getKVTransaction</a></span>()</code>
<div class="block">Get the open <a href="../../io/permazen/kv/KVTransaction.html" title="interface in io.permazen.kv"><code>KVTransaction</code></a> currently associated with this instance.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getMaximumRetryDelay--">getMaximumRetryDelay</a></span>()</code>
<div class="block">Configure the maximum retry delay when a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getMaxRetries--">getMaxRetries</a></span>()</code>
<div class="block">Get the maximum number of allowed retries when a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../io/permazen/SessionMode.html" title="enum in io.permazen">SessionMode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getMode--">getMode</a></span>()</code>
<div class="block">Get this instance's <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../io/permazen/schema/NameIndex.html" title="class in io.permazen.schema">NameIndex</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getNameIndex--">getNameIndex</a></span>()</code>
<div class="block">Get the <a href="../../io/permazen/schema/NameIndex.html" title="class in io.permazen.schema"><code>NameIndex</code></a> for this instance's <a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../io/permazen/Permazen.html" title="class in io.permazen">Permazen</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getPermazen--">getPermazen</a></span>()</code>
<div class="block">Get the associated <a href="../../io/permazen/Permazen.html" title="class in io.permazen"><code>Permazen</code></a>, if any.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getSchemaModel--">getSchemaModel</a></span>()</code>
<div class="block">Get the <a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a> configured for this instance.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getSchemaVersion--">getSchemaVersion</a></span>()</code>
<div class="block">Get the schema version associated with this instance.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../io/permazen/core/Transaction.html" title="class in io.permazen.core">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getTransaction--">getTransaction</a></span>()</code>
<div class="block">Get the open <a href="../../io/permazen/core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> currently associated with this instance.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../io/permazen/ValidationMode.html" title="enum in io.permazen">ValidationMode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#getValidationMode--">getValidationMode</a></span>()</code>
<div class="block">Get the <a href="../../io/permazen/ValidationMode.html" title="enum in io.permazen"><code>ValidationMode</code></a> associated with this instance.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#isAllowNewSchema--">isAllowNewSchema</a></span>()</code>
<div class="block">Get whether the recording of new schema versions should be allowed.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#isReadOnly--">isReadOnly</a></span>()</code>
<div class="block">Get whether new transactions should be marked read-only.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#isTransactionOpen--">isTransactionOpen</a></span>()</code>
<div class="block">Determine whether there is a transaction already associated with this instance.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-">performSessionAction</a></span>(<a href="../../io/permazen/Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</code>
<div class="block">Perform the given action in the context of this session.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#performSessionActionWithCurrentTransaction-io.permazen.Session.Action-">performSessionActionWithCurrentTransaction</a></span>(<a href="../../io/permazen/Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</code>
<div class="block">Associate the current <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> with this instance, if not already associated, while performing the given action.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#reportException-java.lang.Exception-">reportException</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a>&nbsp;e)</code>
<div class="block">Handle an exception thrown during an invocation of <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setAllowNewSchema-boolean-">setAllowNewSchema</a></span>(boolean&nbsp;allowNewSchema)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setDatabaseDescription-java.lang.String-">setDatabaseDescription</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;databaseDescription)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setInitialRetryDelay-int-">setInitialRetryDelay</a></span>(int&nbsp;initialRetryDelay)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setMaximumRetryDelay-int-">setMaximumRetryDelay</a></span>(int&nbsp;maximumRetryDelay)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setMaxRetries-int-">setMaxRetries</a></span>(int&nbsp;maxRetries)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setMode-io.permazen.SessionMode-">setMode</a></span>(<a href="../../io/permazen/SessionMode.html" title="enum in io.permazen">SessionMode</a>&nbsp;mode)</code>
<div class="block">Change this instance's <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setReadOnly-boolean-">setReadOnly</a></span>(boolean&nbsp;readOnly)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setRollbackOnly--">setRollbackOnly</a></span>()</code>
<div class="block">Mark the current transaction to be rolled back.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setSchemaModel-io.permazen.schema.SchemaModel-">setSchemaModel</a></span>(<a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;schemaModel)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setSchemaVersion-int-">setSchemaVersion</a></span>(int&nbsp;schemaVersion)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/permazen/Session.html#setValidationMode-io.permazen.ValidationMode-">setValidationMode</a></span>(<a href="../../io/permazen/ValidationMode.html" title="enum in io.permazen">ValidationMode</a>&nbsp;validationMode)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_MAX_RETRIES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAX_RETRIES</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_RETRIES</pre>
<div class="block">Default value for the <a href="../../io/permazen/Session.html#getMaxRetries--">maximum number of retry attempts</a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#io.permazen.Session.DEFAULT_MAX_RETRIES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_INITIAL_RETRY_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_INITIAL_RETRY_DELAY</h4>
<pre>public static final&nbsp;int DEFAULT_INITIAL_RETRY_DELAY</pre>
<div class="block">Default value for the <a href="../../io/permazen/Session.html#getInitialRetryDelay--">initial retry delay</a> (in milliseconds).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#io.permazen.Session.DEFAULT_INITIAL_RETRY_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_MAXIMUM_RETRY_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAXIMUM_RETRY_DELAY</h4>
<pre>public static final&nbsp;int DEFAULT_MAXIMUM_RETRY_DELAY</pre>
<div class="block">Default value for the <a href="../../io/permazen/Session.html#getMaximumRetryDelay--">maximum retry delay</a> (in milliseconds).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#io.permazen.Session.DEFAULT_MAXIMUM_RETRY_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected final&nbsp;<a href="https://www.slf4j.org/apidocs/org/slf4j/Logger.html?is-external=true" title="class or interface in org.slf4j">Logger</a> log</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Session-io.permazen.kv.KVDatabase-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Session</h4>
<pre>public&nbsp;Session(<a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a>&nbsp;kvdb)</pre>
<div class="block">Constructor for <a href="../../io/permazen/SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kvdb</code> - key/value database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>kvdb</code> is null</dd>
</dl>
</li>
</ul>
<a name="Session-io.permazen.core.Database-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Session</h4>
<pre>public&nbsp;Session(<a href="../../io/permazen/core/Database.html" title="class in io.permazen.core">Database</a>&nbsp;db)</pre>
<div class="block">Constructor for <a href="../../io/permazen/SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - core database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>db</code> is null</dd>
</dl>
</li>
</ul>
<a name="Session-io.permazen.Permazen-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Session</h4>
<pre>public&nbsp;Session(<a href="../../io/permazen/Permazen.html" title="class in io.permazen">Permazen</a>&nbsp;jdb)</pre>
<div class="block">Constructor for <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jdb</code> - database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>jdb</code> is null</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMode</h4>
<pre>public&nbsp;<a href="../../io/permazen/SessionMode.html" title="enum in io.permazen">SessionMode</a>&nbsp;getMode()</pre>
<div class="block">Get this instance's <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this instance's <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</dd>
</dl>
</li>
</ul>
<a name="setMode-io.permazen.SessionMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMode</h4>
<pre>public&nbsp;void&nbsp;setMode(<a href="../../io/permazen/SessionMode.html" title="enum in io.permazen">SessionMode</a>&nbsp;mode)</pre>
<div class="block">Change this instance's <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - new <a href="../../io/permazen/SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>mode</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>mode</code> requires a <a href="../../io/permazen/Permazen.html" title="class in io.permazen"><code>Permazen</code></a> (i.e., <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>),
  or <a href="../../io/permazen/core/Database.html" title="class in io.permazen.core"><code>Database</code></a> (i.e., <a href="../../io/permazen/SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a>) instance, but none was provided at construction</dd>
</dl>
</li>
</ul>
<a name="getKVDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKVDatabase</h4>
<pre>public&nbsp;<a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a>&nbsp;getKVDatabase()</pre>
<div class="block">Get the associated <a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated <a href="../../io/permazen/kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a></dd>
</dl>
</li>
</ul>
<a name="getDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabase</h4>
<pre>public&nbsp;<a href="../../io/permazen/core/Database.html" title="class in io.permazen.core">Database</a>&nbsp;getDatabase()</pre>
<div class="block">Get the associated <a href="../../io/permazen/core/Database.html" title="class in io.permazen.core"><code>Database</code></a>, if any.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated <a href="../../io/permazen/core/Database.html" title="class in io.permazen.core"><code>Database</code></a> or null if this instance is not in <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>
  or <a href="../../io/permazen/SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a></dd>
</dl>
</li>
</ul>
<a name="getPermazen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermazen</h4>
<pre>public&nbsp;<a href="../../io/permazen/Permazen.html" title="class in io.permazen">Permazen</a>&nbsp;getPermazen()</pre>
<div class="block">Get the associated <a href="../../io/permazen/Permazen.html" title="class in io.permazen"><code>Permazen</code></a>, if any.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated <a href="../../io/permazen/Permazen.html" title="class in io.permazen"><code>Permazen</code></a> or null if this instance is not in <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
</dl>
</li>
</ul>
<a name="getKVTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKVTransaction</h4>
<pre>public&nbsp;<a href="../../io/permazen/kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a>&nbsp;getKVTransaction()</pre>
<div class="block">Get the open <a href="../../io/permazen/kv/KVTransaction.html" title="interface in io.permazen.kv"><code>KVTransaction</code></a> currently associated with this instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the open <a href="../../io/permazen/kv/KVTransaction.html" title="interface in io.permazen.kv"><code>KVTransaction</code></a> in which to do work</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a> is not currently being invoked</dd>
</dl>
</li>
</ul>
<a name="getTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre>public&nbsp;<a href="../../io/permazen/core/Transaction.html" title="class in io.permazen.core">Transaction</a>&nbsp;getTransaction()</pre>
<div class="block">Get the open <a href="../../io/permazen/core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> currently associated with this instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the open <a href="../../io/permazen/core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> in which to do work</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a> is not currently being invoked</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this instance is not in mode <a href="../../io/permazen/SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a> or <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
</dl>
</li>
</ul>
<a name="getJTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJTransaction</h4>
<pre>public&nbsp;<a href="../../io/permazen/JTransaction.html" title="class in io.permazen">JTransaction</a>&nbsp;getJTransaction()</pre>
<div class="block">Get the open <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> currently associated with this instance.

 <p>
 This method just invokes <a href="../../io/permazen/JTransaction.html#getCurrent--"><code>JTransaction.getCurrent()</code></a> and returns the result.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the open <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> in which to do work</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a> is not currently being invoked</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this instance is not in mode <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
</dl>
</li>
</ul>
<a name="getSchemaModel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaModel</h4>
<pre>public&nbsp;<a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;getSchemaModel()</pre>
<div class="block">Get the <a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a> configured for this instance.
 If this is left unconfigured, after the first transaction it will be updated with the schema model actually used.

 <p>
 In <a href="../../io/permazen/SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>, this always returns null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the schema model used by this session if available, otherwise null</dd>
</dl>
</li>
</ul>
<a name="setSchemaModel-io.permazen.schema.SchemaModel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSchemaModel</h4>
<pre>public&nbsp;void&nbsp;setSchemaModel(<a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;schemaModel)</pre>
</li>
</ul>
<a name="getNameIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNameIndex</h4>
<pre>public&nbsp;<a href="../../io/permazen/schema/NameIndex.html" title="class in io.permazen.schema">NameIndex</a>&nbsp;getNameIndex()</pre>
<div class="block">Get the <a href="../../io/permazen/schema/NameIndex.html" title="class in io.permazen.schema"><code>NameIndex</code></a> for this instance's <a href="../../io/permazen/schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name index for the schema model assumed by this session</dd>
</dl>
</li>
</ul>
<a name="getDatabaseDescription--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabaseDescription</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getDatabaseDescription()</pre>
<div class="block">Get a description of the database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a short description of the underlying database</dd>
</dl>
</li>
</ul>
<a name="setDatabaseDescription-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDatabaseDescription</h4>
<pre>public&nbsp;void&nbsp;setDatabaseDescription(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;databaseDescription)</pre>
</li>
</ul>
<a name="getSchemaVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaVersion</h4>
<pre>public&nbsp;int&nbsp;getSchemaVersion()</pre>
<div class="block">Get the schema version associated with this instance.
 If this is left unconfigured, the highest numbered schema version will be
 used and after the first transaction this property will be updated accordingly.

 <p>
 In <a href="../../io/permazen/SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>, this always returns zero.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the schema version used by this session if known, otherwise zero</dd>
</dl>
</li>
</ul>
<a name="setSchemaVersion-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSchemaVersion</h4>
<pre>public&nbsp;void&nbsp;setSchemaVersion(int&nbsp;schemaVersion)</pre>
</li>
</ul>
<a name="getValidationMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidationMode</h4>
<pre>public&nbsp;<a href="../../io/permazen/ValidationMode.html" title="enum in io.permazen">ValidationMode</a>&nbsp;getValidationMode()</pre>
<div class="block">Get the <a href="../../io/permazen/ValidationMode.html" title="enum in io.permazen"><code>ValidationMode</code></a> associated with this instance.
 If this is left unconfigured, <a href="../../io/permazen/ValidationMode.html#AUTOMATIC"><code>ValidationMode.AUTOMATIC</code></a> is used for new transactions.

 <p>
 This property is only relevant in <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the validation mode used by this session</dd>
</dl>
</li>
</ul>
<a name="setValidationMode-io.permazen.ValidationMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValidationMode</h4>
<pre>public&nbsp;void&nbsp;setValidationMode(<a href="../../io/permazen/ValidationMode.html" title="enum in io.permazen">ValidationMode</a>&nbsp;validationMode)</pre>
</li>
</ul>
<a name="isAllowNewSchema--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAllowNewSchema</h4>
<pre>public&nbsp;boolean&nbsp;isAllowNewSchema()</pre>
<div class="block">Get whether the recording of new schema versions should be allowed.
 Default value is false.

 <p>
 In <a href="../../io/permazen/SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>, this setting is ignored.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether this session allows recording a new schema version</dd>
</dl>
</li>
</ul>
<a name="setAllowNewSchema-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllowNewSchema</h4>
<pre>public&nbsp;void&nbsp;setAllowNewSchema(boolean&nbsp;allowNewSchema)</pre>
</li>
</ul>
<a name="isReadOnly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre>public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Get whether new transactions should be marked read-only.
 Default value is false.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether this session creates read-only transactions</dd>
</dl>
</li>
</ul>
<a name="setReadOnly-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnly</h4>
<pre>public&nbsp;void&nbsp;setReadOnly(boolean&nbsp;readOnly)</pre>
</li>
</ul>
<a name="getMaxRetries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxRetries</h4>
<pre>public&nbsp;int&nbsp;getMaxRetries()</pre>
<div class="block">Get the maximum number of allowed retries when a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.

 <p>
 Default value is <a href="../../io/permazen/Session.html#DEFAULT_MAX_RETRIES"><code>DEFAULT_MAX_RETRIES</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum number of retry attempts, or zero if retries are disabled</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>Session.performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a name="setMaxRetries-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxRetries</h4>
<pre>public&nbsp;void&nbsp;setMaxRetries(int&nbsp;maxRetries)</pre>
</li>
</ul>
<a name="getInitialRetryDelay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialRetryDelay</h4>
<pre>public&nbsp;int&nbsp;getInitialRetryDelay()</pre>
<div class="block">Get the initial retry delay when a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.

 <p>
 Default value is <a href="../../io/permazen/Session.html#DEFAULT_INITIAL_RETRY_DELAY"><code>DEFAULT_INITIAL_RETRY_DELAY</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>initial retry delay in milliseconds</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>Session.performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a name="setInitialRetryDelay-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitialRetryDelay</h4>
<pre>public&nbsp;void&nbsp;setInitialRetryDelay(int&nbsp;initialRetryDelay)</pre>
</li>
</ul>
<a name="getMaximumRetryDelay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumRetryDelay</h4>
<pre>public&nbsp;int&nbsp;getMaximumRetryDelay()</pre>
<div class="block">Configure the maximum retry delay when a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.

 <p>
 Default value is <a href="../../io/permazen/Session.html#DEFAULT_MAXIMUM_RETRY_DELAY"><code>DEFAULT_MAXIMUM_RETRY_DELAY</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum retry delay in milliseconds</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>Session.performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a name="setMaximumRetryDelay-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaximumRetryDelay</h4>
<pre>public&nbsp;void&nbsp;setMaximumRetryDelay(int&nbsp;maximumRetryDelay)</pre>
</li>
</ul>
<a name="reportException-java.lang.Exception-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportException</h4>
<pre>protected&nbsp;void&nbsp;reportException(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a>&nbsp;e)</pre>
<div class="block">Handle an exception thrown during an invocation of <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a>.

 <p>
 The implementation in <code>Session</code> logs an error message. Subclasses are encouraged to
 handle errors more gracefully within the context of the associated application.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - exception thrown during <a href="../../io/permazen/Session.html#performSessionAction-io.permazen.Session.Action-"><code>performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a name="performSessionActionWithCurrentTransaction-io.permazen.Session.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performSessionActionWithCurrentTransaction</h4>
<pre>public&nbsp;boolean&nbsp;performSessionActionWithCurrentTransaction(<a href="../../io/permazen/Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</pre>
<div class="block">Associate the current <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> with this instance, if not already associated, while performing the given action.

 <p>
 If <code>action</code> throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang"><code>Exception</code></a>, it will be caught and handled by <a href="../../io/permazen/Session.html#reportException-java.lang.Exception-"><code>reportException()</code></a>
 and then false returned.

 <p>
 This instance must be in <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>, there must be a <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> open and
 <a href="../../io/permazen/JTransaction.html#getCurrent--">associated with the current thread</a>, and this instance must not already
 have a different <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> associated with it (it may already have the same <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a>
 associated with it). The <a href="../../io/permazen/JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> will be left open when this method returns.

 <p>
 This method safely handles re-entrant invocation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - action to perform</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if <code>action</code> completed successfully, false if <code>action</code> threw an exception</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if there is a different open transaction already associated with this instance</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this instance is not in mode <a href="../../io/permazen/SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</li>
</ul>
<a name="performSessionAction-io.permazen.Session.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performSessionAction</h4>
<pre>public&nbsp;boolean&nbsp;performSessionAction(<a href="../../io/permazen/Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</pre>
<div class="block">Perform the given action in the context of this session.

 <p>
 If <code>action</code> is a <a href="../../io/permazen/Session.TransactionalAction.html" title="interface in io.permazen"><code>Session.TransactionalAction</code></a>, and there is no transaction currently associated with this instance,
 a new transaction will be created, held open while <code>action</code> executes, then committed; any transaction options
 from <code>action</code> implementing <a href="../../io/permazen/Session.HasTransactionOptions.html" title="interface in io.permazen"><code>Session.HasTransactionOptions</code></a> will be appied. Otherwise, <code>action</code>
 is just executed directly.

 <p>
 In either case, if <code>action</code> throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang"><code>Exception</code></a>, it will be caught and handled by
 <a href="../../io/permazen/Session.html#reportException-java.lang.Exception-"><code>reportException()</code></a> and then false returned.

 <p>
 If there is already a transaction currently associated with this instance, it is left open while <code>action</code>
 executes and upon return.

 <p>
 If <code>action</code> is a <a href="../../io/permazen/Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a>, and a newly created transaction throws a <a href="../../io/permazen/kv/RetryTransactionException.html" title="class in io.permazen.kv"><code>RetryTransactionException</code></a>,
 it will be retried automatically up to the configured <a href="../../io/permazen/Session.html#getMaxRetries--">maximum number of retry attempts</a>.
 An exponential back-off algorithm is used: after the first failed attempt, the current thread sleeps for the
 <a href="../../io/permazen/Session.html#getInitialRetryDelay--">initial retry delay</a>. After each subsequent failed attempt, the retry delay is doubled,
 up to the limit imposed by the configured <a href="../../io/permazen/Session.html#getMaximumRetryDelay--">maximum retry delay</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - action to perform, possibly within a transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if <code>action</code> completed successfully, false if a transaction could not be created
  or <code>action</code> threw an exception</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</li>
</ul>
<a name="isTransactionOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTransactionOpen</h4>
<pre>public&nbsp;boolean&nbsp;isTransactionOpen()</pre>
<div class="block">Determine whether there is a transaction already associated with this instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a transaction is already open</dd>
</dl>
</li>
</ul>
<a name="setRollbackOnly--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setRollbackOnly</h4>
<pre>public&nbsp;void&nbsp;setRollbackOnly()</pre>
<div class="block">Mark the current transaction to be rolled back.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if there is no transaction associated with this instance</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Session.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../io/permazen/ReferencePath.html" title="class in io.permazen"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../io/permazen/Session.Action.html" title="interface in io.permazen"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?io/permazen/Session.html" target="_top">Frames</a></li>
<li><a href="Session.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2022. All rights reserved.</small></p>
</body>
</html>
