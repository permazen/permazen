<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Session (Permazen 4.2.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Session (Permazen 4.2.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Session.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.permazen</a></div>
<h2 title="Class Session" class="title">Class Session</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.permazen.Session</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="parse/ParseSession.html" title="class in io.permazen.parse">ParseSession</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">Session</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Utility class for programmatic <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> database access.

 <p>
 Instances operate in one of three modes; see <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.

 <p>
 Instances are <b>not</b> thread safe.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Session.Action.html" title="interface in io.permazen">Session.Action</a></span></code></th>
<td class="colLast">
<div class="block">Callback interface used by <a href="#performSessionAction(io.permazen.Session.Action)"><code>Session.performSessionAction()</code></a>
 and <a href="#performSessionActionWithCurrentTransaction(io.permazen.Session.Action)"><code>Session.performSessionActionWithCurrentTransaction()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Session.HasTransactionOptions.html" title="interface in io.permazen">Session.HasTransactionOptions</a></span></code></th>
<td class="colLast">
<div class="block">Interface implemented by <a href="Session.TransactionalAction.html" title="interface in io.permazen"><code>Session.TransactionalAction</code></a>'s that want to provide custom transaction options.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Session.RetryableAction.html" title="interface in io.permazen">Session.RetryableAction</a></span></code></th>
<td class="colLast">
<div class="block">Tagging interface indicating a <a href="Session.TransactionalAction.html" title="interface in io.permazen"><code>Session.TransactionalAction</code></a> that should be retried if a
 <a href="kv/RetryTransactionException.html" title="class in io.permazen.kv"><code>RetryTransactionException</code></a> is thrown.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Session.TransactionalAction.html" title="interface in io.permazen">Session.TransactionalAction</a></span></code></th>
<td class="colLast">
<div class="block">Tagging interface indicating an <a href="Session.Action.html" title="interface in io.permazen"><code>Session.Action</code></a> that requires there to be an open transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_INITIAL_RETRY_DELAY">DEFAULT_INITIAL_RETRY_DELAY</a></span></code></th>
<td class="colLast">
<div class="block">Default value for the <a href="#getInitialRetryDelay()">initial retry delay</a> (in milliseconds).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MAX_RETRIES">DEFAULT_MAX_RETRIES</a></span></code></th>
<td class="colLast">
<div class="block">Default value for the <a href="#getMaxRetries()">maximum number of retry attempts</a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_MAXIMUM_RETRY_DELAY">DEFAULT_MAXIMUM_RETRY_DELAY</a></span></code></th>
<td class="colLast">
<div class="block">Default value for the <a href="#getMaximumRetryDelay()">maximum retry delay</a> (in milliseconds).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://maven.apache.org/ref/3.6.3/apidocs/org/slf4j/Logger.html?is-external=true" title="class or interface in org.slf4j" class="externalLink">Logger</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#log">log</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(io.permazen.core.Database)">Session</a></span>&#8203;(<a href="core/Database.html" title="class in io.permazen.core">Database</a>&nbsp;db)</code></th>
<td class="colLast">
<div class="block">Constructor for <a href="SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(io.permazen.kv.KVDatabase)">Session</a></span>&#8203;(<a href="kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a>&nbsp;kvdb)</code></th>
<td class="colLast">
<div class="block">Constructor for <a href="SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(io.permazen.Permazen)">Session</a></span>&#8203;(<a href="Permazen.html" title="class in io.permazen">Permazen</a>&nbsp;jdb)</code></th>
<td class="colLast">
<div class="block">Constructor for <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="core/Database.html" title="class in io.permazen.core">Database</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDatabase()">getDatabase</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the associated <a href="core/Database.html" title="class in io.permazen.core"><code>Database</code></a>, if any.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDatabaseDescription()">getDatabaseDescription</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a description of the database.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInitialRetryDelay()">getInitialRetryDelay</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the initial retry delay when a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="JTransaction.html" title="class in io.permazen">JTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJTransaction()">getJTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the open <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> currently associated with this instance.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKVDatabase()">getKVDatabase</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the associated <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKVTransaction()">getKVTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the open <a href="kv/KVTransaction.html" title="interface in io.permazen.kv"><code>KVTransaction</code></a> currently associated with this instance.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaximumRetryDelay()">getMaximumRetryDelay</a></span>()</code></th>
<td class="colLast">
<div class="block">Configure the maximum retry delay when a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxRetries()">getMaxRetries</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the maximum number of allowed retries when a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="SessionMode.html" title="enum in io.permazen">SessionMode</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMode()">getMode</a></span>()</code></th>
<td class="colLast">
<div class="block">Get this instance's <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="schema/NameIndex.html" title="class in io.permazen.schema">NameIndex</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNameIndex()">getNameIndex</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the <a href="schema/NameIndex.html" title="class in io.permazen.schema"><code>NameIndex</code></a> for this instance's <a href="schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="Permazen.html" title="class in io.permazen">Permazen</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPermazen()">getPermazen</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the associated <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a>, if any.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSchemaModel()">getSchemaModel</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the <a href="schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a> configured for this instance.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSchemaVersion()">getSchemaVersion</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the schema version associated with this instance.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="core/Transaction.html" title="class in io.permazen.core">Transaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransaction()">getTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the open <a href="core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> currently associated with this instance.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="ValidationMode.html" title="enum in io.permazen">ValidationMode</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValidationMode()">getValidationMode</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the <a href="ValidationMode.html" title="enum in io.permazen"><code>ValidationMode</code></a> associated with this instance.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAllowNewSchema()">isAllowNewSchema</a></span>()</code></th>
<td class="colLast">
<div class="block">Get whether the recording of new schema versions should be allowed.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReadOnly()">isReadOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Get whether new transactions should be marked read-only.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isTransactionOpen()">isTransactionOpen</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether there is a transaction already associated with this instance.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performSessionAction(io.permazen.Session.Action)">performSessionAction</a></span>&#8203;(<a href="Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</code></th>
<td class="colLast">
<div class="block">Perform the given action in the context of this session.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performSessionActionWithCurrentTransaction(io.permazen.Session.Action)">performSessionActionWithCurrentTransaction</a></span>&#8203;(<a href="Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</code></th>
<td class="colLast">
<div class="block">Associate the current <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> with this instance, if not already associated, while performing the given action.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportException(java.lang.Exception)">reportException</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a>&nbsp;e)</code></th>
<td class="colLast">
<div class="block">Handle an exception thrown during an invocation of <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAllowNewSchema(boolean)">setAllowNewSchema</a></span>&#8203;(boolean&nbsp;allowNewSchema)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDatabaseDescription(java.lang.String)">setDatabaseDescription</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;databaseDescription)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setInitialRetryDelay(int)">setInitialRetryDelay</a></span>&#8203;(int&nbsp;initialRetryDelay)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaximumRetryDelay(int)">setMaximumRetryDelay</a></span>&#8203;(int&nbsp;maximumRetryDelay)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxRetries(int)">setMaxRetries</a></span>&#8203;(int&nbsp;maxRetries)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMode(io.permazen.SessionMode)">setMode</a></span>&#8203;(<a href="SessionMode.html" title="enum in io.permazen">SessionMode</a>&nbsp;mode)</code></th>
<td class="colLast">
<div class="block">Change this instance's <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setReadOnly(boolean)">setReadOnly</a></span>&#8203;(boolean&nbsp;readOnly)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRollbackOnly()">setRollbackOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Mark the current transaction to be rolled back.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSchemaModel(io.permazen.schema.SchemaModel)">setSchemaModel</a></span>&#8203;(<a href="schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;schemaModel)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSchemaVersion(int)">setSchemaVersion</a></span>&#8203;(int&nbsp;schemaVersion)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setValidationMode(io.permazen.ValidationMode)">setValidationMode</a></span>&#8203;(<a href="ValidationMode.html" title="enum in io.permazen">ValidationMode</a>&nbsp;validationMode)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_MAX_RETRIES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAX_RETRIES</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_RETRIES</pre>
<div class="block">Default value for the <a href="#getMaxRetries()">maximum number of retry attempts</a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#io.permazen.Session.DEFAULT_MAX_RETRIES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_INITIAL_RETRY_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_INITIAL_RETRY_DELAY</h4>
<pre>public static final&nbsp;int DEFAULT_INITIAL_RETRY_DELAY</pre>
<div class="block">Default value for the <a href="#getInitialRetryDelay()">initial retry delay</a> (in milliseconds).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#io.permazen.Session.DEFAULT_INITIAL_RETRY_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_MAXIMUM_RETRY_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAXIMUM_RETRY_DELAY</h4>
<pre>public static final&nbsp;int DEFAULT_MAXIMUM_RETRY_DELAY</pre>
<div class="block">Default value for the <a href="#getMaximumRetryDelay()">maximum retry delay</a> (in milliseconds).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#io.permazen.Session.DEFAULT_MAXIMUM_RETRY_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected final&nbsp;<a href="https://maven.apache.org/ref/3.6.3/apidocs/org/slf4j/Logger.html?is-external=true" title="class or interface in org.slf4j" class="externalLink">Logger</a> log</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(io.permazen.kv.KVDatabase)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Session</h4>
<pre>public&nbsp;Session&#8203;(<a href="kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a>&nbsp;kvdb)</pre>
<div class="block">Constructor for <a href="SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kvdb</code> - key/value database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>kvdb</code> is null</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(io.permazen.core.Database)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Session</h4>
<pre>public&nbsp;Session&#8203;(<a href="core/Database.html" title="class in io.permazen.core">Database</a>&nbsp;db)</pre>
<div class="block">Constructor for <a href="SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - core database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>db</code> is null</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(io.permazen.Permazen)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Session</h4>
<pre>public&nbsp;Session&#8203;(<a href="Permazen.html" title="class in io.permazen">Permazen</a>&nbsp;jdb)</pre>
<div class="block">Constructor for <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jdb</code> - database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>jdb</code> is null</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMode</h4>
<pre class="methodSignature">public&nbsp;<a href="SessionMode.html" title="enum in io.permazen">SessionMode</a>&nbsp;getMode()</pre>
<div class="block">Get this instance's <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this instance's <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</dd>
</dl>
</li>
</ul>
<a id="setMode(io.permazen.SessionMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMode</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMode&#8203;(<a href="SessionMode.html" title="enum in io.permazen">SessionMode</a>&nbsp;mode)</pre>
<div class="block">Change this instance's <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - new <a href="SessionMode.html" title="enum in io.permazen"><code>SessionMode</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>mode</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>mode</code> requires a <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> (i.e., <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>),
  or <a href="core/Database.html" title="class in io.permazen.core"><code>Database</code></a> (i.e., <a href="SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a>) instance, but none was provided at construction</dd>
</dl>
</li>
</ul>
<a id="getKVDatabase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKVDatabase</h4>
<pre class="methodSignature">public&nbsp;<a href="kv/KVDatabase.html" title="interface in io.permazen.kv">KVDatabase</a>&nbsp;getKVDatabase()</pre>
<div class="block">Get the associated <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated <a href="kv/KVDatabase.html" title="interface in io.permazen.kv"><code>KVDatabase</code></a></dd>
</dl>
</li>
</ul>
<a id="getDatabase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabase</h4>
<pre class="methodSignature">public&nbsp;<a href="core/Database.html" title="class in io.permazen.core">Database</a>&nbsp;getDatabase()</pre>
<div class="block">Get the associated <a href="core/Database.html" title="class in io.permazen.core"><code>Database</code></a>, if any.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated <a href="core/Database.html" title="class in io.permazen.core"><code>Database</code></a> or null if this instance is not in <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>
  or <a href="SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a></dd>
</dl>
</li>
</ul>
<a id="getPermazen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermazen</h4>
<pre class="methodSignature">public&nbsp;<a href="Permazen.html" title="class in io.permazen">Permazen</a>&nbsp;getPermazen()</pre>
<div class="block">Get the associated <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a>, if any.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the associated <a href="Permazen.html" title="class in io.permazen"><code>Permazen</code></a> or null if this instance is not in <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
</dl>
</li>
</ul>
<a id="getKVTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKVTransaction</h4>
<pre class="methodSignature">public&nbsp;<a href="kv/KVTransaction.html" title="interface in io.permazen.kv">KVTransaction</a>&nbsp;getKVTransaction()</pre>
<div class="block">Get the open <a href="kv/KVTransaction.html" title="interface in io.permazen.kv"><code>KVTransaction</code></a> currently associated with this instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the open <a href="kv/KVTransaction.html" title="interface in io.permazen.kv"><code>KVTransaction</code></a> in which to do work</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a> is not currently being invoked</dd>
</dl>
</li>
</ul>
<a id="getTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre class="methodSignature">public&nbsp;<a href="core/Transaction.html" title="class in io.permazen.core">Transaction</a>&nbsp;getTransaction()</pre>
<div class="block">Get the open <a href="core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> currently associated with this instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the open <a href="core/Transaction.html" title="class in io.permazen.core"><code>Transaction</code></a> in which to do work</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a> is not currently being invoked</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if this instance is not in mode <a href="SessionMode.html#CORE_API"><code>SessionMode.CORE_API</code></a> or <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
</dl>
</li>
</ul>
<a id="getJTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJTransaction</h4>
<pre class="methodSignature">public&nbsp;<a href="JTransaction.html" title="class in io.permazen">JTransaction</a>&nbsp;getJTransaction()</pre>
<div class="block">Get the open <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> currently associated with this instance.

 <p>
 This method just invokes <a href="JTransaction.html#getCurrent()"><code>JTransaction.getCurrent()</code></a> and returns the result.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the open <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> in which to do work</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a> is not currently being invoked</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if this instance is not in mode <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
</dl>
</li>
</ul>
<a id="getSchemaModel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaModel</h4>
<pre class="methodSignature">public&nbsp;<a href="schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;getSchemaModel()</pre>
<div class="block">Get the <a href="schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a> configured for this instance.
 If this is left unconfigured, after the first transaction it will be updated with the schema model actually used.

 <p>
 In <a href="SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>, this always returns null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the schema model used by this session if available, otherwise null</dd>
</dl>
</li>
</ul>
<a id="setSchemaModel(io.permazen.schema.SchemaModel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSchemaModel</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSchemaModel&#8203;(<a href="schema/SchemaModel.html" title="class in io.permazen.schema">SchemaModel</a>&nbsp;schemaModel)</pre>
</li>
</ul>
<a id="getNameIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNameIndex</h4>
<pre class="methodSignature">public&nbsp;<a href="schema/NameIndex.html" title="class in io.permazen.schema">NameIndex</a>&nbsp;getNameIndex()</pre>
<div class="block">Get the <a href="schema/NameIndex.html" title="class in io.permazen.schema"><code>NameIndex</code></a> for this instance's <a href="schema/SchemaModel.html" title="class in io.permazen.schema"><code>SchemaModel</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name index for the schema model assumed by this session</dd>
</dl>
</li>
</ul>
<a id="getDatabaseDescription()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabaseDescription</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getDatabaseDescription()</pre>
<div class="block">Get a description of the database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a short description of the underlying database</dd>
</dl>
</li>
</ul>
<a id="setDatabaseDescription(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDatabaseDescription</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDatabaseDescription&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;databaseDescription)</pre>
</li>
</ul>
<a id="getSchemaVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaVersion</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getSchemaVersion()</pre>
<div class="block">Get the schema version associated with this instance.
 If this is left unconfigured, the highest numbered schema version will be
 used and after the first transaction this property will be updated accordingly.

 <p>
 In <a href="SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>, this always returns zero.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the schema version used by this session if known, otherwise zero</dd>
</dl>
</li>
</ul>
<a id="setSchemaVersion(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSchemaVersion</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSchemaVersion&#8203;(int&nbsp;schemaVersion)</pre>
</li>
</ul>
<a id="getValidationMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidationMode</h4>
<pre class="methodSignature">public&nbsp;<a href="ValidationMode.html" title="enum in io.permazen">ValidationMode</a>&nbsp;getValidationMode()</pre>
<div class="block">Get the <a href="ValidationMode.html" title="enum in io.permazen"><code>ValidationMode</code></a> associated with this instance.
 If this is left unconfigured, <a href="ValidationMode.html#AUTOMATIC"><code>ValidationMode.AUTOMATIC</code></a> is used for new transactions.

 <p>
 This property is only relevant in <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the validation mode used by this session</dd>
</dl>
</li>
</ul>
<a id="setValidationMode(io.permazen.ValidationMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValidationMode</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setValidationMode&#8203;(<a href="ValidationMode.html" title="enum in io.permazen">ValidationMode</a>&nbsp;validationMode)</pre>
</li>
</ul>
<a id="isAllowNewSchema()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAllowNewSchema</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isAllowNewSchema()</pre>
<div class="block">Get whether the recording of new schema versions should be allowed.
 Default value is false.

 <p>
 In <a href="SessionMode.html#KEY_VALUE"><code>SessionMode.KEY_VALUE</code></a>, this setting is ignored.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether this session allows recording a new schema version</dd>
</dl>
</li>
</ul>
<a id="setAllowNewSchema(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllowNewSchema</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setAllowNewSchema&#8203;(boolean&nbsp;allowNewSchema)</pre>
</li>
</ul>
<a id="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isReadOnly()</pre>
<div class="block">Get whether new transactions should be marked read-only.
 Default value is false.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether this session creates read-only transactions</dd>
</dl>
</li>
</ul>
<a id="setReadOnly(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnly</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setReadOnly&#8203;(boolean&nbsp;readOnly)</pre>
</li>
</ul>
<a id="getMaxRetries()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxRetries</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMaxRetries()</pre>
<div class="block">Get the maximum number of allowed retries when a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.

 <p>
 Default value is <a href="#DEFAULT_MAX_RETRIES"><code>DEFAULT_MAX_RETRIES</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum number of retry attempts, or zero if retries are disabled</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#performSessionAction(io.permazen.Session.Action)"><code>Session.performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a id="setMaxRetries(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxRetries</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMaxRetries&#8203;(int&nbsp;maxRetries)</pre>
</li>
</ul>
<a id="getInitialRetryDelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialRetryDelay</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getInitialRetryDelay()</pre>
<div class="block">Get the initial retry delay when a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.

 <p>
 Default value is <a href="#DEFAULT_INITIAL_RETRY_DELAY"><code>DEFAULT_INITIAL_RETRY_DELAY</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>initial retry delay in milliseconds</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#performSessionAction(io.permazen.Session.Action)"><code>Session.performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a id="setInitialRetryDelay(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitialRetryDelay</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setInitialRetryDelay&#8203;(int&nbsp;initialRetryDelay)</pre>
</li>
</ul>
<a id="getMaximumRetryDelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumRetryDelay</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMaximumRetryDelay()</pre>
<div class="block">Configure the maximum retry delay when a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a> is given to
 <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.

 <p>
 Default value is <a href="#DEFAULT_MAXIMUM_RETRY_DELAY"><code>DEFAULT_MAXIMUM_RETRY_DELAY</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum retry delay in milliseconds</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#performSessionAction(io.permazen.Session.Action)"><code>Session.performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a id="setMaximumRetryDelay(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaximumRetryDelay</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMaximumRetryDelay&#8203;(int&nbsp;maximumRetryDelay)</pre>
</li>
</ul>
<a id="reportException(java.lang.Exception)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportException</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportException&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a>&nbsp;e)</pre>
<div class="block">Handle an exception thrown during an invocation of <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a>.

 <p>
 The implementation in <code>Session</code> logs an error message. Subclasses are encouraged to
 handle errors more gracefully within the context of the associated application.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - exception thrown during <a href="#performSessionAction(io.permazen.Session.Action)"><code>performSessionAction()</code></a></dd>
</dl>
</li>
</ul>
<a id="performSessionActionWithCurrentTransaction(io.permazen.Session.Action)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performSessionActionWithCurrentTransaction</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;performSessionActionWithCurrentTransaction&#8203;(<a href="Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</pre>
<div class="block">Associate the current <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> with this instance, if not already associated, while performing the given action.

 <p>
 If <code>action</code> throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Exception</code></a>, it will be caught and handled by <a href="#reportException(java.lang.Exception)"><code>reportException()</code></a>
 and then false returned.

 <p>
 This instance must be in <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a>, there must be a <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> open and
 <a href="JTransaction.html#getCurrent()">associated with the current thread</a>, and this instance must not already
 have a different <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> associated with it (it may already have the same <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a>
 associated with it). The <a href="JTransaction.html" title="class in io.permazen"><code>JTransaction</code></a> will be left open when this method returns.

 <p>
 This method safely handles re-entrant invocation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - action to perform</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if <code>action</code> completed successfully, false if <code>action</code> threw an exception</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if there is a different open transaction already associated with this instance</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if this instance is not in mode <a href="SessionMode.html#PERMAZEN"><code>SessionMode.PERMAZEN</code></a></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</li>
</ul>
<a id="performSessionAction(io.permazen.Session.Action)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performSessionAction</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;performSessionAction&#8203;(<a href="Session.Action.html" title="interface in io.permazen">Session.Action</a>&nbsp;action)</pre>
<div class="block">Perform the given action in the context of this session.

 <p>
 If <code>action</code> is a <a href="Session.TransactionalAction.html" title="interface in io.permazen"><code>Session.TransactionalAction</code></a>, and there is no transaction currently associated with this instance,
 a new transaction will be created, held open while <code>action</code> executes, then committed; any transaction options
 from <code>action</code> implementing <a href="Session.HasTransactionOptions.html" title="interface in io.permazen"><code>Session.HasTransactionOptions</code></a> will be appied. Otherwise, <code>action</code>
 is just executed directly.

 <p>
 In either case, if <code>action</code> throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Exception</code></a>, it will be caught and handled by
 <a href="#reportException(java.lang.Exception)"><code>reportException()</code></a> and then false returned.

 <p>
 If there is already a transaction currently associated with this instance, it is left open while <code>action</code>
 executes and upon return.

 <p>
 If <code>action</code> is a <a href="Session.RetryableAction.html" title="interface in io.permazen"><code>Session.RetryableAction</code></a>, and a newly created transaction throws a <a href="kv/RetryTransactionException.html" title="class in io.permazen.kv"><code>RetryTransactionException</code></a>,
 it will be retried automatically up to the configured <a href="#getMaxRetries()">maximum number of retry attempts</a>.
 An exponential back-off algorithm is used: after the first failed attempt, the current thread sleeps for the
 <a href="#getInitialRetryDelay()">initial retry delay</a>. After each subsequent failed attempt, the retry delay is doubled,
 up to the limit imposed by the configured <a href="#getMaximumRetryDelay()">maximum retry delay</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - action to perform, possibly within a transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if <code>action</code> completed successfully, false if a transaction could not be created
  or <code>action</code> threw an exception</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>action</code> is null</dd>
</dl>
</li>
</ul>
<a id="isTransactionOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTransactionOpen</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isTransactionOpen()</pre>
<div class="block">Determine whether there is a transaction already associated with this instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a transaction is already open</dd>
</dl>
</li>
</ul>
<a id="setRollbackOnly()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setRollbackOnly</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRollbackOnly()</pre>
<div class="block">Mark the current transaction to be rolled back.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if there is no transaction associated with this instance</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Session.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</body>
</html>
