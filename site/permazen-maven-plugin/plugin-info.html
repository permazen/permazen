<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from org.apache.maven.plugins:maven-plugin-plugin:3.6.0:report at 2022-04-18

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>Permazen Maven Plugin &#x2013; Plugin Documentation</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">Permazen Maven Plugin
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-04-18</span>
          &#xA0;| <span id="projectVersion">Version: 4.1.9</span>
      </div>
      <div class="xright"><a href="./" title="Permazen Maven Plugin">Permazen Maven Plugin</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Parent Project</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Permazen">Permazen</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="expanded"><a href="project-reports.html" title="Project Reports">Project Reports</a>
      <ul>
       <li class="none"><strong>Plugin Documentation</strong></li>
      </ul></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="Plugin_Documentation"></a>Plugin Documentation</h2><a name="Plugin_Documentation"></a>
<p>Goals available for this plugin:</p>
<table border="0" class="bodyTable">
<tr class="a">
<th>Goal</th>
<th>Description</th></tr>
<tr class="b">
<td><a href="generate-mojo.html">permazen:generate</a></td>
<td>Generates a schema XML file from a set of Permazen model classes. 
<p>Such a file can be used to detect schema changes that require a
new schema version number as Java model classes are modified over
time.</p></td></tr>
<tr class="a">
<td><a href="help-mojo.html">permazen:help</a></td>
<td>Display help information on permazen-maven-plugin.<br />
Call <code>mvn permazen:help -Ddetail=true
-Dgoal=&lt;goal-name&gt;</code> to display parameter details.</td></tr>
<tr class="b">
<td><a href="verify-mojo.html">permazen:verify</a></td>
<td>Verify the Permazen schema auto-generated from user-supplied model
classes. 
<p>This goal verifies that the Permazen schema can be successfully
auto-generated from user-supplied model classes. It also checks
that the schema will not lead to any
<code>SchemaMismatchException</code>s at runtime.</p>
<p>Such exceptions occur when either:</p>
<ul>
<li>There is already a schema recorded in the database under the
configured schema version, but the current schema version is not
compatible with it; or</li>
<li>The current schema version conflicts with one or more other
schema versions recorded in the database, e.g., because an indexed
field has changed its type.</li>
</ul>
<p>The first case is detected by having an expected schema XML
file. This file should correspond to the project's current schema
version, and is is used to verify that the schema auto-generated
from the project's model classes is still "same version" compatible
with this schema version, ensuring no mismatch error will occur at
runtime. In other words, the actual schema generated from the
compiled classes is verified to match what is expected, which is
recorded in this file. The current expected schema XML file
location is configured by
<code>&lt;expectedSchemaFile&gt;</code>;</p>
<p>The second case it detected by supplying XML files containing
any old schema versions that are still active in the old schema
files directory. All files ending in <code>.xml</code> found
anywhere under this directory are checked for "different version"
incompatibilities with the current schema version. The old schema
XML files directory is configured by
<code>&lt;oldSchemasDirectory&gt;</code>.</p>
<p>If this goal fails due to an incompatibility of the first
type:</p>
<ul>
<li>The old expected schema XML file should be moved into the old
schemas directory;</li>
<li>the new expected schema XML file (found in the location
configured by <code>&lt;actualSchemaFile&gt;</code>) should be
copied to the current expected schema XML file;</li>
<li>Any manually configured Permazen schema version number should
be incremented.</li>
</ul>
<p>If this goal fails due to an incompatibility of the second type,
you must adjust your model classes to make them compatible again.
For example, manually reassign a conflicting field a different
<code>name()</code> or <code>storageId()</code> using the
<code>JField</code> annotation.</p></td></tr></table><section>
<h3><a name="System_Requirements"></a>System Requirements</h3><a name="System_Requirements"></a>
<p>The following specifies the minimum requirements to run this Maven plugin:</p>
<table border="0" class="bodyTable">
<tr class="a">
<td>Maven</td>
<td>2.0</td></tr>
<tr class="b">
<td>JDK</td>
<td>1.8</td></tr>
<tr class="a">
<td>Memory</td>
<td>No minimum requirement.</td></tr>
<tr class="b">
<td>Disk Space</td>
<td>No minimum requirement.</td></tr></table></section><section>
<h3><a name="Usage"></a>Usage</h3><a name="Usage"></a>
<p>You should specify the version in your project's plugin configuration:</p>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;!-- To define the plugin version in your parent POM --&gt;
    &lt;pluginManagement&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;groupId&gt;io.permazen&lt;/groupId&gt;
          &lt;artifactId&gt;permazen-maven-plugin&lt;/artifactId&gt;
          &lt;version&gt;4.1.9&lt;/version&gt;
        &lt;/plugin&gt;
        ...
      &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
    &lt;!-- To use the plugin goals in your POM or parent POM --&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;io.permazen&lt;/groupId&gt;
        &lt;artifactId&gt;permazen-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;4.1.9&lt;/version&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre></div>
<p>For more information, see <a class="externalLink" href="http://maven.apache.org/guides/mini/guide-configuring-plugins.html">&quot;Guide to Configuring Plug-ins&quot;</a></p></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2022..      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
