<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Tue Oct 29 16:30:58 CDT 2013 -->
<title>org.dellroad.stuff.schema (Java Class Library API)</title>
<meta name="date" content="2013-10-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.dellroad.stuff.schema (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/pobj/vaadin/package-summary.html">Prev Package</a></li>
<li><a href="../../../../org/dellroad/stuff/servlet/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/schema/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.dellroad.stuff.schema</h1>
<div class="docSummary">
<div class="block">Classes supporting automated database schema management.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema">DatabaseAction</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Database action interface.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema">SchemaUpdate</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">A one-time database schema update.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdate.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdate</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Support superclass for <a href="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><code>SchemaUpdate</code></a> implementations with standard bean property implementations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;D,T&gt;</td>
<td class="colLast">
<div class="block">Handles the initialization and schema maintenance of a database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/AbstractSpringSchemaUpdate.html" title="class in org.dellroad.stuff.schema">AbstractSpringSchemaUpdate</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Support superclass for <a href="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><code>SchemaUpdate</code></a>s declared in Spring <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/BeanFactory.html?is-external=true" title="class or interface in org.springframework.beans.factory"><code>BeanFactory</code></a>s that infer their
 names and required predecessors from their Spring bean attributes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/AbstractUpdatingDataSource.html" title="class in org.dellroad.stuff.schema">AbstractUpdatingDataSource</a></td>
<td class="colLast">
<div class="block">A <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> that wraps an inner <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> and automatically performs some update
 operation on the inner <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> on first access.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SchemaUpdateEdgeLister.html" title="class in org.dellroad.stuff.schema">SchemaUpdateEdgeLister</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block"><a href="../../../../org/dellroad/stuff/graph/TopologicalSorter.EdgeLister.html" title="interface in org.dellroad.stuff.graph"><code>TopologicalSorter.EdgeLister</code></a> implementation reflecting <a href="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><code>SchemaUpdate</code></a> predecessor constraints.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SchemaUpdatingDataSource.html" title="class in org.dellroad.stuff.schema">SchemaUpdatingDataSource</a></td>
<td class="colLast">
<div class="block">A <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> that wraps an inner <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> and automatically intializes and updates
 the database schema using a <a href="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>SQLSchemaUpdater</code></a> on first access.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SpringSQLSchemaUpdate.html" title="class in org.dellroad.stuff.schema">SpringSQLSchemaUpdate</a></td>
<td class="colLast">
<div class="block">Spring-enabled SQL <a href="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><code>SchemaUpdate</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SpringSQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema">SpringSQLSchemaUpdater</a></td>
<td class="colLast">
<div class="block"><a href="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>SQLSchemaUpdater</code></a> optimized for use with Spring.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SQLCommand.html" title="class in org.dellroad.stuff.schema">SQLCommand</a></td>
<td class="colLast">
<div class="block">An SQL <a href="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema"><code>DatabaseAction</code></a> that executes a single SQL statement.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</a></td>
<td class="colLast">
<div class="block">Holds and executes a configured SQL script, possibly containing multiple statements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema">SQLSchemaUpdater</a></td>
<td class="colLast">
<div class="block">Concrete extension of <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>AbstractSchemaUpdater</code></a> for SQL databases.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/UpdatingDataSource.html" title="class in org.dellroad.stuff.schema">UpdatingDataSource</a></td>
<td class="colLast">
<div class="block">A <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> that wraps an inner <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> and automatically applies a configured
 <a href="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema"><code>SQLCommandList</code></a> on first access.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/dellroad/stuff/schema/UnrecognizedUpdateException.html" title="class in org.dellroad.stuff.schema">UnrecognizedUpdateException</a></td>
<td class="colLast">
<div class="block">Exception thrown by a <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeAndUpdateDatabase(D)"><code>AbstractSchemaUpdater.initializeAndUpdateDatabase(D)</code></a> when it encounters
 one or more recorded updates that are not recognized.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.dellroad.stuff.schema Description">Package org.dellroad.stuff.schema Description</h2>
<div class="block">Classes supporting automated database schema management.

 <p>
 Features include:
  <ul>
  <li>Automatic initialization of the database schema when the application runs for the first time</li>
  <li>Automatic application of database schema updates as needed during each application startup cycle</li>
  <li>Automated tracking and constraint-based ordering of schema updates supporting multiple code branches</li>
  <li>Integration with <a href="http://www.springframework.org/">Spring</a> allowing simple XML declaration of updates</li>
  <li>An <a href="http://ant.apache.org/">ant</a> task that verifies schema update correctness</li>
  </ul>
 </p>

 <p>
 See <a href="../../../../org/dellroad/stuff/schema/SpringSQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>SpringSQLSchemaUpdater</code></a> for an example of how to declare your
 <a href="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><code>DataSource</code></a> and associated schema updates in a Spring application context.
 </p>

 <p>
 Updates may have ordering constraints, and these should be declared explicitly. Once you have done so, then
 you may safely "cherry pick" individual schema updates for merging into different code branches without worrying
 whether the schema will get messed up, because any ordering constraint violations will be detected automatically.
 This verification step is required to detect inconsistencies between the updates and the current code.
 </p>

 <p>
 See DellRoad Stuff's <a href="/svn/trunk/src/build/macros.xml">ant macros</a> for the <code>schemacheck</code>
 ant macro that can be used to verify that your delcared schema updates, when applied to the original schema,
 yield the expected result (which is typically generated automatically by your schema generation tool from
 your current code). It is also a good idea to compare your generated shema matches to an expected result
 during each build to detect schema changes caused by e.g., inadvertent changes to model classes.
 </p>

 <p>
 The central classes are <a href="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>SQLSchemaUpdater</code></a> and
 <a href="../../../../org/dellroad/stuff/schema/SpringSQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>SpringSQLSchemaUpdater</code></a>.
 </p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/pobj/vaadin/package-summary.html">Prev Package</a></li>
<li><a href="../../../../org/dellroad/stuff/servlet/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/schema/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
