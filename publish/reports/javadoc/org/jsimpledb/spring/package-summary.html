<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>org.jsimpledb.spring (Java Class Library API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.jsimpledb.spring (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jsimpledb/schema/package-summary.html">Prev Package</a></li>
<li><a href="../../../org/jsimpledb/tuple/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jsimpledb/spring/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.jsimpledb.spring</h1>
<div class="docSummary">
<div class="block">Spring Framework integration classes.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/AnnotatedClassScanner.html" title="class in org.jsimpledb.spring">AnnotatedClassScanner</a></td>
<td class="colLast">
<div class="block">Scans the classpath for classes having one or more configured type annotations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/JSimpleDBClassScanner.html" title="class in org.jsimpledb.spring">JSimpleDBClassScanner</a></td>
<td class="colLast">
<div class="block">Scans the classpath for types annotated as <a href="../../../org/jsimpledb/annotation/JSimpleClass.html" title="annotation in org.jsimpledb.annotation"><code>&#64;JSimpleClass</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/JSimpleDBExceptionTranslator.html" title="class in org.jsimpledb.spring">JSimpleDBExceptionTranslator</a></td>
<td class="colLast">
<div class="block">JSimpleDB implementation of Spring's <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/dao/support/PersistenceExceptionTranslator.html?is-external=true" title="class or interface in org.springframework.dao.support"><code>PersistenceExceptionTranslator</code></a> interface.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/JSimpleDBFieldTypeScanner.html" title="class in org.jsimpledb.spring">JSimpleDBFieldTypeScanner</a></td>
<td class="colLast">
<div class="block">Scans the classpath for types annotated as <a href="../../../org/jsimpledb/annotation/JFieldType.html" title="annotation in org.jsimpledb.annotation"><code>&#64;JFieldType</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/JSimpleDBNamespaceHandler.html" title="class in org.jsimpledb.spring">JSimpleDBNamespaceHandler</a></td>
<td class="colLast">
<div class="block">Spring <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/beans/factory/xml/NamespaceHandler.html?is-external=true" title="class or interface in org.springframework.beans.factory.xml"><code>NamespaceHandler</code></a>
 for the <code>jsimpledb</code> XML namespace.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/JSimpleDBTransactionManager.html" title="class in org.jsimpledb.spring">JSimpleDBTransactionManager</a></td>
<td class="colLast">
<div class="block">JSimpleDB implementation of Spring's
 <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html?is-external=true" title="class or interface in org.springframework.transaction"><code>PlatformTransactionManager</code></a> interface,
 allowing methods annotated with Spring's <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/transaction/annotation/Transactional.html?is-external=true" title="class or interface in org.springframework.transaction.annotation"><code>&#64;Transactional</code></a>
 annotation to perform transactions on a <a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/JSimpleDBTransactionManager.TransactionSynchronizationCallback.html" title="class in org.jsimpledb.spring">JSimpleDBTransactionManager.TransactionSynchronizationCallback</a></td>
<td class="colLast">
<div class="block">Adapter class that wraps a Spring <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/transaction/support/TransactionSynchronization.html?is-external=true" title="class or interface in org.springframework.transaction.support"><code>TransactionSynchronization</code></a> in the
 <a href="../../../org/jsimpledb/core/Transaction.Callback.html" title="interface in org.jsimpledb.core"><code>Transaction.Callback</code></a> interface.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/OpenTransactionInViewFilter.html" title="class in org.jsimpledb.spring">OpenTransactionInViewFilter</a></td>
<td class="colLast">
<div class="block">A servlet <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html?is-external=true" title="class or interface in javax.servlet"><code>Filter</code></a> binds a <a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> <a href="../../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> to the current thread
 for the entire processing of the request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jsimpledb/spring/SpringXMLKVDatabase.html" title="class in org.jsimpledb.spring">SpringXMLKVDatabase</a></td>
<td class="colLast">
<div class="block"><a href="../../../org/jsimpledb/kv/simple/XMLKVDatabase.html" title="class in org.jsimpledb.kv.simple"><code>XMLKVDatabase</code></a> that adds support for loading the default initial content from any Spring <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/core/io/Resource.html?is-external=true" title="class or interface in org.springframework.core.io"><code>Resource</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.jsimpledb.spring Description">Package org.jsimpledb.spring Description</h2>
<div class="block">Spring Framework integration classes.

 <p><b>Overview</b></p>

 <p>
 This package provides the following features to facilitate use with
 <a href="http://projects.spring.io/spring-framework/">Spring</a>:
 <ul>
  <li>Custom XML tags for Spring declarative XML (see below)</li>
  <li>A Spring <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/transaction/PlatformTransactionManager.html?is-external=true" title="class or interface in org.springframework.transaction"><code>PlatformTransactionManager</code></a> that integrates
      into Spring's transaction infrastructure and enables the
      <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/transaction/annotation/Transactional.html?is-external=true" title="class or interface in org.springframework.transaction.annotation"><code>&#64;Transactional</code></a> annotation for
      <a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> transactions.</li>
  <li>A <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/dao/support/PersistenceExceptionTranslator.html?is-external=true" title="class or interface in org.springframework.dao.support"><code>PersistenceExceptionTranslator</code></a>
      <a href="../../../org/jsimpledb/spring/JSimpleDBExceptionTranslator.html" title="class in org.jsimpledb.spring">implementation</a> suitable for use with JSimpleDB</li>
  <li><a href="../../../org/jsimpledb/spring/OpenTransactionInViewFilter.html" title="class in org.jsimpledb.spring"><code>OpenTransactionInViewFilter</code></a>, which allows <a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a>
      transactions to span an entire web request.</li>
 </ul>

 <p><b>JSimpleDB XML Tags</b></p>

 <p>
 JSimpleDB makes available the following XML tags to Spring declarative XML. All elements live in the
 <code>http://jsimpledb.googlecode.com/schema/jsimpledb</code> XML namespace:
 </p>

 <div style="margin-left: 20px;">
 <table border="1" cellpadding="3" cellspacing="0" summary="Supported Elements">
 <tr style="bgcolor:#ccffcc">
  <th align="left">Element</th>
  <th align="left">Description</th>
 </tr>
 <tr>
  <td><code>&lt;jsimpledb:scan-classes&gt;</code></td>
  <td>Works just like Spring's <code>&lt;context:component-scan&gt;</code> but finds
      <a href="../../../org/jsimpledb/annotation/JSimpleClass.html" title="annotation in org.jsimpledb.annotation"><code>&#64;JSimpleClass</code></a>-annotated Java model classes.
      Returns the classes found in a <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><code>List</code></a>.</td>
 </tr>
 <tr>
  <td><code>&lt;jsimpledb:scan-field-types&gt;</code></td>
  <td>Works just like Spring's <code>&lt;context:component-scan&gt;</code> but finds
      <a href="../../../org/jsimpledb/annotation/JFieldType.html" title="annotation in org.jsimpledb.annotation"><code>&#64;JFieldType</code></a>-annotated custom <a href="../../../org/jsimpledb/core/FieldType.html" title="class in org.jsimpledb.core"><code>FieldType</code></a> classes.
      Returns the classes found in a <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><code>List</code></a>.</td>
 </tr>
 <tr>
  <td><code>&lt;jsimpledb:jsimpledb&gt;</code></td>
  <td>Simplifies defining and configuring a <a href="../../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> database.</td>
 </tr>
 </table>
 </div>

 <p>
 The <code>&lt;jsimpledb:jsimpledb&gt;</code> element requires a nested <code>&lt;jsimpledb:scan-classes&gt;</code> element to configure
 the Java model classes. A nested <code>&lt;jsimpledb:scan-field-types&gt;</code> may also be included.
 The <code>&lt;jsimpledb:jsimpledb&gt;</code> element supports the following attributes:
 </p>

 <div style="margin-left: 20px;">
 <table border="1" cellpadding="3" cellspacing="0" summary="Supported Attributes">
 <tr style="bgcolor:#ccffcc">
  <th align="left">Attribute</th>
  <th align="left">Type</th>
  <th align="left">Required?</th>
  <th align="left">Description</th>
 </tr>
 <tr>
  <td><code>kvstore</code></td>
  <td>Bean reference</td>
  <td>Yes</td>
  <td>The underlying key/value store database. This should be the name of a Spring bean that implements
      the <a href="../../../org/jsimpledb/kv/KVDatabase.html" title="interface in org.jsimpledb.kv"><code>KVDatabase</code></a> interface</td>
 </tr>
 <tr>
  <td><code>schema-version</code></td>
  <td>Integer</td>
  <td>No</td>
  <td>The schema version corresponding to the configured Java model classes. A value of zero (the default)
      means to use whatever is the highest schema version already recorded in the database.</td>
 </tr>
 <tr>
  <td><code>storage-id-generator</code></td>
  <td>Bean reference</td>
  <td>No</td>
  <td>To use a custom <a href="../../../org/jsimpledb/StorageIdGenerator.html" title="interface in org.jsimpledb"><code>StorageIdGenerator</code></a>, specify the name of a Spring bean that
      implements the <a href="../../../org/jsimpledb/StorageIdGenerator.html" title="interface in org.jsimpledb"><code>StorageIdGenerator</code></a> interface. By default, a
      <a href="../../../org/jsimpledb/DefaultStorageIdGenerator.html" title="class in org.jsimpledb"><code>DefaultStorageIdGenerator</code></a> is used. If this attribute is set, then
      <code>auto-generate-storage-ids</code> must not be set to false.</td>
 </tr>
 <tr>
  <td><code>auto-generate-storage-ids</code></td>
  <td>Boolean</td>
  <td>No</td>
  <td>Whether to auto-generate storage ID's. Default is true</td>
 </tr>
 </table>
 </div>

 <p>
 An example Spring XML configuration using an in-memory key/value store and supporting Spring's
 <a href="http://docs.spring.io/spring/docs/4.1.x/javadoc-api/org/springframework/transaction/annotation/Transactional.html?is-external=true" title="class or interface in org.springframework.transaction.annotation"><code>&#64;Transactional</code></a> annotation:
 <pre>
 &lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   <b>xmlns:jsimpledb="http://jsimpledb.googlecode.com/schema/jsimpledb"</b>
   xmlns:tx="http://www.springframework.org/schema/tx"
   xmlns:p="http://www.springframework.org/schema/p"
   xmlns:c="http://www.springframework.org/schema/c"
   xsi:schemaLocation="
      <b>http://jsimpledb.googlecode.com/schema/jsimpledb
        http://archiecobbs.github.io/jsimpledb/src/java/org/jsimpledb/spring/jsimpledb-1.0.xsd</b>
      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt;

     &lt;!-- Define the underlying key/value database --&gt;
     &lt;bean id="kvdb" class="org.jsimpledb.kv.simple.SimpleKVDatabase" p:waitTimeout="5000" p:holdTimeout="10000"/&gt;

     &lt;!-- Define the JSimpleDB database on top of that --&gt;
     &lt;<b>jsimpledb:jsimpledb</b> id="jsimpledb" kvstore="kvdb" schema-version="1"&gt;

         &lt;!-- These are our Java model classes --&gt;
         &lt;<b>jsimpledb:scan-classes</b> base-package="com.example.myapp"&gt;
             &lt;<b>jsimpledb:exclude-filter</b> type="regex" expression="com\.example\.myapp\.test\..*"/&gt;
         &lt;/<b>jsimpledb:scan-classes</b>&gt;

         &lt;!-- We have some custom FieldType's here too --&gt;
         &lt;<b>jsimpledb:scan-field-types</b> base-package="com.example.myapp.fieldtype"/&gt;
     &lt;/<b>jsimpledb:jsimpledb</b>&gt;

     &lt;!-- Create a JSimpleDB transaction manager --&gt;
     &lt;bean id="transactionManager" class="org.jsimpledb.spring.JSimpleDBTransactionManager"
       p:JSimpleDB-ref="jsimpledb" p:allowNewSchema="true"/&gt;

     &lt;!-- Enable @Transactional annotations --&gt;
     &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;

 &lt;/beans&gt;
 </pre></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="http://projects.spring.io/spring-framework/">Spring Framework</a></dd></dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jsimpledb/schema/package-summary.html">Prev Package</a></li>
<li><a href="../../../org/jsimpledb/tuple/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jsimpledb/spring/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
