<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>RaftKVTransaction (Java Class Library API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RaftKVTransaction (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RaftKVTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jsimpledb/kv/raft/RaftKVDatabase.html" title="class in org.jsimpledb.kv.raft"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jsimpledb/kv/raft/Timestamp.html" title="class in org.jsimpledb.kv.raft"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jsimpledb/kv/raft/RaftKVTransaction.html" target="_top">Frames</a></li>
<li><a href="RaftKVTransaction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jsimpledb.kv.raft</div>
<h2 title="Class RaftKVTransaction" class="title">Class RaftKVTransaction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html" title="class in org.jsimpledb.kv.util">org.jsimpledb.kv.util.ForwardingKVStore</a></li>
<li>
<ul class="inheritance">
<li>org.jsimpledb.kv.raft.RaftKVTransaction</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv">KVStore</a>, <a href="../../../../org/jsimpledb/kv/KVTransaction.html" title="interface in org.jsimpledb.kv">KVTransaction</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.28">RaftKVTransaction</a>
extends <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html" title="class in org.jsimpledb.kv.util">ForwardingKVStore</a>
implements <a href="../../../../org/jsimpledb/kv/KVTransaction.html" title="interface in org.jsimpledb.kv">KVTransaction</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block"><a href="../../../../org/jsimpledb/kv/raft/RaftKVDatabase.html" title="class in org.jsimpledb.kv.raft"><code>RaftKVDatabase</code></a> transaction.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#commit()">commit</a></strong>()</code>
<div class="block">Commit this transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#configChange(java.lang.String, java.lang.String)">configChange</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity,
                        <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;address)</code>
<div class="block">Include a cluster configuration change when this transaction is committed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv">KVStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#delegate()">delegate</a></strong>()</code>
<div class="block">Get the underlying <a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv"><code>KVStore</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#finalize()">finalize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#getBaseIndex()">getBaseIndex</a></strong>()</code>
<div class="block">Get the index of the log entry on which this transaction is based.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#getBaseTerm()">getBaseTerm</a></strong>()</code>
<div class="block">Get the term of the log entry on which this transaction is based.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jsimpledb/kv/raft/RaftKVDatabase.html" title="class in org.jsimpledb.kv.raft">RaftKVDatabase</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#getKVDatabase()">getKVDatabase</a></strong>()</code>
<div class="block">Get the <a href="../../../../org/jsimpledb/kv/KVDatabase.html" title="interface in org.jsimpledb.kv"><code>KVDatabase</code></a> with which this instance is associated.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#isReadOnlySnapshot()">isReadOnlySnapshot</a></strong>()</code>
<div class="block">Determine whether this instance is configured for read-only, snapshot isolation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#rollback()">rollback</a></strong>()</code>
<div class="block">Cancel this transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#setReadOnlySnapshot(boolean)">setReadOnlySnapshot</a></strong>(boolean&nbsp;readOnlySnapshot)</code>
<div class="block">Configure whether to reduce the isolation guarantees for this transaction from linearizable consistency
 to read-only, "stale snapshot" consistency (technically, serializable consistency).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#setTimeout(long)">setTimeout</a></strong>(long&nbsp;timeout)</code>
<div class="block">Set the commit timeout for this instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.jsimpledb.kv.util.ForwardingKVStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jsimpledb.kv.util.<a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html" title="class in org.jsimpledb.kv.util">ForwardingKVStore</a></h3>
<code><a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#adjustCounter(byte[], long)">adjustCounter</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#decodeCounter(byte[])">decodeCounter</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#encodeCounter(long)">encodeCounter</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#get(byte[])">get</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#getAtLeast(byte[])">getAtLeast</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#getAtMost(byte[])">getAtMost</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#getRange(byte[], byte[], boolean)">getRange</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#put(byte[], byte[])">put</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#remove(byte[])">remove</a>, <a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#removeRange(byte[], byte[])">removeRange</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.jsimpledb.kv.KVStore">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.jsimpledb.kv.<a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv">KVStore</a></h3>
<code><a href="../../../../org/jsimpledb/kv/KVStore.html#adjustCounter(byte[], long)">adjustCounter</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#decodeCounter(byte[])">decodeCounter</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#encodeCounter(long)">encodeCounter</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#get(byte[])">get</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#getAtLeast(byte[])">getAtLeast</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#getAtMost(byte[])">getAtMost</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#getRange(byte[], byte[], boolean)">getRange</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#put(byte[], byte[])">put</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#remove(byte[])">remove</a>, <a href="../../../../org/jsimpledb/kv/KVStore.html#removeRange(byte[], byte[])">removeRange</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBaseTerm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseTerm</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.75">getBaseTerm</a>()</pre>
<div class="block">Get the term of the log entry on which this transaction is based.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>associated base log term</dd></dl>
</li>
</ul>
<a name="getBaseIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseIndex</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.84">getBaseIndex</a>()</pre>
<div class="block">Get the index of the log entry on which this transaction is based.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>associated base log index</dd></dl>
</li>
</ul>
<a name="setReadOnlySnapshot(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnlySnapshot</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.112">setReadOnlySnapshot</a>(boolean&nbsp;readOnlySnapshot)</pre>
<div class="block">Configure whether to reduce the isolation guarantees for this transaction from linearizable consistency
 to read-only, "stale snapshot" consistency (technically, serializable consistency).

 <p>
 If so configured, this transaction guarantees a consistent, read-only view of the database as it existed
 at some point in the "recent past". The view is not guaranteed to be up-to-date; it's only guaranteed
 to be as up-to-date as is known to this node when the transaction was opened. For example, it will be
 at least as up to date as the most recently committed normal (linearizable) transaction on this node.
 However, in general (for example, if stuck in a network partition minority), the snapshot could be arbitrarily
 far in the past.

 <p>
 This setting may be modified freely during a transaction; it only determines behavior at <a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#commit()"><code>commit()</code></a> time.
 If set:
  <ul>
  <li>The transaction will be read-only: modifications will be allowed (and reflected in subsequent reads),
      but they will be discarded on <a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#commit()"><code>commit()</code></a>.</li>
  <li>The <a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#commit()"><code>commit()</code></a> operation will be faster, and possibly not require any network traffic at all.</li>
  </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>readOnlySnapshot</code> - true for snapshot isolation, false for normal linearizable ACID semantics</dd><dt><span class="strong">See Also:</span></dt><dd><a href="https://aphyr.com/posts/313-strong-consistency-models">Strong consistency models</a></dd></dl>
</li>
</ul>
<a name="isReadOnlySnapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnlySnapshot</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.122">isReadOnlySnapshot</a>()</pre>
<div class="block">Determine whether this instance is configured for read-only, snapshot isolation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this instance is configured for snapshot isolation</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#setReadOnlySnapshot(boolean)"><code>setReadOnlySnapshot(boolean)</code></a></dd></dl>
</li>
</ul>
<a name="configChange(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configChange</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.154">configChange</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;identity,
                <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;address)</pre>
<div class="block">Include a cluster configuration change when this transaction is committed.

 <p>
 The change will have been applied once this transaction is successfully committed.

 <p>
 Raft supports configuration changes that add or remove one node at a time to/from the cluster.
 If this method is invoked more than once in a single transaction, all but the last invocation are ignored.

 <p>
 Initially, nodes are <i>unconfigured</i>. An unconfigured node becomes configured in one of two ways:
 <ul>
  <li>By receiving a message from a leader of some existing cluster, in which case the node joins that cluster
      based on the provided configuration; or</li>
  <li>By this method being invoked with <code>identity</code> equal to this node's identity and a non-null <code>address</code>,
      which creates a new cluster and adds this node to it.</li>
 </ul>

 <p>
 Therefore, this method must be used to intialize a new cluster.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>identity</code> - the identity of the node to add or remove</dd><dd><code>address</code> - the network address of the node if adding, or null if removing</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>identity</code> is null</dd></dl>
</li>
</ul>
<a name="delegate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delegate</h4>
<pre>protected&nbsp;<a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv">KVStore</a>&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.168">delegate</a>()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#delegate()">ForwardingKVStore</a></code></strong></div>
<div class="block">Get the underlying <a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv"><code>KVStore</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html#delegate()">delegate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/jsimpledb/kv/util/ForwardingKVStore.html" title="class in org.jsimpledb.kv.util">ForwardingKVStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>underlying <a href="../../../../org/jsimpledb/kv/KVStore.html" title="interface in org.jsimpledb.kv"><code>KVStore</code></a></dd></dl>
</li>
</ul>
<a name="getKVDatabase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKVDatabase</h4>
<pre>public&nbsp;<a href="../../../../org/jsimpledb/kv/raft/RaftKVDatabase.html" title="class in org.jsimpledb.kv.raft">RaftKVDatabase</a>&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.177">getKVDatabase</a>()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#getKVDatabase()">KVTransaction</a></code></strong></div>
<div class="block">Get the <a href="../../../../org/jsimpledb/kv/KVDatabase.html" title="interface in org.jsimpledb.kv"><code>KVDatabase</code></a> with which this instance is associated.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#getKVDatabase()">getKVDatabase</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html" title="interface in org.jsimpledb.kv">KVTransaction</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>associated database</dd></dl>
</li>
</ul>
<a name="setTimeout(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.196">setTimeout</a>(long&nbsp;timeout)</pre>
<div class="block">Set the commit timeout for this instance.

 <p>
 <a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html" title="class in org.jsimpledb.kv.raft"><code>RaftKVTransaction</code></a>s do not block while the transaction is open; the configured value is used
 as a timeout for the <a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#commit()"><code>commit()</code></a> operation only. If <a href="../../../../org/jsimpledb/kv/raft/RaftKVTransaction.html#commit()"><code>commit()</code></a> takes longer than <code>timeout</code>
 milliseconds, a <a href="../../../../org/jsimpledb/kv/RetryTransactionException.html" title="class in org.jsimpledb.kv"><code>RetryTransactionException</code></a> is thrown.

 <p>
 The default value for all transactions is configured by <a href="../../../../org/jsimpledb/kv/raft/RaftKVDatabase.html#setCommitTimeout(int)"><code>RaftKVDatabase.setCommitTimeout(int)</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#setTimeout(long)">setTimeout</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html" title="interface in org.jsimpledb.kv">KVTransaction</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - transaction commit timeout in milliseconds, or zero for unlimited</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>timeout</code> is negative</dd></dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.203">commit</a>()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#commit()">KVTransaction</a></code></strong></div>
<div class="block">Commit this transaction.

 <p>
 Note that if this method throws a <a href="../../../../org/jsimpledb/kv/RetryTransactionException.html" title="class in org.jsimpledb.kv"><code>RetryTransactionException</code></a>,
 the transaction was either successfully committed or rolled back. In either case,
 this instance is no longer usable.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#commit()">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html" title="interface in org.jsimpledb.kv">KVTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.208">rollback</a>()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#rollback()">KVTransaction</a></code></strong></div>
<div class="block">Cancel this transaction.

 <p>
 After this method returns, this instance is no longer usable.

 <p>
 This method may be invoked at any time, even after a previous invocation of
 <a href="../../../../org/jsimpledb/kv/KVTransaction.html#commit()"><code>KVTransaction.commit()</code></a> or <a href="../../../../org/jsimpledb/kv/KVTransaction.html#rollback()"><code>KVTransaction.rollback()</code></a>, in which case the invocation will be ignored.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/jsimpledb/kv/KVTransaction.html#rollback()">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/jsimpledb/kv/KVTransaction.html" title="interface in org.jsimpledb.kv">KVTransaction</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.272">close</a>()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.279">toString</a>()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="finalize()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/jsimpledb/kv/raft/RaftKVTransaction.html#line.291">finalize</a>()
                 throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RaftKVTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jsimpledb/kv/raft/RaftKVDatabase.html" title="class in org.jsimpledb.kv.raft"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jsimpledb/kv/raft/Timestamp.html" title="class in org.jsimpledb.kv.raft"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jsimpledb/kv/raft/RaftKVTransaction.html" target="_top">Frames</a></li>
<li><a href="RaftKVTransaction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
